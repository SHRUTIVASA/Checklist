/*! For license information please see main.25b12ba2.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=a.apply(null,n);s&&e.push(s)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,a,i,s,o){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,s,o],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,n);null!=t&&(a=t)}})),a}))};var r,a=n(54),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,a,i,s){var o=a||"<<anonymous>>",u=s||r;if(null==n[r])return t?new Error("Required "+i+" `"+u+"` was not specified in `"+o+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,o,i,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),a=n(296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var u="\n"+a[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case _:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Se=null;function _e(e){if(e=ka(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=ba(t),we(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function je(e,t){return e(t)}function Ie(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return je(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Se)&&(Ie(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ba(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function De(e,t,n,r,a,i,s,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,a,i,s,o,u){Le=!1,Me=null,De.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return We(a),e;if(s===r)return We(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,r=s;break}if(u===r){o=!0,r=a,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=a;break}if(u===r){o=!0,r=s,n=a;break}u=u.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,$e=a.unstable_requestPaint,Xe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ut|0)|0},ot=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=ft(o):0!==(i&=s)&&(r=ft(i))}else 0!==(s=n&~a)?r=ft(s):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var kt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,St,_t,Tt=!1,Ct=[],jt=null,It=null,Nt=null,Pt=new Map,At=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ka(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=ya(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ka(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),Pt.forEach(Ut),At.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Bt(jt,e),null!==It&&Bt(It,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Ht=x.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var a=kt,i=Ht.transition;Ht.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=a,Ht.transition=i}}function Kt(e,t,n,r){var a=kt,i=Ht.transition;Ht.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=a,Ht.transition=i}}function Gt(e,t,n,r){if(Wt){var a=Yt(e,t,n,r);if(null===a)Wr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return jt=Lt(jt,e,t,n,r,a),!0;case"dragenter":return It=Lt(It,e,t,n,r,a),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pt.set(i,Lt(Pt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,At.set(i,Lt(At.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var i=ka(a);if(null!==i&&bt(i),null===(i=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=ya(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),dn=an(fn),hn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,on=e.screenY-un.screenY):on=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(hn),vn=an(M({},hn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),xn=an(M({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var Tn=M({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),jn=an(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Pn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Dn,Mn=l&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(xa(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!f.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=lr(n,i);var s=lr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=_r("animationend"),Cr=_r("animationiteration"),jr=_r("animationstart"),Ir=_r("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(jr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(i(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&a.isPropagationStopped())break e;Mr(a,o,c),i=u}else for(s=0;s<r.length;s++){if(u=(o=r[s]).instance,c=o.currentTarget,o=o.listener,u!==i&&a.isPropagationStopped())break e;Mr(a,o,c),i=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[va];void 0===n&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var a=qt;break;case 4:a=Kt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ya(o)))return;if(5===(u=s.tag)||6===u){r=i=s;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=i,a=be(n),s=[];e:{var o=Nr.get(e);if(void 0!==o){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Tr:case Cr:case jr:u=gn;break;case Ir:u=Nn;break;case"scroll":u=dn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=jn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==o?o+"Capture":null:o;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ae(p,d))&&l.push(qr(p,v,h)))),f)break;p=p.return}0<l.length&&(o=new u(o,c,null,n,a),s.push({event:o,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(u||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=jn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?o:xa(u),h=null==c?o:xa(c),(o=new l(v,p+"leave",u,n,a)).target=f,o.relatedTarget=h,v=null,ya(a)===r&&((l=new l(d,p+"enter",c,n,a)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==u&&Qr(s,o,u,l,!1),null!==c&&null!==f&&Qr(s,f,c,l,!0)}if("select"===(u=(o=r?xa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var m=$n;else if(Wn(o))if(Xn)m=sr;else{m=ar;var g=rr}else(u=o.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ir);switch(m&&(m=m(e,r))?qn(s,m,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?xa(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,xr(s,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(s,n,a)}var y;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(y=en()):(Jt="value"in(Xt=a)?Xt.value:Xt.textContent,zn=!0)),0<(g=Kr(r,k)).length&&(k=new xn(k,e,null,n,a),s.push({event:k,listeners:g}),y?k.data=y:null!==(y=Bn(n))&&(k.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=y))}Fr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ae(e,n))&&r.unshift(qr(e,i,a)),null!=(i=Ae(e,t))&&r.push(qr(e,i,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(null!==u&&u===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(u=Ae(n,i))&&s.unshift(qr(n,u,o)):a||null!=(u=Ae(n,i))&&s.push(qr(n,u,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),da="__reactFiber$"+fa,ha="__reactProps$"+fa,pa="__reactContainer$"+fa,va="__reactEvents$"+fa,ma="__reactListeners$"+fa,ga="__reactHandles$"+fa;function ya(e){var t=e[da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[da]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=la(e);null!==e;){if(n=e[da])return n;e=la(e)}return t}n=(e=n).parentNode}return null}function ka(e){return!(e=e[da]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ba(e){return e[ha]||null}var wa=[],Ea=-1;function Sa(e){return{current:e}}function _a(e){0>Ea||(e.current=wa[Ea],wa[Ea]=null,Ea--)}function Ta(e,t){Ea++,wa[Ea]=e.current,e.current=t}var Ca={},ja=Sa(Ca),Ia=Sa(!1),Na=Ca;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Aa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){_a(Ia),_a(ja)}function Oa(e,t,n){if(ja.current!==Ca)throw Error(i(168));Ta(ja,t),Ta(Ia,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return M({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Na=ja.current,Ta(ja,e),Ta(Ia,Ia.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Da(e,t,Na),r.__reactInternalMemoizedMergedChildContext=e,_a(Ia),_a(ja),Ta(ja,e)):_a(Ia),Ta(Ia,n)}var Fa=null,Ua=!1,Va=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function za(){if(!Va&&null!==Fa){Va=!0;var e=0,t=kt;try{var n=Fa;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ua=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ge(Ze,za),a}finally{kt=t,Va=!1}}return null}var Ha=[],Wa=0,qa=null,Ka=0,Ga=[],Qa=0,Ya=null,$a=1,Xa="";function Ja(e,t){Ha[Wa++]=Ka,Ha[Wa++]=qa,qa=e,Ka=t}function Za(e,t,n){Ga[Qa++]=$a,Ga[Qa++]=Xa,Ga[Qa++]=Ya,Ya=e;var r=$a;e=Xa;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,$a=1<<32-st(t)+a|n<<a|r,Xa=i+e}else $a=1<<i|n<<a|r,Xa=e}function ei(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ti(e){for(;e===qa;)qa=Ha[--Wa],Ha[Wa]=null,Ka=Ha[--Wa],Ha[Wa]=null;for(;e===Ya;)Ya=Ga[--Qa],Ga[Qa]=null,Xa=Ga[--Qa],Ga[Qa]=null,$a=Ga[--Qa],Ga[Qa]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:$a,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(ui(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function li(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function fi(e){if(e!==ni)return!1;if(!ai)return li(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(ui(e))throw di(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(li(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=ca(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var vi=x.ReactCurrentBatchConfig;function mi(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=Sa(null),yi=null,ki=null,xi=null;function bi(){xi=ki=yi=null}function wi(e){var t=gi.current;_a(gi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t){yi=e,xi=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===yi)throw Error(i(308));ki=e,yi.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ti=null;function Ci(e){null===Ti?Ti=[e]:Ti.push(e)}function ji(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ci(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ni=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ii(e,n)}return null===(a=r.interleaved)?(t.next=t,Ci(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ii(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mi(e,t,n,r){var a=e.updateQueue;Ni=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var u=o,c=u.next;u.next=null,null===s?i=c:s.next=c,s=u;var l=e.alternate;null!==l&&((o=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===o?l.firstBaseUpdate=c:o.next=c,l.lastBaseUpdate=u))}if(null!==i){var f=a.baseState;for(s=0,l=c=u=null,o=i;;){var d=o.lane,h=o.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=M({},f,d);break e;case 2:Ni=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,s|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===l&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Mu|=s,e.lanes=s,e.memoizedState=f}}function Fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Ui=(new r.Component).refs;function Vi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bi={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),i=Ri(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oi(e,i,a))&&(rc(t,e,a,r),Di(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),i=Ri(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oi(e,i,a))&&(rc(t,e,a,r),Di(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Ri(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Oi(e,a,r))&&(rc(t,e,r,n),Di(t,e,r))}};function zi(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,i))}function Hi(e,t,n){var r=!1,a=Ca,i=t.contextType;return"object"===typeof i&&null!==i?i=_i(i):(a=Aa(t)?Na:ja.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Ca),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function qi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Ui,Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=_i(i):(i=Aa(t)?Na:ja.current,a.context=Pa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Vi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Bi.enqueueReplaceState(a,a.state,null),Mi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ki(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;t===Ui&&(t=a.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qi(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&Qi(i)===t.type)?((r=a(t,n.props)).ref=Ki(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ki(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ki(e,null,t),n.return=e,n;case w:return(t=Uc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Gi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?l(e,t,n,r):null;case A:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:f(e,t,n,r,null);Gi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,a,null);Gi(t,r)}return null}function v(a,i,o,u){for(var c=null,l=null,f=i,v=i=0,m=null;null!==f&&v<o.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(a,f,o[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(a,f),i=s(g,i,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===o.length)return n(a,f),ai&&Ja(a,v),c;if(null===f){for(;v<o.length;v++)null!==(f=d(a,o[v],u))&&(i=s(f,i,v),null===l?c=f:l.sibling=f,l=f);return ai&&Ja(a,v),c}for(f=r(a,f);v<o.length;v++)null!==(m=p(f,a,v,o[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),i=s(m,i,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),ai&&Ja(a,v),c}function m(a,o,u,c){var l=D(u);if("function"!==typeof l)throw Error(i(150));if(null==(u=l.call(u)))throw Error(i(151));for(var f=l=null,v=o,m=o=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=h(a,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(a,v),o=s(k,o,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(a,v),ai&&Ja(a,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(a,y.value,c))&&(o=s(y,o,m),null===f?l=y:f.sibling=y,f=y);return ai&&Ja(a,m),l}for(v=r(a,v);!y.done;m++,y=u.next())null!==(y=p(v,a,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),o=s(y,o,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(a,e)})),ai&&Ja(a,m),l}return function e(r,i,s,u){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var c=s.key,l=i;null!==l;){if(l.key===c){if((c=s.type)===E){if(7===l.tag){n(r,l.sibling),(i=a(l,s.props.children)).return=r,r=i;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qi(c)===l.type){n(r,l.sibling),(i=a(l,s.props)).ref=Ki(r,l,s),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===E?((i=Lc(s.props.children,r.mode,u,s.key)).return=r,r=i):((u=Dc(s.type,s.key,s.props,null,r.mode,u)).ref=Ki(r,i,s),u.return=r,r=u)}return o(r);case w:e:{for(l=s.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uc(s,r.mode,u)).return=r,r=i}return o(r);case A:return e(r,i,(l=s._init)(s._payload),u)}if(te(s))return v(r,i,s,u);if(D(s))return m(r,i,s,u);Gi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Fc(s,r.mode,u)).return=r,r=i),o(r)):n(r,i)}}var $i=Yi(!0),Xi=Yi(!1),Ji={},Zi=Sa(Ji),es=Sa(Ji),ts=Sa(Ji);function ns(e){if(e===Ji)throw Error(i(174));return e}function rs(e,t){switch(Ta(ts,t),Ta(es,e),Ta(Zi,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Zi),Ta(Zi,t)}function as(){_a(Zi),_a(es),_a(ts)}function is(e){ns(ts.current);var t=ns(Zi.current),n=ue(t,e.type);t!==n&&(Ta(es,e),Ta(Zi,n))}function ss(e){es.current===e&&(_a(Zi),_a(es))}var os=Sa(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ls(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var fs=x.ReactCurrentDispatcher,ds=x.ReactCurrentBatchConfig,hs=0,ps=null,vs=null,ms=null,gs=!1,ys=!1,ks=0,xs=0;function bs(){throw Error(i(321))}function ws(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Es(e,t,n,r,a,s){if(hs=s,ps=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=null===e||null===e.memoizedState?so:oo,e=n(r,a),ys){s=0;do{if(ys=!1,ks=0,25<=s)throw Error(i(301));s+=1,ms=vs=null,t.updateQueue=null,fs.current=uo,e=n(r,a)}while(ys)}if(fs.current=io,t=null!==vs&&null!==vs.next,hs=0,ms=vs=ps=null,gs=!1,t)throw Error(i(300));return e}function Ss(){var e=0!==ks;return ks=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?ps.memoizedState=ms=e:ms=ms.next=e,ms}function Ts(){if(null===vs){var e=ps.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ms?ps.memoizedState:ms.next;if(null!==t)ms=t,vs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?ps.memoizedState=ms=e:ms=ms.next=e}return ms}function Cs(e,t){return"function"===typeof t?t(e):t}function js(e){var t=Ts(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=vs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var u=o=null,c=null,l=s;do{var f=l.lane;if((hs&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,o=r):c=c.next=d,ps.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==s);null===c?o=r:c.next=u,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ps.lanes|=s,Mu|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Is(e){var t=Ts(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(xo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ns(){}function Ps(e,t){var n=ps,r=Ts(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,xo=!0),r=r.queue,Hs(Os.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Fs(9,Rs.bind(null,n,r,a,t),void 0,null),null===Nu)throw Error(i(349));0!==(30&hs)||As(n,t,a)}return a}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,r){t.value=n,t.getSnapshot=r,Ds(t)&&Ls(e)}function Os(e,t,n){return n((function(){Ds(t)&&Ls(e)}))}function Ds(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ls(e){var t=Ii(e,1);null!==t&&rc(t,e,1,-1)}function Ms(e){var t=_s();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ps,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ps.updateQueue)?(t={lastEffect:null,stores:null},ps.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Ts().memoizedState}function Vs(e,t,n,r){var a=_s();ps.flags|=e,a.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var a=Ts();r=void 0===r?null:r;var i=void 0;if(null!==vs){var s=vs.memoizedState;if(i=s.destroy,null!==r&&ws(r,s.deps))return void(a.memoizedState=Fs(t,n,i,r))}ps.flags|=e,a.memoizedState=Fs(1|t,n,i,r)}function zs(e,t){return Vs(8390656,8,e,t)}function Hs(e,t){return Bs(2048,8,e,t)}function Ws(e,t){return Bs(4,2,e,t)}function qs(e,t){return Bs(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ws(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&hs)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=vt(),ps.lanes|=n,Mu|=n,e.baseState=!0),t)}function Js(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ds.transition;ds.transition={};try{e(!1),t()}finally{kt=n,ds.transition=r}}function Zs(){return Ts().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=ji(e,t,n,r))){rc(n,e,r,tc()),ao(n,t,r)}}function to(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var u=t.interleaved;return null===u?(a.next=a,Ci(t)):(a.next=u.next,u.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=ji(e,t,a,r))&&(rc(n,e,r,a=tc()),ao(n,t,r))}}function no(e){var t=e.alternate;return e===ps||null!==t&&t===ps}function ro(e,t){ys=gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ao(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var io={readContext:_i,useCallback:bs,useContext:bs,useEffect:bs,useImperativeHandle:bs,useInsertionEffect:bs,useLayoutEffect:bs,useMemo:bs,useReducer:bs,useRef:bs,useState:bs,useDebugValue:bs,useDeferredValue:bs,useTransition:bs,useMutableSource:bs,useSyncExternalStore:bs,useId:bs,unstable_isNewReconciler:!1},so={readContext:_i,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:zs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_s();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,ps,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:Ms,useDebugValue:Qs,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Js.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ps,a=_s();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Nu)throw Error(i(349));0!==(30&hs)||As(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,zs(Os.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,Rs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_s(),t=Nu.identifierPrefix;if(ai){var n=Xa;t=":"+t+"R"+(n=($a&~(1<<32-st($a)-1)).toString(32)+n),0<(n=ks++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:_i,useCallback:Ys,useContext:_i,useEffect:Hs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:$s,useReducer:js,useRef:Us,useState:function(){return js(Cs)},useDebugValue:Qs,useDeferredValue:function(e){return Xs(Ts(),vs.memoizedState,e)},useTransition:function(){return[js(Cs)[0],Ts().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ps,useId:Zs,unstable_isNewReconciler:!1},uo={readContext:_i,useCallback:Ys,useContext:_i,useEffect:Hs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:$s,useReducer:Is,useRef:Us,useState:function(){return Is(Cs)},useDebugValue:Qs,useDeferredValue:function(e){var t=Ts();return null===vs?t.memoizedState=e:Xs(t,vs.memoizedState,e)},useTransition:function(){return[Is(Cs)[0],Ts().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ps,useId:Zs,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ri(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Ku=r),fo(0,t)},n}function vo(e,t,n){(n=Ri(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ri(-1,1)).tag=2,Oi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ko=x.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?Xi(t,null,n,r):$i(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var i=t.ref;return Si(t,a),r=Es(e,t,n,r,i,a),n=Ss(),null===e||xo?(ai&&n&&ei(t),t.flags|=1,bo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function Eo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,So(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return qo(e,t,a)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,qo(e,t,a);0!==(131072&e.flags)&&(xo=!0)}}return Co(e,t,n,r,a)}function _o(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ta(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ta(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ta(Ou,Ru),Ru|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ta(Ou,Ru),Ru|=r;return bo(e,t,a,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,a){var i=Aa(n)?Na:ja.current;return i=Pa(t,i),Si(t,a),n=Es(e,t,n,r,i,a),r=Ss(),null===e||xo?(ai&&r&&ei(t),t.flags|=1,bo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function jo(e,t,n,r,a){if(Aa(n)){var i=!0;La(t)}else i=!1;if(Si(t,a),null===t.stateNode)Wo(e,t),Hi(t,n,r),qi(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var u=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=_i(c):c=Pa(t,c=Aa(n)?Na:ja.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;f||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||u!==c)&&Wi(t,s,r,c),Ni=!1;var d=t.memoizedState;s.state=d,Mi(t,r,s,a),u=t.memoizedState,o!==r||d!==u||Ia.current||Ni?("function"===typeof l&&(Vi(t,n,l,r),u=t.memoizedState),(o=Ni||zi(t,n,o,r,d,u,c))?(f||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ai(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:mi(t.type,o),s.props=c,f=t.pendingProps,d=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=_i(u):u=Pa(t,u=Aa(n)?Na:ja.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==f||d!==u)&&Wi(t,s,r,u),Ni=!1,d=t.memoizedState,s.state=d,Mi(t,r,s,a);var p=t.memoizedState;o!==f||d!==p||Ia.current||Ni?("function"===typeof h&&(Vi(t,n,h,r),p=t.memoizedState),(c=Ni||zi(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,i,a)}function Io(e,t,n,r,a,i){To(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ma(t,n,!1),qo(e,t,i);r=t.stateNode,ko.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,o,i)):bo(e,t,o,i),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),rs(e,t.containerInfo)}function Po(e,t,n,r,a){return hi(),pi(a),t.flags|=256,bo(e,t,n,r),t.child}var Ao,Ro,Oo,Do,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,a=t.pendingProps,s=os.current,o=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ta(os,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=a.children,e=a.fallback,o?(a=t.mode,o=t.child,u={mode:"hidden",children:u},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=u):o=Mc(u,a,0,null),e=Lc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Uo(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=lo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Mc({mode:"visible",children:r.children},a,0,null),(s=Lc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&$i(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,s);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var u=r.dgst;return r=u,Vo(e,t,o,r=lo(s=Error(i(419)),r,void 0))}if(u=0!==(o&e.childLanes),xo||u){if(null!==(r=Nu)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ii(e,a),rc(r,e,a,-1))}return mc(),Vo(e,t,o,r=lo(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ga[Qa++]=$a,Ga[Qa++]=Xa,Ga[Qa++]=Ya,$a=e.id,Xa=e.overflow,Ya=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,u,a,r,s,n);if(o){o=a.fallback,u=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&u)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Oc(r,o):(o=Lc(o,u,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,u=null===(u=e.child.memoizedState)?Mo(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,a}return e=(o=e.child).sibling,a=Oc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Uo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&pi(r),$i(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function zo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Ho(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ta(os,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===us(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zo(t,!0,n,null,i);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Aa(t.type)&&Ra(),Go(t),null;case 3:return r=t.stateNode,as(),_a(Ia),_a(ja),ls(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ro(e,t),Go(t),null;case 5:ss(t);var a=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=ns(Zi.current),fi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[da]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Ur(Dr[a],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ae(r,s),Ur("invalid",r)}for(var u in ye(n,s),a=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[da]=t,e[ha]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),a=r;break;case"iframe":case"object":case"embed":Ur("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Ur(Dr[a],e);a=r;break;case"source":Ur("error",e),a=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),a=r;break;case"details":Ur("toggle",e),a=r;break;case"input":$(e,r),a=Y(e,r),Ur("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Ur("invalid",e)}for(s in ye(n,a),c=a)if(c.hasOwnProperty(s)){var l=c[s];"style"===s?me(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Ur("scroll",e):null!=l&&k(e,s,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ns(ts.current),ns(Zi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[da]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[da]=t,t.stateNode=r}return Go(t),null;case 13:if(_a(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),hi(),t.flags|=98560,s=!1;else if(s=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[da]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==ii&&(oc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Du&&(Du=3):mc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return as(),Ro(e,t),null===e&&zr(t.stateNode.containerInfo),Go(t),null;case 10:return wi(t.type._context),Go(t),null;case 19:if(_a(os),null===(s=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(u=s.rendering))if(r)Ko(s,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=us(e))){for(t.flags|=128,Ko(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ta(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Hu&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!ai)return Go(t),null}else 2*Xe()-s.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=os.current,Ta(os,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Yo(e,t){switch(ti(t),t.tag){case 1:return Aa(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return as(),_a(Ia),_a(ja),ls(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(_a(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(os),null;case 4:return as(),null;case 10:return wi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Oo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ns(Zi.current);var i,s=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),s=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var u=a[l];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(o.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),s||u===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tu(t,n,i)}a=a.next}while(a!==r)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[da],delete t[ha],delete t[va],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Xo||eu(n,t);case 6:var r=fu,a=du;fu=null,hu(e,t,n),du=a,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),zt(e)):ua(fu,n.stateNode));break;case 4:r=fu,a=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=a;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&tu(n,t,s),a=a.next}while(a!==r)}hu(e,t,n);break;case 1:if(!Xo&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hu(e,t,n),Xo=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,u=o;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(i(160));pu(s,o,a),fu=null,du=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(l){_c(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),au(3,e)}catch(m){_c(e,e.return,m)}try{ru(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===s.type&&null!=s.name&&X(a,s),ke(u,o);var l=ke(u,s);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];"style"===f?me(a,d):"dangerouslySetInnerHTML"===f?fe(a,d):"children"===f?de(a,d):k(a,f,d,l)}switch(u){case"input":J(a,s);break;case"textarea":ie(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(a,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(m){_c(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){_c(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(zu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(l=Xo)||f,mu(t,e),Xo=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zo=e,f=e.child;null!==f;){for(d=Zo=f;null!==Zo;){switch(p=(h=Zo).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){wu(d);continue}}null!==p?(p.return=h,Zo=p):wu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{a=d.stateNode,l?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",o))}catch(m){_c(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),lu(e,uu(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;cu(e,uu(e),s);break;default:throw Error(i(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zo=e,xu(e,t,n)}function xu(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var a=Zo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||$o;if(!s){var o=a.alternate,u=null!==o&&null!==o.memoizedState||Xo;o=$o;var c=Xo;if($o=s,(Xo=u)&&!c)for(Zo=a;null!==Zo;)u=(s=Zo).child,22===s.tag&&null!==s.memoizedState?Eu(a):null!==u?(u.return=s,Zo=u):Eu(a);for(;null!==i;)Zo=i,xu(i,t,n),i=i.sibling;Zo=a,$o=o,Xo=c}bu(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zo=i):bu(e)}}function bu(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:mi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fi(t,o,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&iu(t)}catch(h){_c(t,t.return,h)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function wu(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Eu(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){_c(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(u){_c(t,a,u)}}var i=t.return;try{iu(t)}catch(u){_c(t,i,u)}break;case 5:var s=t.return;try{iu(t)}catch(u){_c(t,s,u)}}}catch(u){_c(t,t.return,u)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Su,_u=Math.ceil,Tu=x.ReactCurrentDispatcher,Cu=x.ReactCurrentOwner,ju=x.ReactCurrentBatchConfig,Iu=0,Nu=null,Pu=null,Au=0,Ru=0,Ou=Sa(0),Du=0,Lu=null,Mu=0,Fu=0,Uu=0,Vu=null,Bu=null,zu=0,Hu=1/0,Wu=null,qu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Iu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Au?Au&-Au:null!==vi.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(i(185));gt(e,n,r),0!==(2&Iu)&&e===Nu||(e===Nu&&(0===(2&Iu)&&(Fu|=n),4===Du&&uc(e,Au)),ac(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Hu=Xe()+500,Ua&&za()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,u=a[s];-1===u?0!==(o&n)&&0===(o&r)||(a[s]=ht(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Nu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ua=!0,Ba(e)}(cc.bind(null,e)):Ba(cc.bind(null,e)),sa((function(){0===(6&Iu)&&za()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,ec=0,0!==(6&Iu))throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Nu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Iu;Iu|=2;var s=vc();for(Nu===e&&Au===t||(Wu=null,Hu=Xe()+500,hc(e,t));;)try{kc();break}catch(u){pc(e,u)}bi(),Tu.current=s,Iu=a,null!==Pu?t=0:(Nu=null,Au=0,t=Du)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Lu,hc(e,0),uc(e,r),ac(e,Xe()),n;if(6===t)uc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Lu,hc(e,0),uc(e,r),ac(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Bu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Bu,Wu),t);break}wc(e,Bu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Bu,Wu),r);break}wc(e,Bu,Wu);break;default:throw Error(i(329))}}}return ac(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bu,Bu=n,null!==t&&oc(t)),e}function oc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Iu))throw Error(i(327));Ec();var t=dt(e,0);if(0===(1&t))return ac(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Lu,hc(e,0),uc(e,t),ac(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bu,Wu),ac(e,Xe()),null}function lc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Hu=Xe()+500,Ua&&za())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Iu)&&Ec();var t=Iu;Iu|=1;var n=ju.transition,r=kt;try{if(ju.transition=null,kt=1,e)return e()}finally{kt=r,ju.transition=n,0===(6&(Iu=t))&&za()}}function dc(){Ru=Ou.current,_a(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:as(),_a(Ia),_a(ja),ls();break;case 5:ss(r);break;case 4:as();break;case 13:case 19:_a(os);break;case 10:wi(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nu=e,Pu=e=Oc(e.current,null),Au=Ru=t,Du=0,Lu=null,Uu=Fu=Mu=0,Bu=Vu=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(r=(n=Ti[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ti=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(bi(),fs.current=io,gs){for(var r=ps.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}gs=!1}if(hs=0,ms=vs=ps=null,ys=!1,ks=0,Cu.current=null,null===n||null===n.return){Du=1,Lu=t,Pu=null;break}e:{var s=e,o=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,u,0,t),1&p.mode&&mo(s,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mo(s,l,t),mc();break e}c=Error(i(426))}else if(ai&&1&u.mode){var g=go(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,u,0,t),pi(co(c,u));break e}}s=c=co(c,u),4!==Du&&(Du=2),null===Vu?Vu=[s]:Vu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Li(s,po(0,c,t));break e;case 1:u=c;var y=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,Li(s,vo(s,u,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(x){t=x,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=io,null===e?io:e}function mc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Nu,Au)}function gc(e,t){var n=Iu;Iu|=2;var r=vc();for(Nu===e&&Au===t||(Wu=null,hc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(bi(),Iu=n,Tu.current=r,null!==Pu)throw Error(i(261));return Nu=null,Au=0,Du}function yc(){for(;null!==Pu;)xc(Pu)}function kc(){for(;null!==Pu&&!Ye();)xc(Pu)}function xc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bc(e):Pu=t,Cu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Ru)))return void(Pu=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Du=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=kt,a=ju.transition;try{ju.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==Yu);if(0!==(6&Iu))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Nu&&(Pu=Nu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=ju.transition,ju.transition=null;var o=kt;kt=1;var u=Iu;Iu|=4,Cu.current=null,function(e,t){if(ea=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break e}var o=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==a&&3!==d.nodeType||(u=o+a),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===a&&(u=o),h===s&&++f===r&&(c=o),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:mi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(b){_c(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ta),Wt=!!ea,ta=ea=null,e.current=n,ku(n,e,a),$e(),Iu=u,kt=o,ju.transition=s}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=a),s=e.pendingLanes,0===s&&(Gu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(qu)throw qu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,za()}(e,t,n,r)}finally{ju.transition=a,kt=r}return null}function Ec(){if(null!==Yu){var e=xt($u),t=ju.transition,n=kt;try{if(ju.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Iu))throw Error(i(331));var a=Iu;for(Iu|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var u=s.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zo=l;null!==Zo;){var f=Zo;switch(f.tag){case 0:case 11:case 15:ru(8,f,s)}var d=f.child;if(null!==d)d.return=f,Zo=d;else for(;null!==Zo;){var h=(f=Zo).sibling,p=f.return;if(su(f),f===l){Zo=null;break}if(null!==h){h.return=p,Zo=h;break}Zo=p}}}var v=s.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zo=y;break e}Zo=s.return}}var k=e.current;for(Zo=k;null!==Zo;){var x=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Zo=x;else e:for(o=k;null!==Zo;){if(0!==(2048&(u=Zo).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(w){_c(u,u.return,w)}if(u===o){Zo=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Zo=b;break e}Zo=u.return}}if(Iu=a,za(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{kt=n,ju.transition=t}}return!1}function Sc(e,t,n){e=Oi(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ac(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oi(t,e=vo(t,e=co(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Au&n)===n&&(4===Du||3===Du&&(130023424&Au)===Au&&500>Xe()-zu?hc(e,0):Uu|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ii(e,t))&&(gt(e,t,n),ac(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Lc(n.children,a,s,t);case S:o=8,a|=8;break;case _:return(e=Ac(12,n,t,2|a)).elementType=_,e.lanes=s,e;case I:return(e=Ac(13,n,t,a)).elementType=I,e.lanes=s,e;case N:return(e=Ac(19,n,t,a)).elementType=N,e.lanes=s,e;case R:return Mc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case C:o=9;break e;case j:o=11;break e;case P:o=14;break e;case A:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,i,s,o,u){return e=new Vc(e,t,n,o,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function zc(e){if(!e)return Ca;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Aa(n))return Da(e,n,t)}return t}function Hc(e,t,n,r,a,i,s,o,u){return(e=Bc(n,r,!0,e,0,i,0,o,u)).context=zc(null),n=e.current,(i=Ri(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Oi(n,i,a),e.current.lanes=a,gt(e,a,r),ac(e,r),e}function Wc(e,t,n,r){var a=t.current,i=tc(),s=nc(a);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ri(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oi(a,t,s))&&(rc(e,a,s,i),Di(e,a,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:No(t),hi();break;case 5:is(t);break;case 1:Aa(t.type)&&La(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ta(gi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ta(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ta(os,1&os.current),null!==(e=qo(e,t,n))?e.sibling:null);Ta(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ta(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return qo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,ai&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Pa(t,ja.current);Si(t,n),a=Es(null,t,r,e,a,n);var s=Ss();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(r)?(s=!0,La(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Pi(t),a.updater=Bi,t.stateNode=a,a._reactInternals=t,qi(t,r,e,n),t=Io(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),bo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===P)return 14}return 2}(r),e=mi(r,e),a){case 0:t=Co(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,mi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 1:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 3:e:{if(No(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Ai(e,t),Mi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Po(e,t,r,n,a=co(Error(i(423)),t));break e}if(r!==a){t=Po(e,t,r,n,a=co(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=qo(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return is(t),null===e&&ci(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),To(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Fo(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:mi(r,a),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ta(gi,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Ia.current){t=qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){o=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ri(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ei(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ei(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Si(t,n),r=r(a=_i(a)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return a=mi(r=t.type,t.pendingProps),Eo(e,t,r,a=mi(r.type,a),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mi(r,a),Wo(e,t),t.tag=1,Aa(r)?(e=!0,La(t)):e=!1,Si(t,n),Hi(t,r,a),qi(t,r,a,n),Io(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return _o(e,t,n)}throw Error(i(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=qc(s);o.call(e)}}Wc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=qc(s);i.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pa]=s.current,zr(8===e.nodeType?e.parentNode:e),fc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=qc(u);o.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pa]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,a,r);return qc(s)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pa]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Xe()),0===(6&Iu)&&(Hu=Xe()+500,za()))}break;case 13:fc((function(){var t=Ii(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ii(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ba(r);if(!a)throw Error(i(90));G(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=lc,Ie=fc;var tl={usingClientEntryPoint:!1,Events:[ka,xa,ba,Te,Ce,lc]},nl={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{at=al.inject(rl),it=al}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,a,0,s,o),e[pa]=t.current,zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=k.prototype=new y;x.constructor=k,v(x,g.prototype),x.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===i[a]&&(i[a]=u[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var u=!1;if(null===e)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===i?"."+j(u,0):i,b(s)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),I(s,t,a,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(u=0,i=""===i?".":i+":",b(e))for(var c=0;c<e.length;c++){var l=i+j(o=e[c],c);u+=I(o,t,a,l,s)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(o=e.next()).done;)u+=I(o=o.value,t,a,l=i+j(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=s,t.PureComponent=k,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];a.children=u}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,u=e[o],c=o+1,l=e[c];if(0>i(u,n))c<a&&0>i(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[o]=n,r=o);else{if(!(c<a&&0>i(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,x(e),!v)if(null!==r(c))v=!0,R(w);else{var t=r(l);null!==t&&O(b,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var i=h;try{for(x(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,h=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&a(c),x(n)}else a(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&O(b,f.startTime-n),u=!1}return u}finally{d=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,T=-1,C=5,j=-1;function I(){return!(t.unstable_now()-j<C)}function N(){if(null!==_){var e=t.unstable_now();j=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof k)E=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=N,E=function(){A.postMessage(null)}}else E=function(){g(N,0)};function R(e){_=e,S||(S=!0,E())}function O(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,O(b,i-s))):(e.sortIndex=o,n(c,e),v||p||(v=!0,R(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){s[e]=function(){return r[e]}}));return s.default=function(){return r},n.d(i,s),i}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Checklist/",function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function a(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||s(e,t)||o()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||c(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(){d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,s=Object.create(i.prototype),o=new A(r||[]);return a(s,"_invoke",{value:j(e,n,o)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function k(){}function x(){}function b(){}var w={};c(w,s,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(R([])));S&&S!==n&&r.call(S,s)&&(w=S);var _=b.prototype=k.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(a,i,s,o){var u=h(e[a],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==f(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,o)}))}o(u.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function j(t,n,r){var a=p;return function(i,s){if(a===m)throw new Error("Generator is already running");if(a===g){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var o=r.delegate;if(o){var u=I(o,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var c=h(t,n,r);if("normal"===c.type){if(a=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=g,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=h(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(f(t)+" is not iterable")}return x.prototype=b,a(_,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:x,configurable:!0}),x.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},T(C.prototype),c(C.prototype,o,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var s=new C(l(e,n,r,a),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(_),c(_,u,"Generator"),c(_,s,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return o.type="throw",o.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function h(e,t,n,r,a,i,s){try{var o=e[i](s),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){h(i,r,a,s,o,"next",e)}function o(e){h(i,r,a,s,o,"throw",e)}s(void 0)}))}}function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function m(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function g(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function x(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function T(e){var t=_();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function C(e,t,n){return C=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&w(a,n.prototype),a},C.apply(null,arguments)}function j(e){var t="function"===typeof Map?new Map:void 0;return j=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return C(e,arguments,S(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)},j(e)}var I=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],a=0;a<e.length;a+=3){var i=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,c=u?e[a+2]:0,l=i>>2,f=(3&i)<<4|o>>4,d=(15&o)<<2|c>>6,h=63&c;u||(h=64,s||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(I(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{var o=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],a=0;a<e.length;){var i=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0,o=++a<e.length?n[e.charAt(a)]:64,u=++a<e.length?n[e.charAt(a)]:64;if(++a,null==i||null==s||null==o||null==u)throw new P;var c=i<<2|s>>4;if(r.push(c),64!==o){var l=s<<4&240|o>>2;if(r.push(l),64!==u){var f=o<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},P=function(e){E(n,e);var t=T(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return x(n)}(j(Error)),A=function(e){return function(e){var t=I(e);return N.encodeByteArray(t,!0)}(e).replace(/\./g,"")},R=function(e){try{return N.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var O=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},D=function(){try{return O()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Checklist",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&R(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},L=function(e){var t,n;return null===(n=null===(t=D())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},M=function(){var e;return null===(e=D())||void 0===e?void 0:e.config},F=function(e){var t;return null===(t=D())||void 0===t?void 0:t["_".concat(e)]},U=function(){function e(){var t=this;y(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return x(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function V(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function B(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function z(){try{return"object"===typeof indexedDB}catch(e){return!1}}function H(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}}))}var W=function(e){E(n,e);var t=T(n);function n(e,r,a){var i;return y(this,n),(i=t.call(this,r)).code=e,i.customData=a,i.name="FirebaseError",Object.setPrototypeOf(b(i),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(i),q.prototype.create),i}return x(n)}(j(Error)),q=function(){function e(t,n,r){y(this,e),this.service=t,this.serviceName=n,this.errors=r}return x(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(K,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new W(n,i,t)}}]),e}();var K=/\{\$([^}]+)}/g;function G(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),a=0,i=n;a<i.length;a++){var s=i[a];if(!r.includes(s))return!1;var o=e[s],u=t[s];if(Y(o)&&Y(u)){if(!Q(o,u))return!1}else if(o!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Y(e){return null!==e&&"object"===typeof e}function $(e){for(var t=[],n=function(){var e=u(a[r],2),n=e[0],i=e[1];Array.isArray(i)?i.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function X(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],a=n[1];t[decodeURIComponent(r)]=decodeURIComponent(a)}})),t}function J(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Z=function(){function e(t,n){var r=this;y(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return x(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=v(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(i){r.e(i)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?r.error(a.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ee(){}var te=1e3,ne=2,re=144e5,ae=.5;function ie(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:te)*Math.pow(t,e),r=Math.round(ae*n*(Math.random()-.5)*2);return Math.min(re,n+r)}function se(e){return e&&e._delegate?e._delegate:e}var oe=function(){function e(t,n,r){y(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return x(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ue="[DEFAULT]",ce=function(){function e(t,n){y(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return x(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new U;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(c){}var t,n=v(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),a=r[0],i=r[1],s=this.normalizeInstanceIdentifier(a);try{var o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,i=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=v(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var o=u(a.value,2),c=o[0],l=o[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(i)}}catch(f){s.e(f)}finally{s.f()}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);var i=this.instances.get(r);return i&&e(i,r),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i(e,t)}catch(s){}}}catch(o){a.e(o)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,a=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ue?void 0:t),options:a}),this.instances.set(n,i),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(s){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.component?this.component.multipleInstances?e:ue:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var le,fe,de=function(){function e(t){y(this,e),this.name=t,this.providers=new Map}return x(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ce(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),he=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fe||(fe={}));var pe={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ve=fe.INFO,me=(g(le={},fe.DEBUG,"log"),g(le,fe.VERBOSE,"log"),g(le,fe.INFO,"info"),g(le,fe.WARN,"warn"),g(le,fe.ERROR,"error"),le),ge=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=me[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a,i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];(a=console)[r].apply(a,["[".concat(n,"]  ").concat(e.name,":")].concat(s))}},ye=function(){function e(t){y(this,e),this.name=t,this._logLevel=ve,this._logHandler=ge,this._userLogHandler=null,he.push(this)}return x(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?pe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.DEBUG].concat(t)),this._logHandler.apply(this,[this,fe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.INFO].concat(t)),this._logHandler.apply(this,[this,fe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.WARN].concat(t)),this._logHandler.apply(this,[this,fe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.ERROR].concat(t)),this._logHandler.apply(this,[this,fe.ERROR].concat(t))}}]),e}();function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be,we,Ee=function(e,t){return t.some((function(t){return e instanceof t}))};var Se=new WeakMap,_e=new WeakMap,Te=new WeakMap,Ce=new WeakMap,je=new WeakMap;var Ie={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _e.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Te.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ae(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ne(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Re(this),n),Ae(Se.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ae(e.apply(Re(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=e.call.apply(e,[Re(this),t].concat(r));return Te.set(i,t.sort?t.sort():[t]),Ae(i)}}function Pe(e){return"function"===typeof e?Ne(e):(e instanceof IDBTransaction&&function(e){if(!_e.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),r()},i=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));_e.set(e,t)}}(e),Ee(e,be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ie):e)}function Ae(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",a),e.removeEventListener("error",i)},a=function(){t(Ae(e.result)),r()},i=function(){n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((function(t){t instanceof IDBCursor&&Se.set(t,e)})).catch((function(){})),je.set(t,e),t}(e);if(Ce.has(e))return Ce.get(e);var t=Pe(e);return t!==e&&(Ce.set(e,t),je.set(t,e)),t}var Re=function(e){return je.get(e)};var Oe,De,Le=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],Fe=new Map;function Ue(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Fe.get(t))return Fe.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=Me.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||Le.includes(n))){var i=function(){var e=p(d().mark((function e(t){var i,s,o,u,c,l,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),o=s.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(o=o.index(c.shift())),e.next=6,Promise.all([(i=o)[n].apply(i,c),a&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Fe.set(t,i),i}}}Ie=function(e){return xe(xe({},e),{},{get:function(t,n,r){return Ue(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ue(t,n)||e.has(t,n)}})}(Ie);var Ve=function(){function e(t){y(this,e),this.container=t}return x(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Be="@firebase/app",ze="0.9.18",He=new ye("@firebase/app"),We="[DEFAULT]",qe=(g(Oe={},Be,"fire-core"),g(Oe,"@firebase/app-compat","fire-core-compat"),g(Oe,"@firebase/analytics","fire-analytics"),g(Oe,"@firebase/analytics-compat","fire-analytics-compat"),g(Oe,"@firebase/app-check","fire-app-check"),g(Oe,"@firebase/app-check-compat","fire-app-check-compat"),g(Oe,"@firebase/auth","fire-auth"),g(Oe,"@firebase/auth-compat","fire-auth-compat"),g(Oe,"@firebase/database","fire-rtdb"),g(Oe,"@firebase/database-compat","fire-rtdb-compat"),g(Oe,"@firebase/functions","fire-fn"),g(Oe,"@firebase/functions-compat","fire-fn-compat"),g(Oe,"@firebase/installations","fire-iid"),g(Oe,"@firebase/installations-compat","fire-iid-compat"),g(Oe,"@firebase/messaging","fire-fcm"),g(Oe,"@firebase/messaging-compat","fire-fcm-compat"),g(Oe,"@firebase/performance","fire-perf"),g(Oe,"@firebase/performance-compat","fire-perf-compat"),g(Oe,"@firebase/remote-config","fire-rc"),g(Oe,"@firebase/remote-config-compat","fire-rc-compat"),g(Oe,"@firebase/storage","fire-gcs"),g(Oe,"@firebase/storage-compat","fire-gcs-compat"),g(Oe,"@firebase/firestore","fire-fst"),g(Oe,"@firebase/firestore-compat","fire-fst-compat"),g(Oe,"fire-js","fire-js"),g(Oe,"firebase","fire-js-all"),Oe),Ke=new Map,Ge=new Map;function Qe(e,t){try{e.container.addComponent(t)}catch(n){He.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ye(e){var t=e.name;if(Ge.has(t))return He.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ge.set(t,e);var n,r=v(Ke.values());try{for(r.s();!(n=r.n()).done;){Qe(n.value,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function $e(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Xe=(g(De={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),g(De,"bad-app-name","Illegal App name: '{$appName}"),g(De,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),g(De,"app-deleted","Firebase App named '{$appName}' already deleted"),g(De,"no-options","Need to provide options, when not being deployed to hosting via source."),g(De,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),g(De,"invalid-log-argument","First argument to `onLog` must be null or a function."),g(De,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),g(De,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),g(De,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),g(De,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),De),Je=new q("app","Firebase",Xe),Ze=function(){function e(t,n,r){var a=this;y(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oe("app",(function(){return a}),"PUBLIC"))}return x(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Je.create("app-deleted",{appName:this._name})}}]),e}(),et="10.3.1";function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:We,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Je.create("bad-app-name",{appName:String(a)});if(n||(n=M()),!n)throw Je.create("no-options");var i=Ke.get(a);if(i){if(Q(n,i.options)&&Q(r,i.config))return i;throw Je.create("duplicate-app",{appName:a})}var s,o=new de(a),u=v(Ge.values());try{for(u.s();!(s=u.n()).done;){var c=s.value;o.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ze(n,r,o);return Ke.set(a,l),l}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=Ke.get(e);if(!t&&e===We&&M())return tt();if(!t)throw Je.create("no-app",{appName:e});return t}function rt(e,t,n){var r,a=null!==(r=qe[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));var i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){var o=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&o.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&o.push("and"),s&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void He.warn(o.join(" "))}Ye(new oe("".concat(a,"-version"),(function(){return{library:a,version:t}}),"VERSION"))}var at="firebase-heartbeat-database",it=1,st="firebase-heartbeat-store",ot=null;function ut(){return ot||(ot=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,a=n.upgrade,i=n.blocking,s=n.terminated,o=indexedDB.open(e,t),u=Ae(o);return a&&o.addEventListener("upgradeneeded",(function(e){a(Ae(o.result),e.oldVersion,e.newVersion,Ae(o.transaction),e)})),r&&o.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){s&&e.addEventListener("close",(function(){return s()})),i&&e.addEventListener("versionchange",(function(e){return i(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(at,it,{upgrade:function(e,t){if(0===t)e.createObjectStore(st)}}).catch((function(e){throw Je.create("idb-open",{originalErrorMessage:e.message})}))),ot}function ct(e){return lt.apply(this,arguments)}function lt(){return lt=p(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut();case 3:return n=e.sent,e.next=6,n.transaction(st).objectStore(st).get(ht(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof W?He.warn(e.t0.message):(a=Je.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),He.warn(a.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),lt.apply(this,arguments)}function ft(e,t){return dt.apply(this,arguments)}function dt(){return dt=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut();case 3:return r=e.sent,a=r.transaction(st,"readwrite"),i=a.objectStore(st),e.next=8,i.put(n,ht(t));case 8:return e.next=10,a.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof W?He.warn(e.t0.message):(s=Je.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),He.warn(s.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),dt.apply(this,arguments)}function ht(e){return"".concat(e.name,"!").concat(e.options.appId)}var pt=function(){function e(t){var n=this;y(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new yt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return x(e,[{key:"triggerHeartbeat",value:function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=p(d().mark((function e(){var t,n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vt(),n=mt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,i=A(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vt(){return(new Date).toISOString().substring(0,10)}function mt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],a=e.slice(),i=v(e);try{var s=function(){var e=t.value,i=r.find((function(t){return t.agent===e.agent}));if(i){if(i.dates.push(e.date),kt(r)>n)return i.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),kt(r)>n)return r.pop(),0;a=a.slice(1)};for(i.s();!(t=i.n()).done&&0!==s(););}catch(o){i.e(o)}finally{i.f()}return{heartbeatsToSend:r,unsentEntries:a}}var gt,yt=function(){function e(t){y(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return x(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",H().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ct(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ft(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ft(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function kt(e){return A(JSON.stringify({version:2,heartbeats:e})).length}gt="",Ye(new oe("platform-logger",(function(e){return new Ve(e)}),"PRIVATE")),Ye(new oe("heartbeat",(function(e){return new pt(e)}),"PRIVATE")),rt(Be,ze,gt),rt(Be,ze,"esm2017"),rt("fire-js","");rt("firebase","10.3.1","app");var xt,bt,wt=function(e,t){return t.some((function(t){return e instanceof t}))};var Et=new WeakMap,St=new WeakMap,_t=new WeakMap,Tt=new WeakMap,Ct=new WeakMap;var jt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return St.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_t.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function It(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bt||(bt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(At(this),n),Pt(Et.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(At(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=e.call.apply(e,[At(this),t].concat(r));return _t.set(i,t.sort?t.sort():[t]),Pt(i)}}function Nt(e){return"function"===typeof e?It(e):(e instanceof IDBTransaction&&function(e){if(!St.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),r()},i=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));St.set(e,t)}}(e),wt(e,xt||(xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,jt):e)}function Pt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",a),e.removeEventListener("error",i)},a=function(){t(Pt(e.result)),r()},i=function(){n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((function(t){t instanceof IDBCursor&&Et.set(t,e)})).catch((function(){})),Ct.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);var t=Nt(e);return t!==e&&(Tt.set(e,t),Ct.set(t,e)),t}var At=function(e){return Ct.get(e)};var Rt,Ot=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Lt=new Map;function Mt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Lt.get(t))return Lt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=Dt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||Ot.includes(n))){var i=function(){var e=p(d().mark((function e(t){var i,s,o,u,c,l,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),o=s.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(o=o.index(c.shift())),e.next=6,Promise.all([(i=o)[n].apply(i,c),a&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Lt.set(t,i),i}}}!function(e){jt=e(jt)}((function(e){return xe(xe({},e),{},{get:function(t,n,r){return Mt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Mt(t,n)||e.has(t,n)}})}));var Ft="@firebase/installations",Ut="0.6.4",Vt=1e4,Bt="w:".concat(Ut),zt="FIS_v2",Ht="https://firebaseinstallations.googleapis.com/v1",Wt=36e5,qt=(g(Rt={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),g(Rt,"not-registered","Firebase Installation is not registered."),g(Rt,"installation-not-found","Firebase Installation not found."),g(Rt,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),g(Rt,"app-offline","Could not process request. Application offline."),g(Rt,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Rt),Kt=new q("installations","Installations",qt);function Gt(e){return e instanceof W&&e.code.includes("request-failed")}function Qt(e){var t=e.projectId;return"".concat(Ht,"/projects/").concat(t,"/installations")}function Yt(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function $t(e,t){return Xt.apply(this,arguments)}function Xt(){return(Xt=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,a=r.error,e.abrupt("return",Kt.create("request-failed",{requestName:t,serverCode:a.code,serverMessage:a.message,serverStatus:a.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zt(e,t){var n=t.refreshToken,r=Jt(e);return r.append("Authorization",function(e){return"".concat(zt," ").concat(e)}(n)),r}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=p(d().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,a=t.heartbeatServiceProvider,i=n.fid,s=Qt(r),o=Jt(r),!(u=a.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&o.append("x-firebase-client",c);case 10:return l={fid:i,authVersion:zt,appId:r.appId,sdkVersion:Bt},f={method:"POST",headers:o,body:JSON.stringify(l)},e.next=14,en((function(){return fetch(s,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return p=e.sent,v={fid:p.fid||i,registrationStatus:2,refreshToken:p.refreshToken,authToken:Yt(p.authToken)},e.abrupt("return",v);case 23:return e.next=25,$t("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e){return new Promise((function(t){setTimeout(t,e)}))}var sn=/^[cdef][\w-]{21}$/,on="";function un(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,l(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return sn.test(t)?t:on}catch(n){return on}}function cn(e){return"".concat(e.appName,"!").concat(e.appId)}var ln=new Map;function fn(e,t){var n=cn(e);dn(n,t),function(e,t){var n=pn();n&&n.postMessage({key:e,fid:t});vn()}(n,t)}function dn(e,t){var n=ln.get(e);if(n){var r,a=v(n);try{for(a.s();!(r=a.n()).done;){(0,r.value)(t)}}catch(i){a.e(i)}finally{a.f()}}}var hn=null;function pn(){return!hn&&"BroadcastChannel"in self&&((hn=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){dn(e.data.key,e.data.fid)}),hn}function vn(){0===ln.size&&hn&&(hn.close(),hn=null)}var mn="firebase-installations-database",gn=1,yn="firebase-installations-store",kn=null;function xn(){return kn||(kn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,a=n.upgrade,i=n.blocking,s=n.terminated,o=indexedDB.open(e,t),u=Pt(o);return a&&o.addEventListener("upgradeneeded",(function(e){a(Pt(o.result),e.oldVersion,e.newVersion,Pt(o.transaction))})),r&&o.addEventListener("blocked",(function(){return r()})),u.then((function(e){s&&e.addEventListener("close",(function(){return s()})),i&&e.addEventListener("versionchange",(function(){return i()}))})).catch((function(){})),u}(mn,gn,{upgrade:function(e,t){if(0===t)e.createObjectStore(yn)}})),kn}function bn(e,t){return wn.apply(this,arguments)}function wn(){return wn=p(d().mark((function e(t,n){var r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cn(t),e.next=3,xn();case 3:return a=e.sent,i=a.transaction(yn,"readwrite"),s=i.objectStore(yn),e.next=8,s.get(r);case 8:return o=e.sent,e.next=11,s.put(n,r);case 11:return e.next=13,i.done;case 13:return o&&o.fid===n.fid||fn(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function En(e){return Sn.apply(this,arguments)}function Sn(){return Sn=p(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cn(t),e.next=3,xn();case 3:return r=e.sent,a=r.transaction(yn,"readwrite"),e.next=7,a.objectStore(yn).delete(n);case 7:return e.next=9,a.done;case 9:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function _n(e,t){return Tn.apply(this,arguments)}function Tn(){return Tn=p(d().mark((function e(t,n){var r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cn(t),e.next=3,xn();case 3:return a=e.sent,i=a.transaction(yn,"readwrite"),s=i.objectStore(yn),e.next=8,s.get(r);case 8:if(o=e.sent,void 0!==(u=n(o))){e.next=15;break}return e.next=13,s.delete(r);case 13:e.next=17;break;case 15:return e.next=17,s.put(u,r);case 17:return e.next=19,i.done;case 19:return!u||o&&o.fid===u.fid||fn(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),Tn.apply(this,arguments)}function Cn(e){return jn.apply(this,arguments)}function jn(){return(jn=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(t.appConfig,(function(e){var r=In(e),a=Nn(t,r);return n=a.registrationPromise,a.installationEntry}));case 2:if((r=e.sent).fid!==on){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e){return Dn(e||{fid:un(),registrationStatus:0})}function Nn(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Kt.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Pn.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:An(e)}:{installationEntry:t}}function Pn(){return(Pn=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nn(t,n);case 3:return r=e.sent,e.abrupt("return",bn(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Gt(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,En(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,bn(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function An(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=p(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,an(100);case 6:return e.next=8,On(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Cn(t);case 14:if(r=e.sent,a=r.installationEntry,!(i=r.registrationPromise)){e.next=21;break}return e.abrupt("return",i);case 21:return e.abrupt("return",a);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e){return _n(e,(function(e){if(!e)throw Kt.create("installation-not-found");return Dn(e)}))}function Dn(e){return 1===(t=e).registrationStatus&&t.registrationTime+Vt<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Ln(e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=p(d().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,a=t.heartbeatServiceProvider,i=Fn(r,n),s=Zt(r,n),!(o=a.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,o.getHeartbeatsHeader();case 7:(u=e.sent)&&s.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:Bt,appId:r.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},e.next=13,en((function(){return fetch(i,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,p=Yt(h),e.abrupt("return",p);case 22:return e.next=24,$t("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t){var n=t.fid;return"".concat(Qt(e),"/").concat(n,"/authTokens:generate")}function Un(e){return Vn.apply(this,arguments)}function Vn(){return Vn=p(d().mark((function e(t){var n,r,a,i,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],e.next=3,_n(t.appConfig,(function(e){if(!Kn(e))throw Kt.create("not-registered");var a=e.authToken;if(!n&&Gn(a))return e;if(1===a.requestStatus)return r=Bn(t,n),e;if(!navigator.onLine)throw Kt.create("app-offline");var i=Qn(e);return r=Wn(t,i),i}));case 3:if(a=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=a.authToken;case 11:return i=e.t0,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function Bn(e,t){return zn.apply(this,arguments)}function zn(){return(zn=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,an(100);case 6:return e.next=8,Hn(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(a=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Un(t,n));case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(e){return _n(e,(function(e){if(!Kn(e))throw Kt.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Vt<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Wn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=p(d().mark((function e(t,n){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln(t,n);case 3:return r=e.sent,a=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,bn(t.appConfig,a);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Gt(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,En(t.appConfig);case 15:e.next=20;break;case 17:return i=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,bn(t.appConfig,i);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Kn(e){return void 0!==e&&2===e.registrationStatus}function Gn(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wt}(e)}function Qn(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Yn(){return(Yn=p(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Cn(n);case 3:return r=e.sent,a=r.installationEntry,(i=r.registrationPromise)?i.catch(console.error):Un(n).catch(console.error),e.abrupt("return",a.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(){return $n=p(d().mark((function e(t){var n,r,a,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.next=4,Xn(r);case 4:return e.next=6,Un(r,n);case 6:return a=e.sent,e.abrupt("return",a.token);case 8:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function Xn(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e){return Kt.create("missing-app-config-values",{valueName:e})}var er,tr="installations",nr=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Zn("App Configuration");if(!e.name)throw Zn("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Zn(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:$e(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},rr=function(e){var t=$e(e.getProvider("app").getImmediate(),tr).getImmediate(),n={getId:function(){return function(e){return Yn.apply(this,arguments)}(t)},getToken:function(e){return function(e){return $n.apply(this,arguments)}(t,e)}};return n};Ye(new oe(tr,nr,"PUBLIC")),Ye(new oe("installations-internal",rr,"PRIVATE")),rt(Ft,Ut),rt(Ft,Ut,"esm2017");var ar="analytics",ir="firebase_id",sr="origin",or=6e4,ur="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cr="https://www.googletagmanager.com/gtag/js",lr=new ye("@firebase/analytics"),fr=(g(er={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),g(er,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),g(er,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),g(er,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),g(er,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),g(er,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),g(er,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),g(er,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),g(er,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),g(er,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),g(er,"no-client-id",'The "client_id" field is empty.'),g(er,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),er),dr=new q("analytics","Analytics",fr);function hr(e){if(!e.startsWith(cr)){var t=dr.create("invalid-gtag-resource",{gtagURL:e});return lr.warn(t.message),""}return e}function pr(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function vr(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:hr}),r=document.createElement("script"),a="".concat(cr,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function mr(e,t,n,r,a,i){return gr.apply(this,arguments)}function gr(){return gr=p(d().mark((function e(t,n,r,a,i,s){var o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a[i],e.prev=1,!o){e.next=7;break}return e.next=5,n[o];case 5:e.next=14;break;case 7:return e.next=9,pr(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===i})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),lr.error(e.t0);case 19:t("config",i,s);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),gr.apply(this,arguments)}function yr(e,t,n,r,a){return kr.apply(this,arguments)}function kr(){return kr=p(d().mark((function e(t,n,r,a,i){var s,o,u,c,l,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=[],!i||!i.send_to){e.next=26;break}return o=i.send_to,Array.isArray(o)||(o=[o]),e.next=7,pr(r);case 7:u=e.sent,c=v(o),e.prev=9,f=d().mark((function e(){var t,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(a=r&&n[r.appId])){e.next=7;break}s.push(a),e.next=9;break;case 7:return s=[],e.abrupt("return",1);case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=18;break}return e.delegateYield(f(),"t0",14);case 14:if(!e.t0){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(9),c.e(e.t1);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===s.length&&(s=Object.values(n)),e.next=29,Promise.all(s);case 29:t("event",a,i||{}),e.next=35;break;case 32:e.prev=32,e.t2=e.catch(0),lr.error(e.t2);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),kr.apply(this,arguments)}function xr(e,t,n,r,a){var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[a]&&"function"===typeof window[a]&&(i=window[a]),window[a]=function(e,t,n,r){function a(){return a=p(d().mark((function a(i){var s,o,u,c,l,f,h,p,v,m,g,y,k=arguments;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(a.prev=0,s=k.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=k[u];if("event"!==i){a.next=8;break}return c=o[0],l=o[1],a.next=6,yr(e,t,n,c,l);case 6:a.next=15;break;case 8:if("config"!==i){a.next=14;break}return f=o[0],h=o[1],a.next=12,mr(e,t,n,r,f,h);case 12:a.next=15;break;case 14:"consent"===i?(p=o[0],e("consent","update",p)):"get"===i?(v=o[0],m=o[1],g=o[2],e("get",v,m,g)):"set"===i?(y=o[0],e("set",y)):e.apply(void 0,[i].concat(o));case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),lr.error(a.t0);case 20:case"end":return a.stop()}}),a,null,[[0,17]])}))),a.apply(this,arguments)}return function(e){return a.apply(this,arguments)}}(i,e,t,n),{gtagCore:i,wrappedGtag:window[a]}}function br(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var a=r[n];if(a.src&&a.src.includes(cr)&&a.src.includes(e))return a}return null}var wr=30,Er=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;y(this,e),this.throttleMetadata=t,this.intervalMillis=n}return x(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Sr=new Er;function _r(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Tr(e){return Cr.apply(this,arguments)}function Cr(){return(Cr=p(d().mark((function e(t){var n,r,a,i,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,a=t.apiKey,i={method:"GET",headers:_r(a)},s=ur.replace("{app-id}",r),e.next=5,fetch(s,i);case 5:if(200===(o=e.sent).status||304===o.status){e.next=18;break}return u="",e.prev=8,e.next=11,o.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw dr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u});case 18:return e.abrupt("return",o.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function jr(e){return Ir.apply(this,arguments)}function Ir(){return Ir=p(d().mark((function e(t){var n,r,a,i,s,o,u,c,l=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Sr,r=l.length>2?l[2]:void 0,a=t.options,i=a.appId,s=a.apiKey,o=a.measurementId,i){e.next=5;break}throw dr.create("no-app-id");case 5:if(s){e.next=9;break}if(!o){e.next=8;break}return e.abrupt("return",{measurementId:o,appId:i});case 8:throw dr.create("no-api-key");case 9:return u=n.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Lr,setTimeout(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:or),e.abrupt("return",Nr({appId:i,apiKey:s,measurementId:o},u,c,n));case 13:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function Nr(e,t,n){return Pr.apply(this,arguments)}function Pr(){return Pr=p(d().mark((function e(t,n,r){var a,i,s,o,u,c,l,f,h,p,v=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.throttleEndTimeMillis,i=n.backoffCount,s=v.length>3&&void 0!==v[3]?v[3]:Sr,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,Ar(r,a);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return lr.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Tr(t);case 17:return l=e.sent,s.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),Rr(f=e.t1)){e.next=33;break}if(s.deleteThrottleMetadata(u),!c){e.next=32;break}return lr.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(o=null===f||void 0===f?void 0:f.customData)||void 0===o?void 0:o.httpStatus)?ie(i,s.intervalMillis,wr):ie(i,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:i+1},s.setThrottleMetadata(u,p),lr.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",Nr(t,p,r,s));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Pr.apply(this,arguments)}function Ar(e,t){return new Promise((function(n,r){var a=Math.max(t-Date.now(),0),i=setTimeout(n,a);e.addEventListener((function(){clearTimeout(i),r(dr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Rr(e){if(!(e instanceof W)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Or,Dr,Lr=function(){function e(){y(this,e),this.listeners=[]}return x(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Mr(){return Mr=p(d().mark((function e(t,n,r,a,i){var s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("event",r,a),e.abrupt("return");case 5:return e.next=7,n;case 7:s=e.sent,o=Object.assign(Object.assign({},a),{send_to:s}),t("event",r,o);case 10:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e){Dr=e}function Ur(e){Or=e}function Vr(){return Br.apply(this,arguments)}function Br(){return(Br=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z()){e.next=5;break}return lr.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,H();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),lr.warn(dr.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function zr(){return zr=p(d().mark((function e(t,n,r,a,i,s,o){var c,l,f,h,p,v,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=jr(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&lr.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return lr.error(e)})),n.push(l),f=Vr().then((function(e){return e?a.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,p=u(h,2),v=p[0],m=p[1],br(s)||vr(s,v.measurementId),Dr&&(i("consent","default",Dr),Fr(void 0)),i("js",new Date),(g=null!==(c=null===o||void 0===o?void 0:o.config)&&void 0!==c?c:{})[sr]="firebase",g.update=!0,null!=m&&(g[ir]=m),i("config",v.measurementId,g),Or&&(i("set",Or),Ur(void 0)),e.abrupt("return",v.measurementId);case 20:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}var Hr,Wr,qr=function(){function e(t){y(this,e),this.app=t}return x(e,[{key:"_delete",value:function(){return delete Kr[this.app.options.appId],Promise.resolve()}}]),e}(),Kr={},Gr=[],Qr={},Yr="dataLayer",$r="gtag",Xr=!1;function Jr(){var e=[];if(B()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=dr.create("invalid-analytics-context",{errorInfo:t});lr.warn(n.message)}}function Zr(e,t,n){Jr();var r=e.options.appId;if(!r)throw dr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw dr.create("no-api-key");lr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Kr[r])throw dr.create("already-exists",{id:r});if(!Xr){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Yr);var a=xr(Kr,Gr,Qr,Yr,$r),i=a.wrappedGtag,s=a.gtagCore;Wr=i,Hr=s,Xr=!0}return Kr[r]=function(e,t,n,r,a,i,s){return zr.apply(this,arguments)}(e,Gr,Qr,t,Hr,Yr,n),new qr(e)}function ea(e,t,n,r){e=se(e),function(e,t,n,r,a){return Mr.apply(this,arguments)}(Wr,Kr[e.app.options.appId],t,n,r).catch((function(e){return lr.error(e)}))}var ta="@firebase/analytics",na="0.10.0";function ra(){return ra="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ra.apply(this,arguments)}Ye(new oe(ar,(function(e,t){var n=t.options;return Zr(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Ye(new oe("analytics-internal",(function(e){try{var t=e.getProvider(ar).getImmediate();return{logEvent:function(e,n,r){return ea(t,e,n,r)}}}catch(n){throw dr.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),rt(ta,na),rt(ta,na,"esm2017");function aa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ia;function sa(e){return void 0!==e&&void 0!==e.enterprise}var oa=x((function e(t){if(y(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function ua(){return g({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ca=ua,la=new q("auth","Firebase",ua()),fa=new ye("@firebase/auth");function da(e){if(fa.logLevel<=fe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fa.warn.apply(fa,["Auth (".concat(et,"): ").concat(e)].concat(n))}}function ha(e){if(fa.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fa.error.apply(fa,["Auth (".concat(et,"): ").concat(e)].concat(n))}}function pa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ga.apply(void 0,[e].concat(n))}function va(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ga.apply(void 0,[e].concat(n))}function ma(e,t,n){var r=Object.assign(Object.assign({},ca()),g({},t,n));return new q("auth","Firebase",r).create(t,{appName:e.name})}function ga(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var a,i=n[0],s=l(n.slice(1));return s[0]&&(s[0].appName=e.name),(a=e._errorFactory).create.apply(a,[i].concat(l(s)))}return la.create.apply(la,[e].concat(n))}function ya(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw ga.apply(void 0,[t].concat(r))}}function ka(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ha(t),new Error(t)}function xa(e,t){e||ka(t)}function ba(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function wa(){return"http:"===Ea()||"https:"===Ea()}function Ea(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Sa=function(){function e(t,n){y(this,e),this.shortDelay=t,this.longDelay=n,xa(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(V())||"object"===typeof navigator&&"ReactNative"===navigator.product}return x(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wa()||B()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function _a(e,t){xa(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ta=function(){function e(){y(this,e)}return x(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ca=(g(ia={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),g(ia,"MISSING_CUSTOM_TOKEN","internal-error"),g(ia,"INVALID_IDENTIFIER","invalid-email"),g(ia,"MISSING_CONTINUE_URI","internal-error"),g(ia,"INVALID_PASSWORD","wrong-password"),g(ia,"MISSING_PASSWORD","missing-password"),g(ia,"EMAIL_EXISTS","email-already-in-use"),g(ia,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),g(ia,"INVALID_IDP_RESPONSE","invalid-credential"),g(ia,"INVALID_PENDING_TOKEN","invalid-credential"),g(ia,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),g(ia,"MISSING_REQ_TYPE","internal-error"),g(ia,"EMAIL_NOT_FOUND","user-not-found"),g(ia,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),g(ia,"EXPIRED_OOB_CODE","expired-action-code"),g(ia,"INVALID_OOB_CODE","invalid-action-code"),g(ia,"MISSING_OOB_CODE","internal-error"),g(ia,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),g(ia,"INVALID_ID_TOKEN","invalid-user-token"),g(ia,"TOKEN_EXPIRED","user-token-expired"),g(ia,"USER_NOT_FOUND","user-token-expired"),g(ia,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),g(ia,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),g(ia,"INVALID_CODE","invalid-verification-code"),g(ia,"INVALID_SESSION_INFO","invalid-verification-id"),g(ia,"INVALID_TEMPORARY_PROOF","invalid-credential"),g(ia,"MISSING_SESSION_INFO","missing-verification-id"),g(ia,"SESSION_EXPIRED","code-expired"),g(ia,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),g(ia,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),g(ia,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),g(ia,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),g(ia,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),g(ia,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),g(ia,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),g(ia,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),g(ia,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),g(ia,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),g(ia,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),g(ia,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),g(ia,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),g(ia,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),g(ia,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),g(ia,"MISSING_CLIENT_TYPE","missing-client-type"),g(ia,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),g(ia,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),g(ia,"INVALID_REQ_TYPE","invalid-req-type"),ia),ja=new Sa(3e4,6e4);function Ia(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Na(e,t,n,r){return Pa.apply(this,arguments)}function Pa(){return Pa=p(d().mark((function e(t,n,r,a){var i,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",Aa(t,i,p(d().mark((function e(){var i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},s={},a&&("GET"===n?s=a:i={body:JSON.stringify(a)}),o=$(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ta.fetch()(La(t,t.config.apiHost,r,o),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},i)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Aa(e,t,n){return Ra.apply(this,arguments)}function Ra(){return Ra=p(d().mark((function e(t,n,r){var a,i,s,o,c,l,f,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Ca),n),e.prev=2,i=new Ma(t),e.next=6,Promise.race([r(),i.promise]);case 6:return s=e.sent,i.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(o=e.sent))){e.next=13;break}throw Fa(t,"account-exists-with-different-credential",o);case 13:if(!s.ok||"errorMessage"in o){e.next=17;break}return e.abrupt("return",o);case 17:if(c=s.ok?o.errorMessage:o.error.message,l=c.split(" : "),f=u(l,2),h=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Fa(t,"credential-already-in-use",o);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Fa(t,"email-already-in-use",o);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Fa(t,"user-disabled",o);case 29:if(v=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw ma(t,v,p);case 34:pa(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof W)){e.next=41;break}throw e.t0;case 41:pa(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ra.apply(this,arguments)}function Oa(e,t,n,r){return Da.apply(this,arguments)}function Da(){return Da=p(d().mark((function e(t,n,r,a){var i,s,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>4&&void 0!==o[4]?o[4]:{},e.next=3,Na(t,n,r,a,i);case 3:return"mfaPendingCredential"in(s=e.sent)&&pa(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(e,t,n,r){var a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_a(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}var Ma=function(){function e(t){var n=this;y(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(va(n.auth,"network-request-failed"))}),ja.get())}))}return x(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Fa(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var a=va(e,t,r);return a.customData._tokenResponse=n,a}function Ua(e,t){return Va.apply(this,arguments)}function Va(){return Va=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na(t,"GET","/v2/recaptchaConfig",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function Ba(e,t){return za.apply(this,arguments)}function za(){return za=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ha(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function qa(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ka(){return Ka=p(d().mark((function e(t){var n,r,a,i,s,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=se(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,ya((i=Qa(a))&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error"),s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:i,token:a,authTime:qa(Ga(i.auth_time)),issuedAtTime:qa(Ga(i.iat)),expirationTime:qa(Ga(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ga(e){return 1e3*Number(e)}function Qa(e){var t=u(e.split("."),3),n=t[0],r=t[1],a=t[2];if(void 0===n||void 0===r||void 0===a)return ha("JWT malformed, contained fewer than 3 sections"),null;try{var i=R(r);return i?JSON.parse(i):(ha("Failed to decode base64 JWT payload"),null)}catch(s){return ha("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function Ya(e,t){return $a.apply(this,arguments)}function $a(){return $a=p(d().mark((function e(t,n){var r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof W&&Xa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),$a.apply(this,arguments)}function Xa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ja=function(){function e(t){y(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return x(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(p(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Za=function(){function e(t,n){y(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return x(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ei(e){return ti.apply(this,arguments)}function ti(){return ti=p(d().mark((function e(t){var n,r,a,i,s,o,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,Ya(t,Ha(r,{idToken:a}));case 6:ya(null===(i=e.sent)||void 0===i?void 0:i.users.length,r,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?s.providerUserInfo.map((function(e){var t=e.providerId,n=aa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=ri(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Za(s.createdAt,s.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(){return(ni=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=se(t),e.next=3,ei(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ri(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(l(n),l(t))}function ai(e,t){return ii.apply(this,arguments)}function ii(){return ii=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(t,{},p(d().mark((function e(){var r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,i=a.tokenApiHost,s=a.apiKey,o=La(t,i,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ta.fetch()(o,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}var si=function(){function e(){y(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return x(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ya(e.idToken,"internal-error"),ya("undefined"!==typeof e.idToken,"internal-error"),ya("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Qa(e);return ya(t,"internal-error"),ya("undefined"!==typeof t.exp,"internal-error"),ya("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=p(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ya(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai(t,n);case 2:r=e.sent,a=r.accessToken,i=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(a,i,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ka("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,a=n.accessToken,i=n.expirationTime,s=new e;return r&&(ya("string"===typeof r,"internal-error",{appName:t}),s.refreshToken=r),a&&(ya("string"===typeof a,"internal-error",{appName:t}),s.accessToken=a),i&&(ya("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}}]),e}();function oi(e,t){ya("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ui=function(){function e(t){y(this,e);var n=t.uid,r=t.auth,a=t.stsTokenManager,i=aa(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ja(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?l(i.providerData):[],this.metadata=new Za(i.createdAt||void 0,i.lastLoginAt||void 0)}return x(e,[{key:"getIdToken",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ya(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ka.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ni.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ya(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ya(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=p(d().mark((function e(t){var n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ei(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ya(this,Ba(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,a,i,s,o,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(a=n.email)&&void 0!==a?a:void 0,h=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(o=n.tenantId)&&void 0!==o?o:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,x=n.emailVerified,b=n.isAnonymous,w=n.providerData,E=n.stsTokenManager;ya(k&&E,t,"internal-error");var S=si.fromJSON(this.name,E);ya("string"===typeof k,t,"internal-error"),oi(f,t.name),oi(d,t.name),ya("boolean"===typeof x,t,"internal-error"),ya("boolean"===typeof b,t,"internal-error"),oi(h,t.name),oi(p,t.name),oi(v,t.name),oi(m,t.name),oi(g,t.name),oi(y,t.name);var _=new e({uid:k,auth:t,email:d,emailVerified:x,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(_.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=p(d().mark((function t(n,r){var a,i,s,o=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>2&&void 0!==o[2]&&o[2],(i=new si).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:i,isAnonymous:a}),t.next=6,ei(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ci=new Map;function li(e){xa(e instanceof Function,"Expected a class definition");var t=ci.get(e);return t?(xa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ci.set(e,t),t)}var fi=function(){function e(){y(this,e),this.type="NONE",this.storage={}}return x(e,[{key:"_isAvailable",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fi.type="NONE";var di=fi;function hi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pi=function(){function e(t,n,r){y(this,e),this.persistence=t,this.auth=n,this.userKey=r;var a=this.auth,i=a.config,s=a.name;this.fullUserKey=hi(this.userKey,i.apiKey,s),this.fullPersistenceKey=hi("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return x(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ui._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=p(d().mark((function t(n,r){var a,i,s,o,u,c,l,f,h,m,g,y=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(li(di),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:i=t.sent.filter((function(e){return e})),s=i[0]||li(di),o=hi(a,n.config.apiKey,n.name),u=null,c=v(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(o);case 17:if(!(h=t.sent)){t.next=23;break}return m=ui._fromJSON(n,h),f!==s&&(u=m),s=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(g=i.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(s,n,a));case 40:if(s=g[0],!u){t.next=44;break}return t.next=44,s._set(o,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(o);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ki(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bi(t))return"Blackberry";if(wi(t))return"Webos";if(gi(t))return"Safari";if((t.includes("chrome/")||yi(t))&&!t.includes("edge/"))return"Chrome";if(xi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/firefox\//i.test(e)}function gi(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/crios\//i.test(e)}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/iemobile/i.test(e)}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/android/i.test(e)}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/blackberry/i.test(e)}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/webos/i.test(e)}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Si(){return function(){var e=V();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return Ei(e)||xi(e)||wi(e)||bi(e)||/windows phone/i.test(e)||ki(e)}function Ti(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vi(V());break;case"Worker":t="".concat(vi(V()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(et,"/").concat(r)}var Ci=function(){function e(t){y(this,e),this.auth=t,this.queue=[]}return x(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(a){r(a)}}))};r.onAbort=t,this.queue.push(r);var a=this.queue.length-1;return function(){n.queue[a]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=v(this.queue),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=14;break}return i=a.value,e.next=11,i(t);case 11:i.onAbort&&n.push(i.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),s=v(n);try{for(s.s();!(o=s.n()).done;){u=o.value;try{u()}catch(c){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ji(e){return Ii.apply(this,arguments)}function Ii(){return Ii=p(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Na(t,"GET","/v2/passwordPolicy",Ia(t,n)));case 2:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}var Ni=function(){function e(t){var n,r,a,i;y(this,e);var s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(a=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==a?a:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}return x(e,[{key:"validatePassword",value:function(e){var t,n,r,a,i,s,o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsUppercaseLetter)||void 0===a||a),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}]),e}(),Pi=function(){function e(t,n,r,a){y(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ri(this),this.idTokenSubscription=new Ri(this),this.beforeStateQueue=new Ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=la,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}return x(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(p(d().mark((function r(){var a,i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,a=r,i=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,s&&s!==o||!(null===u||void 0===u?void 0:u.user)||(a=u.user,i=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!i){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ya(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?se(t):null)&&ya(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=p(d().mark((function e(t){var n,r=this,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ya(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(p(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(li(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(this);case 2:t=e.sent,n=new Ni(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new q("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ya(n=t&&li(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pi.create(this,[li(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=p(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var a=this;if(this._deleted)return function(){};var i="function"===typeof t?t:t.next.bind(t),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ya(o,this,"internal-error"),o.then((function(){s||i(a.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){s=!0,u()}}var c=e.addObserver(t);return function(){s=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ya(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ti(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=p(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(a=e.sent)&&(n["X-Firebase-AppCheck"]=a),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&da("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ai(e){return se(e)}var Ri=function(){function e(t){var n=this;y(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return x(e,[{key:"next",get:function(){return ya(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Oi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=va("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Di(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Li=function(){function e(t){y(this,e),this.type="recaptcha-enterprise",this.auth=Ai(t)}return x(e,[{key:"verify",value:function(){var e=p(d().mark((function e(){var t,n,r,a,i,s=this,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e,n,r){var a=window.grecaptcha;sa(a)?a.enterprise.ready((function(){a.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},a=function(){return a=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=p(d().mark((function e(n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ua(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var a=new oa(e);return null==t.tenantId?t._agentRecaptchaConfig=a:t._tenantRecaptchaConfigs[t.tenantId]=a,n(a.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},r=function(e){return a.apply(this,arguments)},t=o.length>0&&void 0!==o[0]?o[0]:"verify",n=o.length>1&&void 0!==o[1]&&o[1],e.abrupt("return",new Promise((function(e,t){r(s.auth).then((function(r){if(!n&&sa(window.grecaptcha))i(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Oi("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){i(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mi(e,t,n){return Fi.apply(this,arguments)}function Fi(){return Fi=p(d().mark((function e(t,n,r){var a,i,s,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]&&u[3],i=new Li(t),e.prev=2,e.next=5,i.verify(r);case 5:s=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,i.verify(r,!0);case 12:s=e.sent;case 13:return o=Object.assign({},n),a?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Fi.apply(this,arguments)}function Ui(e,t,n){var r=Ai(e);ya(r._canInitEmulator,r,"emulator-config-failed"),ya(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Vi(t),s=function(e){var t=Vi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var i=a[1];return{host:i,port:Bi(r.substr(i.length+1))}}var s=u(r.split(":"),2);return{host:s[0],port:Bi(s[1])}}(t),o=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(i,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Bi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var zi=function(){function e(t,n){y(this,e),this.providerId=t,this.signInMethod=n}return x(e,[{key:"toJSON",value:function(){return ka("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ka("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ka("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ka("not implemented")}}]),e}();function Hi(e,t){return Wi.apply(this,arguments)}function Wi(){return Wi=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}function qi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,"POST","/v1/accounts:signInWithPassword",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na(t,"POST","/v1/accounts:sendOobCode",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t){return $i.apply(this,arguments)}function $i(){return $i=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gi(t,n));case 1:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Xi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Zi(e,t){return es.apply(this,arguments)}function es(){return es=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}var ts=function(e){E(n,e);var t=T(n);function n(e,r,a){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(this,n),(i=t.call(this,"password",a))._email=e,i._password=r,i._tenantId=s,i}return x(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=p(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Mi(t,r,"signInWithPassword");case 7:return a=e.sent,e.abrupt("return",qi(t,a));case 11:return e.abrupt("return",qi(t,r).catch(function(){var e=p(d().mark((function e(n){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Mi(t,r,"signInWithPassword");case 4:return a=e.sent,e.abrupt("return",qi(t,a));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Xi(t,{email:this._email,oobCode:this._password}));case 13:pa(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Hi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Zi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zi);function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,"POST","/v1/accounts:signInWithIdp",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var as=function(e){E(n,e);var t=T(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return x(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ns(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ns(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ns(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,a=t.signInMethod,i=aa(t,["providerId","signInMethod"]);if(!r||!a)return null;var s=new n(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}}]),n}(zi);function is(e,t){return ss.apply(this,arguments)}function ss(){return ss=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na(t,"POST","/v1/accounts:sendVerificationCode",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function os(){return os=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,"POST","/v1/accounts:signInWithPhoneNumber",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(){return us=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(t,"POST","/v1/accounts:signInWithPhoneNumber",Ia(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Fa(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}var cs=g({},"USER_NOT_FOUND","user-not-found");function ls(){return ls=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Oa(t,"POST","/v1/accounts:signInWithPhoneNumber",Ia(t,r),cs));case 2:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}var fs=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone","phone")).params=e,r}return x(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return os.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return us.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ls.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,a=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,a=t.verificationCode,i=t.phoneNumber,s=t.temporaryProof;return a||r||i||s?new n({verificationId:r,verificationCode:a,phoneNumber:i,temporaryProof:s}):null}}]),n}(zi);var ds=function(){function e(t){var n,r,a,i,s,o;y(this,e);var u=X(J(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=u.mode)&&void 0!==a?a:null);ya(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=u.tenantId)&&void 0!==o?o:null}return x(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=X(J(e)).link,n=t?X(J(t)).deep_link_id:null,r=X(J(e)).deep_link_id;return(r?X(J(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var hs=function(){function e(){y(this,e),this.providerId=e.PROVIDER_ID}return x(e,null,[{key:"credential",value:function(e,t){return ts._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ds.parseLink(t);return ya(n,"argument-error"),ts._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();hs.PROVIDER_ID="password",hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ps=function(){function e(t){y(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return x(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),vs=function(e){E(n,e);var t=T(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).scopes=[],e}return x(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return l(this.scopes)}}]),n}(ps),ms=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.call(this,"facebook.com")}return x(n,null,[{key:"credential",value:function(e){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(vs);ms.FACEBOOK_SIGN_IN_METHOD="facebook.com",ms.PROVIDER_ID="facebook.com";var gs=function(e){E(n,e);var t=T(n);function n(){var e;return y(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return x(n,null,[{key:"credential",value:function(e,t){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,a=t.oauthAccessToken;if(!r&&!a)return null;try{return n.credential(r,a)}catch(i){return null}}}]),n}(vs);gs.GOOGLE_SIGN_IN_METHOD="google.com",gs.PROVIDER_ID="google.com";var ys=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.call(this,"github.com")}return x(n,null,[{key:"credential",value:function(e){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(vs);ys.GITHUB_SIGN_IN_METHOD="github.com",ys.PROVIDER_ID="github.com";var ks=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.call(this,"twitter.com")}return x(n,null,[{key:"credential",value:function(e,t){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,a=t.oauthTokenSecret;if(!r||!a)return null;try{return n.credential(r,a)}catch(i){return null}}}]),n}(vs);function xs(e,t){return bs.apply(this,arguments)}function bs(){return bs=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(t,"POST","/v1/accounts:signUp",Ia(t,n)));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}ks.TWITTER_SIGN_IN_METHOD="twitter.com",ks.PROVIDER_ID="twitter.com";var ws=function(){function e(t){y(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return x(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=p(d().mark((function t(n,r,a){var i,s,o,u,c=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ui._fromIdTokenResponse(n,a,i);case 3:return s=t.sent,o=Es(a),u=new e({user:s,providerId:o,_tokenResponse:a,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=p(d().mark((function t(n,r,a){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return i=Es(a),t.abrupt("return",new e({user:n,providerId:i,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Es(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Ss=function(e){E(n,e);var t=T(n);function n(e,r,a,i){var s,o;return y(this,n),(s=t.call(this,r.code,r.message)).operationType=a,s.user=i,Object.setPrototypeOf(b(s),n.prototype),s.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:r.customData._serverResponse,operationType:a},s}return x(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,a){return new n(e,t,r,a)}}]),n}(W);function _s(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ss._fromErrorAndOperation(e,n,t,r);throw n}))}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=p(d().mark((function e(t,n){var r,a,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.t0=Ya,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",ws._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function js(e,t){return Is.apply(this,arguments)}function Is(){return Is=p(d().mark((function e(t,n){var r,a,i,s,o,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,i="reauthenticate",e.prev=3,e.next=6,Ya(t,_s(a,i,n,t),r);case 6:return ya((s=e.sent).idToken,a,"internal-error"),ya(o=Qa(s.idToken),a,"internal-error"),u=o.sub,ya(t.uid===u,a,"user-mismatch"),e.abrupt("return",ws._forOperation(t,i,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&pa(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Is.apply(this,arguments)}function Ns(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=p(d().mark((function e(t,n){var r,a,i,s,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],a="signIn",e.next=4,_s(t,a,n);case 4:return i=e.sent,e.next=7,ws._fromIdTokenResponse(t,a,i);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function As(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns(Ai(t),n));case 1:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Os(e,t,n){var r;ya((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ya("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ya(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ya(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ds(e){return Ls.apply(this,arguments)}function Ls(){return Ls=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Ai(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(){return Ms=p(d().mark((function e(t,n,r){var a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ai(t),s={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(a=i._getRecaptchaConfig())||void 0===a?void 0:a.emailPasswordEnabled)){e.next=11;break}return e.next=5,Mi(i,s,"getOobCode",!0);case 5:return o=e.sent,r&&Os(i,o,r),e.next=9,Yi(i,o);case 9:e.next=14;break;case 11:return r&&Os(i,s,r),e.next=14,Yi(i,s).catch(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Mi(i,s,"getOobCode",!0);case 4:return n=e.sent,r&&Os(i,n,r),e.next=8,Yi(i,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Fs(){return Fs=p(d().mark((function e(t,n,r){var a,i,s,o,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ai(t),s={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(a=i._getRecaptchaConfig())||void 0===a?void 0:a.emailPasswordEnabled)){e.next=9;break}return e.next=5,Mi(i,s,"signUpPassword");case 5:u=e.sent,o=xs(i,u),e.next=10;break;case 9:o=xs(i,s).catch(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Mi(i,s,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",xs(i,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,o.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Ds(t),e}));case 12:return c=e.sent,e.next=15,ws._fromIdTokenResponse(i,"signIn",c);case 15:return l=e.sent,e.next=18,i._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}function Us(e,t){return Na(e,"POST","/v2/accounts/mfaEnrollment:start",Ia(e,t))}function Vs(e,t){return Na(e,"POST","/v2/accounts/mfaEnrollment:start",Ia(e,t))}function Bs(e,t){return Na(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ia(e,t))}new WeakMap;var zs="__sak",Hs=function(){function e(t,n){y(this,e),this.storageRetriever=t,this.type=n}return x(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(zs,"1"),this.storage.removeItem(zs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ws=function(e){E(n,e);var t=T(n);function n(){var e;return y(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=V();return gi(e)||Ei(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=_i(),e._shouldAllowMigration=!0,e}return x(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],a=this.storage.getItem(r),i=this.localCache[r];a!==i&&e(r,i,a)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(r);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var i=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},s=this.storage.getItem(r);Si()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=p(d().mark((function e(t,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(S(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=p(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(S(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(S(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Hs);Ws.type="LOCAL";var qs=Ws,Ks=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return x(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Hs);Ks.type="SESSION";var Gs=Ks;function Qs(e){return Promise.all(e.map(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ys=function(){function e(t){y(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return x(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,i=r.eventType,s=r.data,null===(o=this.handlersMap[i])||void 0===o?void 0:o.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:i}),u=Array.from(o).map(function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Qs(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function $s(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ys.receivers=[];var Xs=function(){function e(t){y(this,e),this.target=t,this.handlers=new Set}return x(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=p(d().mark((function e(t,n){var r,a,i,s,o=this,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=$s("",20);a.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);s={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),i=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),e(n.data.response);break;default:clearTimeout(l),clearTimeout(i),u(new Error("invalid_response"))}}},o.handlers.add(s),a.port1.addEventListener("message",s.onMessage),o.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){s&&o.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Js(){return window}function Zs(e){Js().location.href=e}function eo(){return"undefined"!==typeof Js().WorkerGlobalScope&&"function"===typeof Js().importScripts}function to(){return no.apply(this,arguments)}function no(){return(no=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ro(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ao="firebaseLocalStorageDb",io="firebaseLocalStorage",so="fbase_key",oo=function(){function e(t){y(this,e),this.request=t}return x(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function uo(e,t){return e.transaction([io],t?"readwrite":"readonly").objectStore(io)}function co(){var e=indexedDB.deleteDatabase(ao);return new oo(e).toPromise()}function lo(){var e=indexedDB.open(ao,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(io,{keyPath:so})}catch(r){n(r)}})),e.addEventListener("success",p(d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(io)){n.next=12;break}return r.close(),n.next=5,co();case 5:return n.t0=t,n.next=8,lo();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function fo(e,t,n){return ho.apply(this,arguments)}function ho(){return ho=p(d().mark((function e(t,n,r){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uo(t,!0).put((g(a={},so,n),g(a,"value",r),a)),e.abrupt("return",new oo(i).toPromise());case 2:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uo(t,!1).get(n),e.next=3,new oo(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){var n=uo(e,!0).delete(t);return new oo(n).toPromise()}var go=function(){function e(){y(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return x(e,[{key:"_openDb",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,lo();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=p(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ys._getInstance(eo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=p(d().mark((function e(n,r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Xs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ro()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,lo();case 5:return t=e.sent,e.next=8,fo(t,zs,"1");case 8:return e.next=10,mo(t,zs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=p(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return fo(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return po(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=p(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return mo(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=p(d().mark((function e(){var t,n,r,a,i,s,o,u,c,l,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=uo(e,!1).getAll();return new oo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=v(t);try{for(a.s();!(i=a.n()).done;)s=i.value,o=s.fbase_key,u=s.value,r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o))}catch(d){a.e(d)}finally{a.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(p(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();go.type="LOCAL";var yo=go;function ko(e,t){return Na(e,"POST","/v2/accounts/mfaSignIn:start",Ia(e,t))}function xo(e,t){return Na(e,"POST","/v2/accounts/mfaSignIn:finalize",Ia(e,t))}Di("rcb"),new Sa(3e4,6e4);var bo="recaptcha";function wo(e,t,n){return Eo.apply(this,arguments)}function Eo(){return Eo=p(d().mark((function e(t,n,r){var a,i,s,o,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(i=e.sent,e.prev=3,ya("string"===typeof i,t,"argument-error"),ya(r.type===bo,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(o=s.session,!("phoneNumber"in s)){e.next=17;break}return ya("enroll"===o.type,t,"internal-error"),e.next=13,Us(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ya("signin"===o.type,t,"internal-error"),ya(c=(null===(a=s.multiFactorHint)||void 0===a?void 0:a.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ko(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:i}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,is(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Eo.apply(this,arguments)}var So=function(){function e(t){y(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ai(t)}return x(e,[{key:"verifyPhoneNumber",value:function(e,t){return wo(this.auth,e,se(t))}}],[{key:"credential",value:function(e,t){return fs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?fs._fromTokenResponse(n,r):null}}]),e}();function _o(e,t){return t?li(t):(ya(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}So.PROVIDER_ID="phone",So.PHONE_SIGN_IN_METHOD="phone";var To=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this,"custom","custom")).params=e,r}return x(n,[{key:"_getIdTokenResponse",value:function(e){return ns(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ns(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ns(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zi);function Co(e){return Ns(e.auth,new To(e),e.bypassAuthState)}function jo(e){var t=e.auth,n=e.user;return ya(n,t,"internal-error"),js(n,new To(e),e.bypassAuthState)}function Io(e){return No.apply(this,arguments)}function No(){return No=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ya(r=t.user,n,"internal-error"),e.abrupt("return",Ts(r,new To(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}var Po=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];y(this,e),this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return x(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=p(d().mark((function t(n,r){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,i=t.tenantId,s=t.error,o=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(o)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Co;case"linkViaPopup":case"linkViaRedirect":return Io;case"reauthViaPopup":case"reauthViaRedirect":return jo;default:pa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ao=new Sa(2e3,1e4);var Ro=function(e){E(n,e);var t=T(n);function n(e,r,a,i,s){var o;return y(this,n),(o=t.call(this,e,r,i,s)).provider=a,o.authWindow=null,o.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=b(o),o}return x(n,[{key:"executeNotNull",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ya(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=p(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xa(1===this.filter.length,"Popup operations only handle one event"),t=$s(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(va(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(va(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(va(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ao.get())}()}}]),n}(Po);Ro.currentPopupAction=null;var Oo="pendingRedirect",Do=new Map,Lo=function(e){E(n,e);var t=T(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y(this,n),(a=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)).eventId=null,a}return x(n,[{key:"execute",value:function(){var e=p(d().mark((function e(){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Do.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Mo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ra(S(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Do.set(this.auth._key(),t);case 21:return this.bypassAuthState||Do.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=p(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ra(S(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ra(S(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Po);function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=p(d().mark((function e(t,n){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo(n),a=Vo(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,i="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(e,t){Do.set(e._key(),t)}function Vo(e){return li(e._redirectPersistence)}function Bo(e){return hi(Oo,e.config.apiKey,e.name)}function zo(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=p(d().mark((function e(t,n){var r,a,i,s,o,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],a=Ai(t),i=_o(a,n),s=new Lo(a,i,r),e.next=6,s.execute();case 6:if(!(o=e.sent)||r){e.next=13;break}return delete o.user._redirectEventId,e.next=11,a._persistUserIfCurrent(o.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}var Wo=function(){function e(t){y(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return x(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ko(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ko(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(va(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(qo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function qo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ko(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Go(e){return Qo.apply(this,arguments)}function Qo(){return Qo=p(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Na(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}var Yo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$o=/^https?/;function Xo(){return Xo=p(d().mark((function e(t){var n,r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Go(t);case 4:n=e.sent,r=n.authorizedDomains,a=v(r),e.prev=7,a.s();case 9:if((i=a.n()).done){e.next=20;break}if(s=i.value,e.prev=11,!Jo(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:pa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Xo.apply(this,arguments)}function Jo(e){var t=ba(),n=new URL(t),r=n.protocol,a=n.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===a}if(!$o.test(r))return!1;if(Yo.test(e))return a===e;var s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}var Zo=new Sa(3e4,6e4);function eu(){var e=Js().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=l(e.H[r].L),e.CP)for(var a=0;a<e.CP.length;a++)e.CP[a]=null}}var tu=null;function nu(e){return tu=tu||function(e){return new Promise((function(t,n){var r,a,i;function s(){eu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){eu(),n(va(e,"network-request-failed"))},timeout:Zo.get()})}if(null===(a=null===(r=Js().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Js().gapi)||void 0===i?void 0:i.load)){var o=Di("iframefcb");return Js()[o]=function(){gapi.load?s():n(va(e,"network-request-failed"))},Oi("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return n(e)}))}s()}})).catch((function(e){throw tu=null,e}))}(e),tu}var ru=new Sa(5e3,15e3),au="__/auth/iframe",iu="emulator/auth/iframe",su={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ou=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uu(e){var t=e.config;ya(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?_a(t,iu):"https://".concat(e.config.authDomain,"/").concat(au),r={apiKey:t.apiKey,appName:e.name,v:et},a=ou.get(e.config.apiHost);a&&(r.eid=a);var i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat($(r).slice(1))}function cu(e){return lu.apply(this,arguments)}function lu(){return lu=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nu(t);case 2:return n=e.sent,ya(r=Js().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:uu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:su,dontclear:!0},(function(e){return new Promise(function(){var n=p(d().mark((function n(r,a){var i,s,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(){Js().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:i=va(t,"network-request-failed"),s=Js().setTimeout((function(){a(i)}),ru.get()),e.ping(o).then(o,(function(){a(i)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}var fu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},du=function(){function e(t){y(this,e),this.window=t,this.associatedEvent=null}return x(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",c=Object.assign(Object.assign({},fu),{width:r.toString(),height:a.toString(),top:i,left:s}),l=V().toLowerCase();n&&(o=yi(l)?"_blank":n),mi(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(function(){var e;return Ei(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==o)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new du(null);var d=window.open(t||"",o,f);ya(d,e,"popup-blocked");try{d.focus()}catch(h){}return new du(d)}var pu="__/auth/handler",vu="emulator/auth/handler",mu=encodeURIComponent("fac");function gu(e,t,n,r,a,i){return yu.apply(this,arguments)}function yu(){return yu=p(d().mark((function e(t,n,r,a,i,s){var o,c,l,f,h,p,v,m,g,y,k,x,b;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ya(t.config.authDomain,t,"auth-domain-config-required"),ya(t.config.apiKey,t,"invalid-api-key"),o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:a,v:et,eventId:i},n instanceof ps)for(n.setDefaultLanguage(t.languageCode),o.providerId=n.providerId||"",G(n.getCustomParameters())||(o.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=u(l[c],2),h=f[0],p=f[1],o[h]=p;for(n instanceof vs&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(o.scopes=v.join(",")),t.tenantId&&(o.tid=t.tenantId),m=o,g=0,y=Object.keys(m);g<y.length;g++)k=y[g],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return x=e.sent,b=x?"#".concat(mu,"=").concat(encodeURIComponent(x)):"",e.abrupt("return","".concat(ku(t),"?").concat($(m).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function ku(e){var t=e.config;return t.emulator?_a(t,vu):"https://".concat(t.authDomain,"/").concat(pu)}var xu="webStorageSupport",bu=function(){function e(){y(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gs,this._completeRedirectFn=zo,this._overrideRedirectResult=Uo}return x(e,[{key:"_openPopup",value:function(){var e=p(d().mark((function e(t,n,r,a){var i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xa(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),e.next=3,gu(t,n,r,ba(),a);case 3:return s=e.sent,e.abrupt("return",hu(t,s,$s()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=p(d().mark((function e(t,n,r,a){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,gu(t,n,r,ba(),a);case 4:return Zs(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],a=r.manager,i=r.promise;return a?Promise.resolve(a):(xa(i,"If manager is not set, promise should be"),i)}var s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch((function(){delete t.eventManagers[n]})),s}},{key:"initAndGetManager",value:function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cu(t);case 2:return n=e.sent,r=new Wo(t),n.register("authEvent",(function(e){return ya(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(xu,{type:xu},(function(n){var r,a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xu];void 0!==a&&t(!!a),pa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Xo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return _i()||gi()||Ei()}}]),e}(),wu=bu,Eu=function(){function e(t){y(this,e),this.factorId=t}return x(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ka("unexpected MultiFactorSessionType")}}}]),e}(),Su=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone")).credential=e,r}return x(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Na(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ia(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Na(e,"POST","/v2/accounts/mfaSignIn:finalize",Ia(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Eu);(function(){function e(){y(this,e)}return x(e,null,[{key:"assertion",value:function(e){return Su._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var _u=function(){function e(){y(this,e)}return x(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Tu._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Tu._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=p(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ya("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Vs(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return a=e.sent,e.abrupt("return",Cu._fromStartTotpMfaEnrollmentResponse(a,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();_u.FACTOR_ID="totp";var Tu=function(e){E(n,e);var t=T(n);function n(e,r,a){var i;return y(this,n),(i=t.call(this,"totp")).otp=e,i.enrollmentId=r,i.secret=a,i}return x(n,[{key:"_finalizeEnroll",value:function(){var e=p(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ya("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Bs(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ya(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",xo(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Eu),Cu=function(){function e(t,n,r,a,i,s,o){y(this,e),this.sessionInfo=s,this.auth=o,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=a,this.enrollmentCompletionDeadline=i}return x(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(ju(e)||ju(t))&&(r=!0),r&&(ju(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ju(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function ju(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Iu="@firebase/auth",Nu="1.3.0",Pu=function(){function e(t){y(this,e),this.auth=t,this.internalListeners=new Map}return x(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ya(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Au,Ru=F("authIdTokenMaxAge")||300,Ou=null;Au="Browser",Ye(new oe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),s=r.options,o=s.apiKey,u=s.authDomain;ya(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:o,authDomain:u,clientPlatform:Au,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ti(Au)},l=new Pi(r,a,i,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ye(new oe("auth-internal",(function(e){return function(e){return new Pu(e)}(Ai(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),rt(Iu,Nu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Au)),rt(Iu,Nu,"esm2017");var Du,Lu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Mu={},Fu=Fu||{},Uu=Lu||self;function Vu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var zu="closure_uid_"+(1e9*Math.random()>>>0),Hu=0;function Wu(e,t,n){return e.call.apply(e.bind,arguments)}function qu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ku(e,t,n){return(Ku=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wu:qu).apply(null,arguments)}function Gu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function Yu(){this.s=this.s,this.o=this.o}Yu.prototype.s=!1,Yu.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,zu)&&e[zu]||(e[zu]=++Hu))},Yu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $u=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ju(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Vu(r)){var a=e.length||0,i=r.length||0;e.length=a+i;for(var s=0;s<i;s++)e[a+s]=r[s]}else e.push(r)}}function Zu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zu.prototype.h=function(){this.defaultPrevented=!0};var ec=function(){if(!Uu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Uu.addEventListener("test",(function(){}),t),Uu.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function tc(e){return/^[\s\xa0]*$/.test(e)}function nc(){var e=Uu.navigator;return e&&(e=e.userAgent)?e:""}function rc(e){return-1!=nc().indexOf(e)}function ac(e){return ac[" "](e),e}ac[" "]=function(){};var ic,sc,oc=rc("Opera"),uc=rc("Trident")||rc("MSIE"),cc=rc("Edge"),lc=cc||uc,fc=rc("Gecko")&&!(-1!=nc().toLowerCase().indexOf("webkit")&&!rc("Edge"))&&!(rc("Trident")||rc("MSIE"))&&!rc("Edge"),dc=-1!=nc().toLowerCase().indexOf("webkit")&&!rc("Edge");function hc(){var e=Uu.document;return e?e.documentMode:void 0}e:{var pc="",vc=function(){var e=nc();return fc?/rv:([^\);]+)(\)|;)/.exec(e):cc?/Edge\/([\d\.]+)/.exec(e):uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dc?/WebKit\/(\S+)/.exec(e):oc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vc&&(pc=vc?vc[1]:""),uc){var mc=hc();if(null!=mc&&mc>parseFloat(pc)){ic=String(mc);break e}}ic=pc}if(Uu.document&&uc){var gc=hc();sc=gc||(parseInt(ic,10)||void 0)}else sc=void 0;var yc=sc;function kc(e,t){if(Zu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fc){e:{try{ac(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kc.$.h.call(this)}}Qu(kc,Zu);var xc={2:"touch",3:"pen",4:"mouse"};kc.prototype.h=function(){kc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),wc=0;function Ec(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=a,this.key=++wc,this.fa=this.ia=!1}function Sc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _c(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Tc(e){var t={};for(var n in e)t[n]=e[n];return t}var Cc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jc(e,t){for(var n,r,a=1;a<arguments.length;a++){for(n in r=arguments[a])e[n]=r[n];for(var i=0;i<Cc.length;i++)n=Cc[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ic(e){this.src=e,this.g={},this.h=0}function Nc(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=$u(a,t);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(Sc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pc(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return a}return-1}Ic.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=Pc(e,t,r,a);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Ec(t,this.src,i,!!r,a)).ia=n,e.push(t)),t};var Ac="closure_lm_"+(1e6*Math.random()|0),Rc={};function Oc(e,t,n,r,a){if(r&&r.once)return Lc(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Oc(e,t[i],n,r,a);return null}return n=Hc(n),e&&e[bc]?e.O(t,n,Bu(r)?!!r.capture:!!r,a):Dc(e,t,n,!1,r,a)}function Dc(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var s=Bu(a)?!!a.capture:!!a,o=Bc(e);if(o||(e[Ac]=o=new Ic(e)),(n=o.add(t,n,r,s,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Vc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ec||(a=s),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(Uc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Lc(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Lc(e,t[i],n,r,a);return null}return n=Hc(n),e&&e[bc]?e.P(t,n,Bu(r)?!!r.capture:!!r,a):Dc(e,t,n,!0,r,a)}function Mc(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Mc(e,t[i],n,r,a);else r=Bu(r)?!!r.capture:!!r,n=Hc(n),e&&e[bc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pc(i=e.g[t],n,r,a))&&(Sc(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Bc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pc(t,n,r,a)),(n=-1<e?t[e]:null)&&Fc(n))}function Fc(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[bc])Nc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Uc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bc(t))?(Nc(n,e),0==n.h&&(n.src=null,t[Ac]=null)):Sc(e)}}}function Uc(e){return e in Rc?Rc[e]:Rc[e]="on"+e}function Vc(e,t){if(e.fa)e=!0;else{t=new kc(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Fc(e),e=n.call(r,t)}return e}function Bc(e){return(e=e[Ac])instanceof Ic?e:null}var zc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hc(e){return"function"===typeof e?e:(e[zc]||(e[zc]=function(t){return e.handleEvent(t)}),e[zc])}function Wc(){Yu.call(this),this.i=new Ic(this),this.S=this,this.J=null}function qc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Zu(t,e);else if(t instanceof Zu)t.target=t.target||e;else{var a=t;jc(t=new Zu(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];a=Kc(s,r,!0,t)&&a}if(a=Kc(s=t.g=e,r,!0,t)&&a,a=Kc(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=Kc(s=t.g=n[i],r,!1,t)&&a}function Kc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.fa&&s.capture==n){var o=s.listener,u=s.la||s.src;s.ia&&Nc(e.i,s),a=!1!==o.call(u,r)&&a}}return a&&!r.defaultPrevented}Qu(Wc,Yu),Wc.prototype[bc]=!0,Wc.prototype.removeEventListener=function(e,t,n,r){Mc(this,e,t,n,r)},Wc.prototype.N=function(){if(Wc.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sc(n[r]);delete t.g[e],t.h--}}this.J=null},Wc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wc.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Gc=Uu.JSON.stringify,Qc=function(){function e(t,n){y(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return x(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Yc(){var e=rl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $c=function(){function e(){y(this,e),this.h=this.g=null}return x(e,[{key:"add",value:function(e,t){var n=Xc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xc=new Qc((function(){return new Jc}),(function(e){return e.reset()})),Jc=function(){function e(){y(this,e),this.next=this.g=this.h=null}return x(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Zc(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function el(e){Uu.setTimeout((function(){throw e}),0)}var tl,nl=!1,rl=new $c,al=function(){var e=Uu.Promise.resolve(void 0);tl=function(){e.then(il)}},il=function(){for(var e;e=Yc();){try{e.h.call(e.g)}catch(n){el(n)}var t=Xc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nl=!1};function sl(e,t){Wc.call(this),this.h=e||1,this.g=t||Uu,this.j=Ku(this.qb,this),this.l=Date.now()}function ol(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ul(e,t,n){if("function"===typeof e)n&&(e=Ku(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ku(e.handleEvent,e)}return 2147483647<Number(t)?-1:Uu.setTimeout(e,t||0)}function cl(e){e.g=ul((function(){e.g=null,e.i&&(e.i=!1,cl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qu(sl,Wc),(Du=sl.prototype).ga=!1,Du.T=null,Du.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qc(this,"tick"),this.ga&&(ol(this),this.start()))}},Du.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Du.N=function(){sl.$.N.call(this),ol(this),delete this.g};var ll=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this)).m=e,a.j=r,a.h=null,a.i=!1,a.g=null,a}return x(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:cl(this)}},{key:"N",value:function(){ra(S(n.prototype),"N",this).call(this),this.g&&(Uu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Yu);function fl(e){Yu.call(this),this.h=e,this.g={}}Qu(fl,Yu);var dl=[];function hl(e,t,n,r){Array.isArray(n)||(n&&(dl[0]=n.toString()),n=dl);for(var a=0;a<n.length;a++){var i=Oc(t,n[a],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function pl(e){_c(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fc(e)}),e),e.g={}}function vl(){this.g=!0}function ml(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return Gc(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}fl.prototype.N=function(){fl.$.N.call(this),pl(this)},fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vl.prototype.Ea=function(){this.g=!1},vl.prototype.info=function(){};var gl={},yl=null;function kl(){return yl=yl||new Wc}function xl(e){Zu.call(this,gl.Ta,e)}function bl(e){var t=kl();qc(t,new xl(t))}function wl(e,t){Zu.call(this,gl.STAT_EVENT,e),this.stat=t}function El(e){var t=kl();qc(t,new wl(t,e))}function Sl(e,t){Zu.call(this,gl.Ua,e),this.size=t}function _l(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Uu.setTimeout((function(){e()}),t)}gl.Ta="serverreachability",Qu(xl,Zu),gl.STAT_EVENT="statevent",Qu(wl,Zu),gl.Ua="timingevent",Qu(Sl,Zu);var Tl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jl(){}function Il(e){return e.h||(e.h=e.i())}function Nl(){}jl.prototype.h=null;var Pl,Al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rl(){Zu.call(this,"d")}function Ol(){Zu.call(this,"c")}function Dl(){}function Ll(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new fl(this),this.P=Fl,e=lc?125:void 0,this.V=new sl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ml}function Ml(){this.i=null,this.g="",this.h=!1}Qu(Rl,Zu),Qu(Ol,Zu),Qu(Dl,jl),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},Pl=new Dl;var Fl=45e3,Ul={},Vl={};function Bl(e,t,n){e.L=1,e.v=of(tf(t)),e.s=n,e.S=!0,zl(e,null)}function zl(e,t){e.G=Date.now(),Kl(e),e.A=tf(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),xf(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ml,e.g=bd(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ll(Ku(e.Pa,e,e.g),e.O)),hl(e.U,e.g,"readystatechange",e.nb),t=e.I?Tc(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),bl(),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var s="",o=i.split("&"),u=0;u<o.length;u++){var c=o[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&"type"==f[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Hl(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Wl(e,t,n){for(var r,a=!0;!e.J&&e.C<n.length;){if((r=ql(e,n))==Vl){4==t&&(e.o=4,El(14),a=!1),ml(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ul){e.o=4,El(15),ml(e.j,e.m,n,"[Invalid Chunk]"),a=!1;break}ml(e.j,e.m,r,null),Xl(e,r)}Hl(e)&&r!=Vl&&r!=Ul&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,El(16),a=!1),e.i=e.i&&a,a?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hd(t),t.M=!0,El(11))):(ml(e.j,e.m,n,"[Invalid Chunked Response]"),$l(e),Yl(e))}function ql(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vl:(n=Number(t.substring(n,r)),isNaN(n)?Ul:(r+=1)+n>t.length?Vl:(t=t.slice(r,r+n),e.C=r+n,t))}function Kl(e){e.Y=Date.now()+e.P,Gl(e,e.P)}function Gl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_l(Ku(e.lb,e),t)}function Ql(e){e.B&&(Uu.clearTimeout(e.B),e.B=null)}function Yl(e){0==e.l.H||e.J||md(e.l,e)}function $l(e){Ql(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ol(e.V),pl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Cf(n.i,e)))if(!e.K&&Cf(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;vd(n),id(n)}dd(n),El(18)}}else n.Fa=a[1],0<n.Fa-n.V&&37500>a[2]&&n.G&&0==n.A&&!n.v&&(n.v=_l(Ku(n.ib,n),6e3));if(1>=Tf(n.i)&&n.oa){try{n.oa()}catch(i){}n.oa=void 0}}else yd(n,11)}else if((e.K||n.g==e)&&vd(n),!tc(t))for(a=n.Ja.g.parse(t),t=0;t<a.length;t++){var i=a[t];if(n.V=i[0],i=i[1],2==n.H)if("c"==i[0]){n.K=i[1],n.pa=i[2];var s=i[3];null!=s&&(n.ra=s,n.l.info("VER="+n.ra));var o=i[4];null!=o&&(n.Ga=o,n.l.info("SVER="+n.Ga));var u=i[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(jf(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,sf(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=xd(r,r.J?r.pa:null,r.Y),h.K){If(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(Ql(p),Kl(p)),r.g=h}else fd(r);0<n.j.length&&od(n)}else"stop"!=i[0]&&"close"!=i[0]||yd(n,7);else 3==n.H&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?yd(n,7):ad(n):"noop"!=i[0]&&n.h&&n.h.Aa(i),n.A=0)}bl()}catch(i){}}function Jl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Vu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Vu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,i=0;i<a;i++)t.call(void 0,r[i],n&&n[i],e)}(Du=Ll.prototype).setTimeout=function(e){this.P=e},Du.nb=function(e){e=e.target;var t=this.M;t&&3==Jf(e)?t.l():this.Pa(e)},Du.Pa=function(e){try{if(e==this.g)e:{var t=Jf(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||lc||this.g&&(this.h.h||this.g.ja()||Zf(this.g)))){this.J||4!=t||7==n||bl(),Ql(this);var r=this.g.da();this.ca=r;t:if(Hl(this)){var a=Zf(this.g);e="";var i=a.length,s=4==Jf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$l(this),Yl(this);var o="";break t}this.h.i=new Uu.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==i-1});a.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==r,function(e,t,n,r,a,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tc(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,El(12),$l(this),Yl(this);break e}ml(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,r)}this.S?(Wl(this,t,o),lc&&this.i&&3==t&&(hl(this.U,this.V,"tick",this.mb),this.V.start())):(ml(this.j,this.m,o,null),Xl(this,o)),4==t&&$l(this),this.i&&!this.J&&(4==t?md(this.l,this):(this.i=!1,Kl(this)))}else(function(e){var t={};e=(e.g&&2<=Jf(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!tc(e[n])){var r=Zc(e[n]),a=r[0];if("string"===typeof(r=r[1])){r=r.trim();var i=t[a]||[];t[a]=i,i.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<o.indexOf("Unknown SID")?(this.o=3,El(12)):(this.o=0,El(13)),$l(this),Yl(this)}}}catch(t){}},Du.mb=function(){if(this.g){var e=Jf(this.g),t=this.g.ja();this.C<t.length&&(Ql(this),Wl(this,e,t),this.i&&4!=e&&Kl(this))}},Du.cancel=function(){this.J=!0,$l(this)},Du.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(bl(),El(17)),$l(this),this.o=2,Yl(this)):Gl(this,this.Y-e)};var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ef(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ef){this.h=e.h,nf(this,e.j),this.s=e.s,this.g=e.g,rf(this,e.m),this.l=e.l;var t=e.i,n=new mf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),af(this,n),this.o=e.o}else e&&(t=String(e).match(Zl))?(this.h=!1,nf(this,t[1]||"",!0),this.s=uf(t[2]||""),this.g=uf(t[3]||"",!0),rf(this,t[4]),this.l=uf(t[5]||"",!0),af(this,t[6]||"",!0),this.o=uf(t[7]||"")):(this.h=!1,this.i=new mf(null,this.h))}function tf(e){return new ef(e)}function nf(e,t,n){e.j=n?uf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function af(e,t,n){t instanceof mf?(e.i=t,function(e,t){t&&!e.j&&(gf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yf(this,t),xf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=cf(t,pf)),e.i=new mf(t,e.h))}function sf(e,t,n){e.i.set(t,n)}function of(e){return sf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function uf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ef.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cf(t,ff,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cf(t,ff,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(cf(n,"/"==n.charAt(0)?hf:df,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cf(n,vf)),e.join("")};var ff=/[#\/\?@]/g,df=/[#\?:]/g,hf=/[#\?]/g,pf=/[#\?@]/g,vf=/#/g;function mf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yf(e,t){gf(e),t=bf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kf(e,t){return gf(e),t=bf(e,t),e.g.has(t)}function xf(e,t,n){yf(e,t),0<n.length&&(e.i=null,e.g.set(bf(e,t),Xu(n)),e.h+=n.length)}function bf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Du=mf.prototype).add=function(e,t){gf(this),this.i=null,e=bf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Du.forEach=function(e,t){gf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Du.ta=function(){gf(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var a=e[r],i=0;i<a.length;i++)n.push(t[r]);return n},Du.Z=function(e){gf(this);var t=[];if("string"===typeof e)kf(this,e)&&(t=t.concat(this.g.get(bf(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Du.set=function(e,t){return gf(this),this.i=null,kf(this,e=bf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Du.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Du.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],a=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var s=a;""!==i[r]&&(s+="="+encodeURIComponent(String(i[r]))),e.push(s)}}return this.i=e.join("&")};var wf=x((function e(t,n){y(this,e),this.g=t,this.map=n}));function Ef(e){this.l=e||Sf,Uu.PerformanceNavigationTiming?e=0<(e=Uu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Uu.g&&Uu.g.Ka&&Uu.g.Ka()&&Uu.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sf=10;function _f(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tf(e){return e.h?1:e.g?e.g.size:0}function Cf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jf(e,t){e.g?e.g.add(t):e.h=t}function If(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=v(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.F)}}catch(i){r.e(i)}finally{r.f()}return n}return Xu(e.i)}Ef.prototype.cancel=function(){if(this.i=Nf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=v(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Pf,Af=function(){function e(){y(this,e)}return x(e,[{key:"stringify",value:function(e){return Uu.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Uu.JSON.parse(e,void 0)}}]),e}();function Rf(){this.g=new Af}function Of(e,t,n){var r=n||"";try{Jl(e,(function(e,n){var a=e;Bu(e)&&(a=Gc(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function Df(e,t,n,r,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(r)}catch(i){}}function Lf(e){this.l=e.fc||null,this.j=e.ob||!1}function Mf(e,t){Wc.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qu(Lf,jl),Lf.prototype.g=function(){return new Mf(this.l,this.j)},Lf.prototype.i=(Pf={},function(){return Pf}),Qu(Mf,Wc);var Ff=0;function Uf(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Vf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bf(e)}function Bf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Du=Mf.prototype).open=function(e,t){if(this.readyState!=Ff)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bf(this)},Du.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Uu).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Du.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vf(this)),this.readyState=Ff},Du.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bf(this)),this.g&&(this.readyState=3,Bf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Uu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Uf(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Du.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vf(this):Bf(this),3==this.readyState&&Uf(this)}},Du.Za=function(e){this.g&&(this.response=this.responseText=e,Vf(this))},Du.Ya=function(e){this.g&&(this.response=e,Vf(this))},Du.ka=function(){this.g&&Vf(this)},Du.setRequestHeader=function(e,t){this.v.append(e,t)},Du.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Du.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zf=Uu.JSON.parse;function Hf(e){Wc.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wf,this.L=this.M=!1}Qu(Hf,Wc);var Wf="",qf=/^https?$/i,Kf=["POST","PUT"];function Gf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qf(e),$f(e)}function Qf(e){e.F||(e.F=!0,qc(e,"complete"),qc(e,"error"))}function Yf(e){if(e.h&&"undefined"!=typeof Fu&&(!e.C[1]||4!=Jf(e)||2!=e.da()))if(e.v&&4==Jf(e))ul(e.La,0,e);else if(qc(e,"readystatechange"),4==Jf(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var a;if(a=0===n){var i=String(e.I).match(Zl)[1]||null;!i&&Uu.self&&Uu.self.location&&(i=Uu.self.location.protocol.slice(0,-1)),a=!qf.test(i?i.toLowerCase():"")}t=a}if(t)qc(e,"complete"),qc(e,"success");else{e.m=6;try{var s=2<Jf(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Qf(e)}}finally{$f(e)}}}function $f(e,t){if(e.g){Xf(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||qc(e,"ready");try{n.onreadystatechange=r}catch(a){}}}function Xf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Uu.clearTimeout(e.A),e.A=null)}function Jf(e){return e.g?e.g.readyState:0}function Zf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Wf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(sh){return null}}function ed(e){var t="";return _c(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function td(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ed(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sf(e,t,n))}function nd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rd(e){this.Ga=0,this.j=[],this.l=new vl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nd("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nd("baseRetryDelayMs",5e3,e),this.hb=nd("retryDelaySeedMs",1e4,e),this.eb=nd("forwardChannelMaxRetries",2,e),this.xa=nd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ef(e&&e.concurrentRequestLimit),this.Ja=new Rf,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ad(e){if(sd(e),3==e.H){var t=e.W++,n=tf(e.I);if(sf(n,"SID",e.K),sf(n,"RID",t),sf(n,"TYPE","terminate"),cd(e,n),(t=new Ll(e,e.l,t)).L=2,t.v=of(tf(n)),n=!1,Uu.navigator&&Uu.navigator.sendBeacon)try{n=Uu.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Uu.Image&&((new Image).src=t.v,n=!0),n||(t.g=bd(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Kl(t)}kd(e)}function id(e){e.g&&(hd(e),e.g.cancel(),e.g=null)}function sd(e){id(e),e.u&&(Uu.clearTimeout(e.u),e.u=null),vd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Uu.clearTimeout(e.m),e.m=null)}function od(e){if(!_f(e.i)&&!e.m){e.m=!0;var t=e.Na;tl||al(),nl||(tl(),nl=!0),rl.add(t,e),e.C=0}}function ud(e,t){var n;n=t?t.m:e.W++;var r=tf(e.I);sf(r,"SID",e.K),sf(r,"RID",n),sf(r,"AID",e.V),cd(e,r),e.o&&e.s&&td(r,e.o,e.s),n=new Ll(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ld(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),jf(e.i,n),Bl(n,r,t)}function cd(e,t){e.na&&_c(e.na,(function(e,n){sf(t,n,e)})),e.h&&Jl({},(function(e,n){sf(t,n,e)}))}function ld(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ku(e.h.Va,e.h,e):null;e:for(var a=e.j,i=-1;;){var s=["count="+n];-1==i?0<n?(i=a[0].g,s.push("ofs="+i)):i=0:s.push("ofs="+i);for(var o=!0,u=0;u<n;u++){var c=a[u].g,l=a[u].map;if(0>(c-=i))i=Math.max(0,a[u].g-100),o=!1;else try{Of(l,s,"req"+c+"_")}catch(f){r&&r(l)}}if(o){r=s.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function fd(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;tl||al(),nl||(tl(),nl=!0),rl.add(t,e),e.A=0}}function dd(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_l(Ku(e.Ma,e),gd(e,e.A)),e.A++,!0)}function hd(e){null!=e.B&&(Uu.clearTimeout(e.B),e.B=null)}function pd(e){e.g=new Ll(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tf(e.wa);sf(t,"RID","rpc"),sf(t,"SID",e.K),sf(t,"AID",e.V),sf(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&sf(t,"TO",e.qa),sf(t,"TYPE","xmlhttp"),cd(e,t),e.o&&e.s&&td(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=of(tf(t)),n.s=null,n.S=!0,zl(n,e)}function vd(e){null!=e.v&&(Uu.clearTimeout(e.v),e.v=null)}function md(e,t){var n=null;if(e.g==t){vd(e),hd(e),e.g=null;var r=2}else{if(!Cf(e.i,t))return;n=t.F,If(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var a=e.C;qc(r=kl(),new Sl(r,n)),od(e)}else fd(e);else if(3==(a=t.o)||0==a&&0<t.ca||!(1==r&&function(e,t){return!(Tf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_l(Ku(e.Na,e,t),gd(e,e.C)),e.C++,!0))}(e,t)||2==r&&dd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),a){case 1:yd(e,5);break;case 4:yd(e,10);break;case 3:yd(e,6);break;default:yd(e,2)}}function gd(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function yd(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ku(e.pb,e);n||(n=new ef("//www.google.com/images/cleardot.gif"),Uu.location&&"http"==Uu.location.protocol||nf(n,"https"),of(n)),function(e,t){var n=new vl;if(Uu.Image){var r=new Image;r.onload=Gu(Df,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gu(Df,n,r,"TestLoadImage: error",!1,t),r.onabort=Gu(Df,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gu(Df,n,r,"TestLoadImage: timeout",!1,t),Uu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else El(2);e.H=0,e.h&&e.h.za(t),kd(e),sd(e)}function kd(e){if(e.H=0,e.ma=[],e.h){var t=Nf(e.i);0==t.length&&0==e.j.length||(Ju(e.ma,t),Ju(e.ma,e.j),e.i.i.length=0,Xu(e.j),e.j.length=0),e.h.ya()}}function xd(e,t,n){var r=n instanceof ef?tf(n):new ef(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rf(r,r.m);else{var a=Uu.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var i=new ef(null);r&&nf(i,r),t&&(i.g=t),a&&rf(i,a),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&sf(r,n,t),sf(r,"VER",e.ra),cd(e,r),r}function bd(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Hf(new Lf({ob:!0})):new Hf(e.va)).Oa(e.J),t}function wd(){}function Ed(){if(uc&&!(10<=Number(yc)))throw Error("Environmental error: no available transport.")}function Sd(e,t){Wc.call(this),this.g=new rd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!tc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cd(this)}function _d(e){Rl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Td(){Ol.call(this),this.status=1}function Cd(e){this.g=e}function jd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Id(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^n&(a^i))+r[0]+3614090360&4294967295;s=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function Nd(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}(Du=Hf.prototype).Oa=function(e){this.M=e},Du.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pl.g(),this.C=this.u?Il(this.u):Il(Pl),this.g.onreadystatechange=Ku(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Gf(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var i,s=v(r.keys());try{for(s.s();!(i=s.n()).done;){var o=i.value;n.set(o,r.get(o))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=Uu.FormData&&e instanceof Uu.FormData,!(0<=$u(Kf,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=v(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xf(this),0<this.B&&((this.L=function(e){return uc&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ku(this.ua,this)):this.A=ul(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Gf(this,o)}},Du.ua=function(){"undefined"!=typeof Fu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qc(this,"timeout"),this.abort(8))},Du.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qc(this,"complete"),qc(this,"abort"),$f(this))},Du.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$f(this,!0)),Hf.$.N.call(this)},Du.La=function(){this.s||(this.G||this.v||this.l?Yf(this):this.kb())},Du.kb=function(){Yf(this)},Du.isActive=function(){return!!this.g},Du.da=function(){try{return 2<Jf(this)?this.g.status:-1}catch(Pf){return-1}},Du.ja=function(){try{return this.g?this.g.responseText:""}catch(Pf){return""}},Du.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zf(t)}},Du.Ia=function(){return this.m},Du.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Du=rd.prototype).ra=8,Du.H=1,Du.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Ll(this,this.l,e),n=this.s;if(this.U&&(n?jc(n=Tc(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,a=0;a<this.j.length;a++){var i=this.j[a];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=a;break e}if(4096===r||a===this.j.length-1){r=a+1;break e}}r=1e3}else r=1e3;r=ld(this,t,r),sf(a=tf(this.I),"RID",e),sf(a,"CVER",22),this.F&&sf(a,"X-HTTP-Session-Id",this.F),cd(this,a),n&&(this.O?r="headers="+encodeURIComponent(String(ed(n)))+"&"+r:this.o&&td(a,this.o,n)),jf(this.i,t),this.bb&&sf(a,"TYPE","init"),this.P?(sf(a,"$req",r),sf(a,"SID","null"),t.aa=!0,Bl(t,a,null)):Bl(t,a,r),this.H=2}}else 3==this.H&&(e?ud(this,e):0==this.j.length||_f(this.i)||ud(this))},Du.Ma=function(){if(this.u=null,pd(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_l(Ku(this.jb,this),e)}},Du.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,El(10),id(this),pd(this))},Du.ib=function(){null!=this.v&&(this.v=null,id(this),dd(this),El(19))},Du.pb=function(e){e?(this.l.info("Successfully pinged google.com"),El(2)):(this.l.info("Failed to ping google.com"),El(1))},Du.isActive=function(){return!!this.h&&this.h.isActive(this)},(Du=wd.prototype).Ba=function(){},Du.Aa=function(){},Du.za=function(){},Du.ya=function(){},Du.isActive=function(){return!0},Du.Va=function(){},Ed.prototype.g=function(e,t){return new Sd(e,t)},Qu(Sd,Wc),Sd.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;El(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=xd(e,null,e.Y),od(e)},Sd.prototype.close=function(){ad(this.g)},Sd.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Gc(e),e=n);t.j.push(new wf(t.fb++,e)),3==t.H&&od(t)},Sd.prototype.N=function(){this.g.h=null,delete this.j,ad(this.g),delete this.g,Sd.$.N.call(this)},Qu(_d,Rl),Qu(Td,Ol),Qu(Cd,wd),Cd.prototype.Ba=function(){qc(this.g,"a")},Cd.prototype.Aa=function(e){qc(this.g,new _d(e))},Cd.prototype.za=function(e){qc(this.g,new Td)},Cd.prototype.ya=function(){qc(this.g,"b")},Qu(jd,(function(){this.blockSize=-1})),jd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},jd.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,a=this.h,i=0;i<t;){if(0==a)for(;i<=n;)Id(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[a++]=e.charCodeAt(i++),a==this.blockSize){Id(this,r),a=0;break}}else for(;i<t;)if(r[a++]=e[i++],a==this.blockSize){Id(this,r),a=0;break}}this.h=a,this.i+=t},jd.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Pd={};function Ad(e){return-128<=e&&128>e?function(e,t){var n=Pd;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Nd([0|e],0>e?-1:0)})):new Nd([0|e],0>e?-1:0)}function Rd(e){if(isNaN(e)||!isFinite(e))return Dd;if(0>e)return Vd(Rd(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Od;return new Nd(t,0)}var Od=4294967296,Dd=Ad(0),Ld=Ad(1),Md=Ad(16777216);function Fd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ud(e){return-1==e.h}function Vd(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nd(n,~e.h).add(Ld)}function Bd(e,t){return e.add(Vd(t))}function zd(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Hd(e,t){this.g=e,this.h=t}function Wd(e,t){if(Fd(t))throw Error("division by zero");if(Fd(e))return new Hd(Dd,Dd);if(Ud(e))return t=Wd(Vd(e),t),new Hd(Vd(t.g),Vd(t.h));if(Ud(t))return t=Wd(e,Vd(t)),new Hd(Vd(t.g),t.h);if(30<e.g.length){if(Ud(e)||Ud(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ld,r=t;0>=r.X(e);)n=qd(n),r=qd(r);var a=Kd(n,1),i=Kd(r,1);for(r=Kd(r,2),n=Kd(n,2);!Fd(r);){var s=i.add(r);0>=s.X(e)&&(a=a.add(n),i=s),r=Kd(r,1),n=Kd(n,1)}return t=Bd(e,a.R(t)),new Hd(a,t)}for(a=Dd;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(i=Rd(n)).R(t);Ud(s)||0<s.X(e);)s=(i=Rd(n-=r)).R(t);Fd(i)&&(i=Ld),a=a.add(i),e=Bd(e,s)}return new Hd(a,e)}function qd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nd(n,e.h)}function Kd(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,a=[],i=0;i<r;i++)a[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new Nd(a,e.h)}(Du=Nd.prototype).ea=function(){if(Ud(this))return-Vd(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Od+r)*t,t*=Od}return e},Du.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Fd(this))return"0";if(Ud(this))return"-"+Vd(this).toString(e);for(var t=Rd(Math.pow(e,6)),n=this,r="";;){var a=Wd(n,t).g,i=((0<(n=Bd(n,a.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Fd(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},Du.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Du.X=function(e){return Ud(e=Bd(this,e))?-1:Fd(e)?0:1},Du.abs=function(){return Ud(this)?Vd(this):this},Du.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,a=0;a<=t;a++){var i=r+(65535&this.D(a))+(65535&e.D(a)),s=(i>>>16)+(this.D(a)>>>16)+(e.D(a)>>>16);r=s>>>16,i&=65535,s&=65535,n[a]=s<<16|i}return new Nd(n,-2147483648&n[n.length-1]?-1:0)},Du.R=function(e){if(Fd(this)||Fd(e))return Dd;if(Ud(this))return Ud(e)?Vd(this).R(Vd(e)):Vd(Vd(this).R(e));if(Ud(e))return Vd(this.R(Vd(e)));if(0>this.X(Md)&&0>e.X(Md))return Rd(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<e.g.length;a++){var i=this.D(r)>>>16,s=65535&this.D(r),o=e.D(a)>>>16,u=65535&e.D(a);n[2*r+2*a]+=s*u,zd(n,2*r+2*a),n[2*r+2*a+1]+=i*u,zd(n,2*r+2*a+1),n[2*r+2*a+1]+=s*o,zd(n,2*r+2*a+1),n[2*r+2*a+2]+=i*o,zd(n,2*r+2*a+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nd(n,0)},Du.gb=function(e){return Wd(this,e).h},Du.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nd(n,this.h&e.h)},Du.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nd(n,this.h|e.h)},Du.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nd(n,this.h^e.h)},Ed.prototype.createWebChannel=Ed.prototype.g,Sd.prototype.send=Sd.prototype.u,Sd.prototype.open=Sd.prototype.m,Sd.prototype.close=Sd.prototype.close,Tl.NO_ERROR=0,Tl.TIMEOUT=8,Tl.HTTP_ERROR=6,Cl.COMPLETE="complete",Nl.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",Wc.prototype.listen=Wc.prototype.O,Hf.prototype.listenOnce=Hf.prototype.P,Hf.prototype.getLastError=Hf.prototype.Sa,Hf.prototype.getLastErrorCode=Hf.prototype.Ia,Hf.prototype.getStatus=Hf.prototype.da,Hf.prototype.getResponseJson=Hf.prototype.Wa,Hf.prototype.getResponseText=Hf.prototype.ja,Hf.prototype.send=Hf.prototype.ha,Hf.prototype.setWithCredentials=Hf.prototype.Oa,jd.prototype.digest=jd.prototype.l,jd.prototype.reset=jd.prototype.reset,jd.prototype.update=jd.prototype.j,Nd.prototype.add=Nd.prototype.add,Nd.prototype.multiply=Nd.prototype.R,Nd.prototype.modulo=Nd.prototype.gb,Nd.prototype.compare=Nd.prototype.X,Nd.prototype.toNumber=Nd.prototype.ea,Nd.prototype.toString=Nd.prototype.toString,Nd.prototype.getBits=Nd.prototype.D,Nd.fromNumber=Rd,Nd.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Vd(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rd(Math.pow(n,8)),a=Dd,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),n);8>s?(s=Rd(Math.pow(n,s)),a=a.R(s).add(Rd(o))):a=(a=a.R(r)).add(Rd(o))}return a};var Gd=Mu.createWebChannelTransport=function(){return new Ed},Qd=Mu.getStatEventTarget=function(){return kl()},Yd=Mu.ErrorCode=Tl,$d=Mu.EventType=Cl,Xd=Mu.Event=gl,Jd=Mu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zd=(Mu.FetchXmlHttpFactory=Lf,Mu.WebChannel=Nl),eh=Mu.XhrIo=Hf,th=Mu.Md5=jd,nh=Mu.Integer=Nd,rh="@firebase/firestore",ah=function(){function e(t){y(this,e),this.uid=t}return x(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ah.UNAUTHENTICATED=new ah(null),ah.GOOGLE_CREDENTIALS=new ah("google-credentials-uid"),ah.FIRST_PARTY=new ah("first-party-uid"),ah.MOCK_USER=new ah("mock-user");var ih="10.3.1",sh=new ye("@firebase/firestore");function oh(){return sh.logLevel}function uh(e){if(sh.logLevel<=fe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(fh);sh.debug.apply(sh,["Firestore (".concat(ih,"): ").concat(e)].concat(l(a)))}}function ch(e){if(sh.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(fh);sh.error.apply(sh,["Firestore (".concat(ih,"): ").concat(e)].concat(l(a)))}}function lh(e){if(sh.logLevel<=fe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(fh);sh.warn.apply(sh,["Firestore (".concat(ih,"): ").concat(e)].concat(l(a)))}}function fh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function dh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ih,") INTERNAL ASSERTION FAILED: ")+e;throw ch(t),new Error(t)}function hh(e,t){e||dh()}function ph(e,t){return e}var vh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mh=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this,e,r)).code=e,a.message=r,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return x(n)}(W),gh=x((function e(){var t=this;y(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),yh=x((function e(t,n){y(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),kh=function(){function e(){y(this,e)}return x(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ah.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),xh=function(){function e(t){y(this,e),this.token=t,this.changeListener=null}return x(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),bh=function(){function e(t){y(this,e),this.t=t,this.currentUser=ah.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return x(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},i=new gh;this.o=function(){n.i++,n.currentUser=n.u(),i.resolve(),i=new gh,e.enqueueRetryable((function(){return a(n.currentUser)}))};var s=function(){var t=i;e.enqueueRetryable(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},o=function(e){uh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return o(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?o(e):(uh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gh)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(uh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hh("string"==typeof n.accessToken),new yh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return hh(null===e||"string"==typeof e),new ah(e)}}]),e}(),wh=function(){function e(t,n,r){y(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ah.FIRST_PARTY,this.I=new Map}return x(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Eh=function(){function e(t,n,r){y(this,e),this.l=t,this.h=n,this.P=r}return x(e,[{key:"getToken",value:function(){return Promise.resolve(new wh(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ah.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Sh=x((function e(t){y(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),_h=function(){function e(t){y(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return x(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&uh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,uh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var a=function(e){uh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return a(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?a(e):uh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(hh("string"==typeof t.token),e.R=t.token,new Sh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Th(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ch=function(){function e(){y(this,e)}return x(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Th(40),a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62));return n}}]),e}();function jh(e,t){return e<t?-1:e>t?1:0}function Ih(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Nh=function(){function e(t,n){if(y(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new mh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new mh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return x(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?jh(this.nanoseconds,e.nanoseconds):jh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ph=function(){function e(t){y(this,e),this.timestamp=t}return x(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Nh(0,0))}},{key:"max",value:function(){return new e(new Nh(253402300799,999999999))}}]),e}(),Ah=function(){function e(t,n,r){y(this,e),void 0===n?n=0:n>t.length&&dh(),void 0===r?r=t.length-n:r>t.length-n&&dh(),this.segments=t,this.offset=n,this.len=r}return x(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var a=e.get(r),i=t.get(r);if(a<i)return-1;if(a>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rh=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var i=0,s=r;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new mh(vh.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push.apply(e,l(o.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ah),Oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dh=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Oh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",a=0,i=function(){if(0===r.length)throw new mh(vh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},s=!1;a<e.length;){var o=e[a];if("\\"===o){if(a+1===e.length)throw new mh(vh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[a+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mh(vh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,a+=2}else"`"===o?(s=!s,a++):"."!==o||s?(r+=o,a++):(i(),a++)}if(i(),s)throw new mh(vh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ah),Lh=function(){function e(t){y(this,e),this.path=t}return x(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Rh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rh.fromString(t))}},{key:"fromName",value:function(t){return new e(Rh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Rh.emptyPath())}},{key:"comparator",value:function(e,t){return Rh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rh(t.slice()))}}]),e}(),Mh=x((function e(t,n,r,a){y(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=a}));Mh.UNKNOWN_ID=-1;function Fh(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Ph.fromTimestamp(1e9===r?new Nh(n+1,0):new Nh(n,r));return new Vh(a,Lh.empty(),t)}function Uh(e){return new Vh(e.readTime,e.key,-1)}var Vh=function(){function e(t,n,r){y(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return x(e,null,[{key:"min",value:function(){return new e(Ph.min(),Lh.empty(),-1)}},{key:"max",value:function(){return new e(Ph.max(),Lh.empty(),-1)}}]),e}();function Bh(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Lh.comparator(e.documentKey,t.documentKey))?n:jh(e.largestBatchId,t.largestBatchId)}var zh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hh=function(){function e(){y(this,e),this.onCommittedListeners=[]}return x(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Wh(e){return qh.apply(this,arguments)}function qh(){return(qh=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===vh.FAILED_PRECONDITION&&t.message===zh){e.next=2;break}throw t;case 2:uh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kh=function(){function e(t){var n=this;y(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return x(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&dh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,a){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,a)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,a)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,a=0,i=!1;t.forEach((function(t){++r,t.next((function(){++a,i&&a===r&&e()}),(function(e){return n(e)}))})),i=!0,a===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),a=v(t);try{var i=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(a.s();!(n=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,a){r.push(t.call(n,e,a))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var a=t.length,i=new Array(a),s=0,o=function(){var o=u;n(t[o]).next((function(t){i[o]=t,++s===a&&e(i)}),(function(e){return r(e)}))},u=0;u<a;u++)o()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function a(){!0===t()?n().next((function(){a()}),r):e()}()}))}}]),e}();function Gh(e){return"IndexedDbTransactionError"===e.name}var Qh=function(){function e(t,n){var r=this;y(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return x(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Yh(e){return null==e}function $h(e){return 0===e&&1/e==-1/0}function Xh(e){return"number"==typeof e&&Number.isInteger(e)&&!$h(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Qh.ae=-1;var Jh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Zh=([].concat(l(Jh),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),ep=Zh;[].concat(ep,["indexConfiguration","indexState","indexEntries"]);function tp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function np(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ap=function(){function e(t,n){y(this,e),this.comparator=t,this.root=n||sp.EMPTY}return x(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ip(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ip(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ip(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ip(this.root,e,this.comparator,!0)}}]),e}(),ip=function(){function e(t,n,r,a){y(this,e),this.isReverse=a,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return x(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),sp=function(){function e(t,n,r,a,i){y(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return x(e,[{key:"copy",value:function(t,n,r,a,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=i?i:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,a=n(e,r.key);return(r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(t,a.key)){if(a.right.isEmpty())return e.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw dh();if(this.right.isRed())throw dh();var e=this.left.check();if(e!==this.right.check())throw dh();return e+(this.isRed()?0:1)}}]),e}();sp.EMPTY=null,sp.RED=!0,sp.BLACK=!1,sp.EMPTY=new(function(){function e(){y(this,e),this.size=0}return x(e,[{key:"key",get:function(){throw dh()}},{key:"value",get:function(){throw dh()}},{key:"color",get:function(){throw dh()}},{key:"left",get:function(){throw dh()}},{key:"right",get:function(){throw dh()}},{key:"copy",value:function(e,t,n,r,a){return this}},{key:"insert",value:function(e,t,n){return new sp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var op=function(){function e(t){y(this,e),this.comparator=t,this.data=new ap(this.comparator)}return x(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new up(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new up(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(a,i))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),up=function(){function e(t){y(this,e),this.iter=t}return x(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var cp=function(){function e(t){y(this,e),this.fields=t,t.sort(Dh.comparator)}return x(e,[{key:"unionWith",value:function(t){var n,r=new op(Dh.comparator),a=v(this.fields);try{for(a.s();!(n=a.n()).done;){var i=n.value;r=r.add(i)}}catch(c){a.e(c)}finally{a.f()}var s,o=v(t);try{for(o.s();!(s=o.n()).done;){var u=s.value;r=r.add(u)}}catch(c){o.e(c)}finally{o.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=v(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ih(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),lp=function(e){E(n,e);var t=T(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return x(n)}(j(Error));var fp=function(e){function t(e){y(this,t),this.binaryString=e}return x(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return jh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new lp("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();fp.EMPTY_BYTE_STRING=new fp("");var dp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hp(e){if(hh(!!e),"string"==typeof e){var t=0,n=dp.exec(e);if(hh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var a=new Date(e);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pp(e.seconds),nanos:pp(e.nanos)}}function pp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vp(e){return"string"==typeof e?fp.fromBase64String(e):fp.fromUint8Array(e)}function mp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gp(e){var t=e.mapValue.fields.__previous_value__;return mp(t)?gp(t):t}function yp(e){var t=hp(e.mapValue.fields.__local_write_time__.timestampValue);return new Nh(t.seconds,t.nanos)}var kp=x((function e(t,n,r,a,i,s,o,u,c){y(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c})),xp=function(){function e(t,n){y(this,e),this.projectId=t,this.database=n||"(default)"}return x(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),bp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mp(e)?4:Lp(e)?9007199254740991:10:dh()}function Ep(e,t){if(e===t)return!0;var n=wp(e);if(n!==wp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yp(e).isEqual(yp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=hp(e.timestampValue),r=hp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vp(e.bytesValue).isEqual(vp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pp(e.geoPointValue.latitude)===pp(t.geoPointValue.latitude)&&pp(e.geoPointValue.longitude)===pp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pp(e.integerValue)===pp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pp(e.doubleValue),r=pp(t.doubleValue);return n===r?$h(n)===$h(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ih(e.arrayValue.values||[],t.arrayValue.values||[],Ep);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tp(n)!==tp(r))return!1;for(var a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Ep(n[a],r[a])))return!1;return!0}(e,t);default:return dh()}}function Sp(e,t){return void 0!==(e.values||[]).find((function(e){return Ep(e,t)}))}function _p(e,t){if(e===t)return 0;var n=wp(e),r=wp(t);if(n!==r)return jh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pp(e.integerValue||e.doubleValue),r=pp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tp(e.timestampValue,t.timestampValue);case 4:return Tp(yp(e),yp(t));case 5:return jh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vp(e),r=vp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0;a<n.length&&a<r.length;a++){var i=jh(n[a],r[a]);if(0!==i)return i}return jh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=jh(pp(e.latitude),pp(t.latitude));return 0!==n?n:jh(pp(e.longitude),pp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],a=0;a<n.length&&a<r.length;++a){var i=_p(n[a],r[a]);if(i)return i}return jh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===bp.mapValue&&t===bp.mapValue)return 0;if(e===bp.mapValue)return 1;if(t===bp.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(var s=0;s<r.length&&s<i.length;++s){var o=jh(r[s],i[s]);if(0!==o)return o;var u=_p(n[r[s]],a[i[s]]);if(0!==u)return u}return jh(r.length,i.length)}(e.mapValue,t.mapValue);default:throw dh()}}function Tp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jh(e,t);var n=hp(e),r=hp(t),a=jh(n.seconds,r.seconds);return 0!==a?a:jh(n.nanos,r.nanos)}function Cp(e){return jp(e)}function jp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=hp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Lh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,a=v(e.values||[]);try{for(a.s();!(t=a.n()).done;){var i=t.value;r?r=!1:n+=",",n+=jp(i)}}catch(s){a.e(s)}finally{a.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,a=v(Object.keys(e.fields||{}).sort());try{for(a.s();!(t=a.n()).done;){var i=t.value;r?r=!1:n+=",",n+="".concat(i,":").concat(jp(e.fields[i]))}}catch(s){a.e(s)}finally{a.f()}return n+"}"}(e.mapValue):dh()}function Ip(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Np(e){return!!e&&"integerValue"in e}function Pp(e){return!!e&&"arrayValue"in e}function Ap(e){return!!e&&"nullValue"in e}function Rp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Op(e){return!!e&&"mapValue"in e}function Dp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return np(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Dp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dp(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Lp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Mp=function(){function e(t){y(this,e),this.value=t}return x(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Op(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dp(t)}},{key:"setAll",value:function(e){var t=this,n=Dh.emptyPath(),r={},a=[];e.forEach((function(e,i){if(!n.isImmediateParentOf(i)){var s=t.getFieldsMap(n);t.applyChanges(s,r,a),r={},a=[],n=i.popLast()}e?r[i.lastSegment()]=Dp(e):a.push(i.lastSegment())}));var i=this.getFieldsMap(n);this.applyChanges(i,r,a)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ep(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Op(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){np(t,(function(t,n){return e[t]=n}));var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;delete e[i]}}catch(s){a.e(s)}finally{a.f()}}},{key:"clone",value:function(){return new e(Dp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fp(e){var t=[];return np(e.fields,(function(e,n){var r=new Dh([e]);if(Op(n)){var a=Fp(n.mapValue).fields;if(0===a.length)t.push(r);else{var i,s=v(a);try{for(s.s();!(i=s.n()).done;){var o=i.value;t.push(r.child(o))}}catch(u){s.e(u)}finally{s.f()}}}else t.push(r)})),new cp(t)}var Up=function(){function e(t,n,r,a,i,s,o){y(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}return x(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Ph.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Mp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Mp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ph.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ph.min(),Ph.min(),Ph.min(),Mp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,a){return new e(t,1,n,Ph.min(),r,a,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ph.min(),Ph.min(),Mp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ph.min(),Ph.min(),Mp.empty(),2)}}]),e}(),Vp=x((function e(t,n){y(this,e),this.position=t,this.inclusive=n}));function Bp(e,t,n){for(var r=0,a=0;a<e.position.length;a++){var i=t[a],s=e.position[a];if(r=i.field.isKeyField()?Lh.comparator(Lh.fromName(s.referenceValue),n.key):_p(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function zp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ep(e.position[n],t.position[n]))return!1;return!0}var Hp=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";y(this,e),this.field=t,this.dir=n}));function Wp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var qp=x((function e(){y(this,e)})),Kp=function(e){E(n,e);var t=T(n);function n(e,r,a){var i;return y(this,n),(i=t.call(this)).field=e,i.op=r,i.value=a,i}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_p(t,this.value)):null!==t&&wp(this.value)===wp(t)&&this.matchesComparison(_p(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dh()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ev(e,t,r):"array-contains"===t?new av(e,r):"in"===t?new iv(e,r):"not-in"===t?new sv(e,r):"array-contains-any"===t?new ov(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new tv(e,n):new nv(e,n)}}]),n}(qp),Gp=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this)).filters=e,a.op=r,a.ce=null,a}return x(n,[{key:"matches",value:function(e){return Qp(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=v(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(qp);function Qp(e){return"and"===e.op}function Yp(e){return $p(e)&&Qp(e)}function $p(e){var t,n=v(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Gp)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Xp(e){if(e instanceof Kp)return e.field.canonicalString()+e.op.toString()+Cp(e.value);if(Yp(e))return e.filters.map((function(e){return Xp(e)})).join(",");var t=e.filters.map((function(e){return Xp(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Jp(e,t){return e instanceof Kp?function(e,t){return t instanceof Kp&&e.op===t.op&&e.field.isEqual(t.field)&&Ep(e.value,t.value)}(e,t):e instanceof Gp?function(e,t){return t instanceof Gp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Jp(n,t.filters[r])}),!0)}(e,t):void dh()}function Zp(e){return e instanceof Kp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Cp(e.value))}(e):e instanceof Gp?function(e){return e.op.toString()+" {"+e.getFilters().map(Zp).join(" ,")+"}"}(e):"Filter"}var ev=function(e){E(n,e);var t=T(n);function n(e,r,a){var i;return y(this,n),(i=t.call(this,e,r,a)).key=Lh.fromName(a.referenceValue),i}return x(n,[{key:"matches",value:function(e){var t=Lh.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Kp),tv=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this,e,"in",r)).keys=rv("in",r),a}return x(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kp),nv=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this,e,"not-in",r)).keys=rv("not-in",r),a}return x(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kp);function rv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Lh.fromName(e.referenceValue)}))}var av=function(e){E(n,e);var t=T(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains",r)}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Pp(t)&&Sp(t.arrayValue,this.value)}}]),n}(Kp),iv=function(e){E(n,e);var t=T(n);function n(e,r){return y(this,n),t.call(this,e,"in",r)}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Sp(this.value.arrayValue,t)}}]),n}(Kp),sv=function(e){E(n,e);var t=T(n);function n(e,r){return y(this,n),t.call(this,e,"not-in",r)}return x(n,[{key:"matches",value:function(e){if(Sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Sp(this.value.arrayValue,t)}}]),n}(Kp),ov=function(e){E(n,e);var t=T(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains-any",r)}return x(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Sp(t.value.arrayValue,e)}))}}]),n}(Kp),uv=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;y(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.he=null}));function cv(e){return new uv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function lv(e){var t=ph(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Xp(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Yh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Cp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Cp(e)})).join(",")),t.he=n}return t.he}function fv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Jp(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zp(e.startAt,t.startAt)&&zp(e.endAt,t.endAt)}function dv(e){return Lh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var hv=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function pv(e,t,n,r,a,i,s,o){return new hv(e,t,n,r,a,i,s,o)}function vv(e){return new hv(e)}function mv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yv(e){var t,n=v(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(a){n.e(a)}finally{n.f()}return null}function kv(e){return null!==e.collectionGroup}function xv(e){var t=ph(e);if(null===t.Pe){t.Pe=[];var n=yv(t),r=gv(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Hp(n)),t.Pe.push(new Hp(Dh.keyField(),"asc"));else{var a,i=!1,s=v(t.explicitOrderBy);try{for(s.s();!(a=s.n()).done;){var o=a.value;t.Pe.push(o),o.field.isKeyField()&&(i=!0)}}catch(c){s.e(c)}finally{s.f()}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Hp(Dh.keyField(),u))}}}return t.Pe}function bv(e){var t=ph(e);return t.Ie||(t.Ie=wv(t,xv(e))),t.Ie}function wv(e,t){if("F"===e.limitType)return cv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Hp(e.field,t)}));var n=e.endAt?new Vp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vp(e.startAt.position,e.startAt.inclusive):null;return cv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Ev(e,t){t.getFirstInequalityField(),yv(e);var n=e.filters.concat([t]);return new hv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Sv(e,t,n){return new hv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _v(e,t){return fv(bv(e),bv(t))&&e.limitType===t.limitType}function Tv(e){return"".concat(lv(bv(e)),"|lt:").concat(e.limitType)}function Cv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Zp(e)})).join(", "),"]")),Yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Cp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Cp(e)})).join(",")),"Target(".concat(t,")")}(bv(e)),"; limitType=").concat(e.limitType,")")}function jv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=v(xv(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.field.isKeyField()&&null===t.data.field(a.field))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=v(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Bp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xv(e),t))&&!(e.endAt&&!function(e,t,n){var r=Bp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xv(e),t))}(e,t)}function Iv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nv(e){return function(t,n){var r,a=!1,i=v(xv(e));try{for(i.s();!(r=i.n()).done;){var s=r.value,o=Pv(s,t,n);if(0!==o)return o;a=a||s.field.isKeyField()}}catch(u){i.e(u)}finally{i.f()}return 0}}function Pv(e,t,n){var r=e.field.isKeyField()?Lh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?_p(r,a):dh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return dh()}}var Av=function(){function e(t,n){y(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return x(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i=u(r.value,2),s=i[0],o=i[1];if(this.equalsFn(s,e))return o}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){np(this.inner,(function(t,n){var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i=u(r.value,2),s=i[0],o=i[1];e(s,o)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return rp(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Rv=new ap(Lh.comparator);function Ov(){return Rv}var Dv=new ap(Lh.comparator);function Lv(){for(var e=Dv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];e=e.insert(s.key,s)}return e}function Mv(e){var t=Dv;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Fv(){return Vv()}function Uv(){return Vv()}function Vv(){return new Av((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Bv=new ap(Lh.comparator),zv=new op(Lh.comparator);function Hv(){for(var e=zv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];e=e.add(s)}return e}var Wv=new op(jh);function qv(){return Wv}function Kv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(t)?"-0":t}}function Gv(e){return{integerValue:""+e}}function Qv(e,t){return Xh(t)?Gv(t):Kv(e,t)}var Yv=x((function e(){y(this,e),this._=void 0}));function $v(e,t,n){return e instanceof Zv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&mp(t)&&(t=gp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof em?tm(e,t):e instanceof nm?rm(e,t):function(e,t){var n=Jv(e,t),r=im(n)+im(e.Te);return Np(n)&&Np(e.Te)?Gv(r):Kv(e.serializer,r)}(e,t)}function Xv(e,t,n){return e instanceof em?tm(e,t):e instanceof nm?rm(e,t):n}function Jv(e,t){return e instanceof am?function(e){return Np(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Zv=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n)}(Yv),em=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return x(n)}(Yv);function tm(e,t){var n,r=sm(t),a=v(e.elements);try{var i=function(){var e=n.value;r.some((function(t){return Ep(t,e)}))||r.push(e)};for(a.s();!(n=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}var nm=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return x(n)}(Yv);function rm(e,t){var n,r=sm(t),a=v(e.elements);try{var i=function(){var e=n.value;r=r.filter((function(t){return!Ep(t,e)}))};for(a.s();!(n=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}var am=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this)).serializer=e,a.Te=r,a}return x(n)}(Yv);function im(e){return pp(e.integerValue||e.doubleValue)}function sm(e){return Pp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var om=x((function e(t,n){y(this,e),this.field=t,this.transform=n}));var um=x((function e(t,n){y(this,e),this.version=t,this.transformResults=n})),cm=function(){function e(t,n){y(this,e),this.updateTime=t,this.exists=n}return x(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fm=x((function e(){y(this,e)}));function dm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sm(e.key,cm.none()):new gm(e.key,e.data,cm.none());var n,r=e.data,a=Mp.empty(),i=new op(Dh.comparator),s=v(t.fields);try{for(s.s();!(n=s.n()).done;){var o=n.value;if(!i.has(o)){var u=r.field(o);null===u&&o.length>1&&(o=o.popLast(),u=r.field(o)),null===u?a.delete(o):a.set(o,u),i=i.add(o)}}}catch(c){s.e(c)}finally{s.f()}return new ym(e.key,a,new cp(i.toArray()),cm.none())}function hm(e,t,n){e instanceof gm?function(e,t,n){var r=e.value.clone(),a=xm(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ym?function(e,t,n){if(lm(e.precondition,t)){var r=xm(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(km(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pm(e,t,n,r){return e instanceof gm?function(e,t,n,r){if(!lm(e.precondition,t))return n;var a=e.value.clone(),i=bm(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof ym?function(e,t,n,r){if(!lm(e.precondition,t))return n;var a=bm(e.fieldTransforms,r,t),i=t.data;return i.setAll(km(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return lm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vm(e,t){var n,r=null,a=v(e.fieldTransforms);try{for(a.s();!(n=a.n()).done;){var i=n.value,s=t.data.field(i.field),o=Jv(i.transform,s||null);null!=o&&(null===r&&(r=Mp.empty()),r.set(i.field,o))}}catch(u){a.e(u)}finally{a.f()}return r||null}function mm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ih(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof em&&t instanceof em||e instanceof nm&&t instanceof nm?Ih(e.elements,t.elements,Ep):e instanceof am&&t instanceof am?Ep(e.Te,t.Te):e instanceof Zv&&t instanceof Zv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gm=function(e){E(n,e);var t=T(n);function n(e,r,a){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return y(this,n),(i=t.call(this)).key=e,i.value=r,i.precondition=a,i.fieldTransforms=s,i.type=0,i}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fm),ym=function(e){E(n,e);var t=T(n);function n(e,r,a,i){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return y(this,n),(s=t.call(this)).key=e,s.data=r,s.fieldMask=a,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return x(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(fm);function km(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xm(e,t,n){var r=new Map;hh(e.length===n.length);for(var a=0;a<n.length;a++){var i=e[a],s=i.transform,o=t.data.field(i.field);r.set(i.field,Xv(s,o,n[a]))}return r}function bm(e,t,n){var r,a=new Map,i=v(e);try{for(i.s();!(r=i.n()).done;){var s=r.value,o=s.transform,u=n.data.field(s.field);a.set(s.field,$v(o,u,t))}}catch(c){i.e(c)}finally{i.f()}return a}var wm,Em,Sm=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=2,a.fieldTransforms=[],a}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fm),_m=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=3,a.fieldTransforms=[],a}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fm),Tm=function(){function e(t,n,r,a){y(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}return x(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var a=this.mutations[r];a.key.isEqual(e.key)&&hm(a,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=v(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.key.isEqual(e.key)&&(t=pm(a,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var i,s=v(this.mutations);try{for(s.s();!(i=s.n()).done;){var o=i.value;o.key.isEqual(e.key)&&(t=pm(o,e,t,this.localWriteTime))}}catch(u){s.e(u)}finally{s.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Uv();return this.mutations.forEach((function(a){var i=e.get(a.key),s=i.overlayedDocument,o=n.applyToLocalView(s,i.mutatedFields),u=dm(s,o=t.has(a.key)?null:o);null!==u&&r.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(Ph.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Hv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,(function(e,t){return mm(e,t)}))&&Ih(this.baseMutations,e.baseMutations,(function(e,t){return mm(e,t)}))}}]),e}(),Cm=function(){function e(t,n,r,a){y(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}return x(e,null,[{key:"from",value:function(t,n,r){hh(t.mutations.length===r.length);for(var a=Bv,i=t.mutations,s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new e(t,n,r,a)}}]),e}(),jm=function(){function e(t,n){y(this,e),this.largestBatchId=t,this.mutation=n}return x(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Im=x((function e(t,n){y(this,e),this.count=t,this.unchangedNames=n}));function Nm(e){switch(e){default:return dh();case vh.CANCELLED:case vh.UNKNOWN:case vh.DEADLINE_EXCEEDED:case vh.RESOURCE_EXHAUSTED:case vh.INTERNAL:case vh.UNAVAILABLE:case vh.UNAUTHENTICATED:return!1;case vh.INVALID_ARGUMENT:case vh.NOT_FOUND:case vh.ALREADY_EXISTS:case vh.PERMISSION_DENIED:case vh.FAILED_PRECONDITION:case vh.ABORTED:case vh.OUT_OF_RANGE:case vh.UNIMPLEMENTED:case vh.DATA_LOSS:return!0}}function Pm(e){if(void 0===e)return ch("GRPC error has no .code"),vh.UNKNOWN;switch(e){case wm.OK:return vh.OK;case wm.CANCELLED:return vh.CANCELLED;case wm.UNKNOWN:return vh.UNKNOWN;case wm.DEADLINE_EXCEEDED:return vh.DEADLINE_EXCEEDED;case wm.RESOURCE_EXHAUSTED:return vh.RESOURCE_EXHAUSTED;case wm.INTERNAL:return vh.INTERNAL;case wm.UNAVAILABLE:return vh.UNAVAILABLE;case wm.UNAUTHENTICATED:return vh.UNAUTHENTICATED;case wm.INVALID_ARGUMENT:return vh.INVALID_ARGUMENT;case wm.NOT_FOUND:return vh.NOT_FOUND;case wm.ALREADY_EXISTS:return vh.ALREADY_EXISTS;case wm.PERMISSION_DENIED:return vh.PERMISSION_DENIED;case wm.FAILED_PRECONDITION:return vh.FAILED_PRECONDITION;case wm.ABORTED:return vh.ABORTED;case wm.OUT_OF_RANGE:return vh.OUT_OF_RANGE;case wm.UNIMPLEMENTED:return vh.UNIMPLEMENTED;case wm.DATA_LOSS:return vh.DATA_LOSS;default:return dh()}}(Em=wm||(wm={}))[Em.OK=0]="OK",Em[Em.CANCELLED=1]="CANCELLED",Em[Em.UNKNOWN=2]="UNKNOWN",Em[Em.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Em[Em.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Em[Em.NOT_FOUND=5]="NOT_FOUND",Em[Em.ALREADY_EXISTS=6]="ALREADY_EXISTS",Em[Em.PERMISSION_DENIED=7]="PERMISSION_DENIED",Em[Em.UNAUTHENTICATED=16]="UNAUTHENTICATED",Em[Em.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Em[Em.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Em[Em.ABORTED=10]="ABORTED",Em[Em.OUT_OF_RANGE=11]="OUT_OF_RANGE",Em[Em.UNIMPLEMENTED=12]="UNIMPLEMENTED",Em[Em.INTERNAL=13]="INTERNAL",Em[Em.UNAVAILABLE=14]="UNAVAILABLE",Em[Em.DATA_LOSS=15]="DATA_LOSS";var Am=null;function Rm(){return new TextEncoder}var Om=new nh([4294967295,4294967295],0);function Dm(e){var t=Rm().encode(e),n=new th;return n.update(t),new Uint8Array(n.digest())}function Lm(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new nh([n,r],0),new nh([a,i],0)]}var Mm=function(){function e(t,n,r){if(y(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fm("Invalid padding: ".concat(n));if(r<0)throw new Fm("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Fm("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Fm("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=nh.fromNumber(this.Ae)}return x(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(nh.fromNumber(n)));return 1===r.compare(Om)&&(r=new nh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=u(Lm(Dm(e)),2),n=t[0],r=t[1],a=0;a<this.hashCount;a++){var i=this.Ve(n,r,a);if(!this.me(i))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=u(Lm(Dm(e)),2),n=t[0],r=t[1],a=0;a<this.hashCount;a++){var i=this.Ve(n,r,a);this.fe(i)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var a=t%8==0?0:8-t%8,i=new e(new Uint8Array(Math.ceil(t/8)),a,n);return r.forEach((function(e){return i.insert(e)})),i}}]),e}(),Fm=function(e){E(n,e);var t=T(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return x(n)}(j(Error)),Um=function(){function e(t,n,r,a,i){y(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}return x(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var a=new Map;return a.set(t,Vm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Ph.min(),a,new ap(jh),Ov(),Hv())}}]),e}(),Vm=function(){function e(t,n,r,a,i){y(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}return x(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Hv(),Hv(),Hv())}}]),e}(),Bm=x((function e(t,n,r,a){y(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=a})),zm=x((function e(t,n){y(this,e),this.targetId=t,this.ye=n})),Hm=x((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fp.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a})),Wm=function(){function e(){y(this,e),this.we=0,this.Se=Gm(),this.be=fp.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}return x(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"ve",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.Ce}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}},{key:"xe",value:function(){var e=Hv(),t=Hv(),n=Hv();return this.Se.forEach((function(r,a){switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:dh()}})),new Vm(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.Ce=!1,this.Se=Gm()}},{key:"Ne",value:function(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.Ce=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.Ce=!0,this.De=!0}}]),e}(),qm=function(){function e(t){y(this,e),this.Qe=t,this.Ke=new Map,this.$e=Ov(),this.Ue=Km(),this.We=new ap(jh)}return x(e,[{key:"Ge",value:function(e){var t,n=v(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(o){n.e(o)}finally{n.f()}var a,i=v(e.removedTargetIds);try{for(i.s();!(a=i.n()).done;){var s=a.value;this.je(s,e.key,e.pe)}}catch(o){i.e(o)}finally{i.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:dh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var a=r.target;if(dv(a))if(0===n){var i=new Lh(a.path);this.je(t,i,Up.newNoDocument(i,Ph.min()))}else hh(1===n);else{var s=this.tt(t);if(s!==n){var o=this.nt(e),u=o?this.rt(o,e,s):1;if(0!==u){this.Ze(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==Am||Am.it(function(e,t,n,r,a){var i,s,o,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(f.bloomFilter={applied:0===a,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(u=null===(o=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(s,e.ye,this.Qe.st(),o,u))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,a=t.bits,i=a.bitmap,s=void 0===i?"":i,o=a.padding,u=void 0===o?0:o,c=t.hashCount,l=void 0===c?0:c;try{n=vp(s).toUint8Array()}catch(e){if(e instanceof lp)return lh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Mm(n,u,l)}catch(e){return lh(e instanceof Fm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),a=0;return r.forEach((function(r){var i=n.Qe.st(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(r.path.canonicalString());e.mightContain(s)||(n.je(t,r,null),a++)})),a}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,a){var i=t.et(a);if(i){if(r.current&&dv(i.target)){var s=new Lh(i.target.path);null!==t.$e.get(s)||t.ut(a,s)||t.je(a,s,Up.newNoDocument(s,e))}r.Fe&&(n.set(a,r.xe()),r.Oe())}}));var r=Hv();this.Ue.forEach((function(e,n){var a=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(a=!1,!1)})),a&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var a=new Um(e,n,this.We,this.$e,r);return this.$e=Ov(),this.Ue=Km(),this.We=new ap(jh),a}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new Wm,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new op(jh),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||uh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new Wm),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Km(){return new ap(Lh.comparator)}function Gm(){return new ap(Lh.comparator)}var Qm={asc:"ASCENDING",desc:"DESCENDING"},Ym={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$m={and:"AND",or:"OR"},Xm=x((function e(t,n){y(this,e),this.databaseId=t,this.useProto3Json=n}));function Jm(e,t){return e.useProto3Json||Yh(t)?t:{value:t}}function Zm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function eg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tg(e,t){return Zm(e,t.toTimestamp())}function ng(e){return hh(!!e),Ph.fromTimestamp(function(e){var t=hp(e);return new Nh(t.seconds,t.nanos)}(e))}function rg(e,t){return function(e){return new Rh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ag(e){var t=Rh.fromString(e);return hh(Sg(t)),t}function ig(e,t){return rg(e.databaseId,t.path)}function sg(e,t){var n=ag(t);if(n.get(1)!==e.databaseId.projectId)throw new mh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lh(lg(n))}function og(e,t){return rg(e.databaseId,t)}function ug(e){var t=ag(e);return 4===t.length?Rh.emptyPath():lg(t)}function cg(e){return new Rh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lg(e){return hh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fg(e,t,n){return{name:ig(e,t),fields:n.value.mapValue.fields}}function dg(e,t){var n;if(t instanceof gm)n={update:fg(e,t.key,t.value)};else if(t instanceof Sm)n={delete:ig(e,t.key)};else if(t instanceof ym)n={update:fg(e,t.key,t.data),updateMask:Eg(t.fieldMask)};else{if(!(t instanceof _m))return dh();n={verify:ig(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof em)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof am)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw dh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:dh()}(e,t.precondition)),n}function hg(e,t){return{documents:[og(e,t.path)]}}function pg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=og(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=og(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var a=function(e){if(0!==e.length)return wg(Gp.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);var i=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:xg(e.field),direction:gg(e.dir)}}(e)}))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);var s=Jm(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function vg(e){var t=ug(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,a=null;if(r>0){hh(1===r);var i=n.from[0];i.allDescendants?a=i.collectionId:t=t.child(i.collectionId)}var s=[];n.where&&(s=function(e){var t=mg(e);return t instanceof Gp&&Yp(t)?t.getFilters():[t]}(n.where));var o=[];n.orderBy&&(o=function(e){return e.map((function(e){return function(e){return new Hp(bg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return Yh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Vp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Vp(n,t)}(n.endAt)),pv(t,a,o,s,u,"F",c,l)}function mg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bg(e.unaryFilter.field);return Kp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bg(e.unaryFilter.field);return Kp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bg(e.unaryFilter.field);return Kp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=bg(e.unaryFilter.field);return Kp.create(a,"!=",{nullValue:"NULL_VALUE"});default:return dh()}}(e):void 0!==e.fieldFilter?function(e){return Kp.create(bg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Gp.create(e.compositeFilter.filters.map((function(e){return mg(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return dh()}}(e.compositeFilter.op))}(e):dh()}function gg(e){return Qm[e]}function yg(e){return Ym[e]}function kg(e){return $m[e]}function xg(e){return{fieldPath:e.canonicalString()}}function bg(e){return Dh.fromServerFormat(e.fieldPath)}function wg(e){return e instanceof Kp?function(e){if("=="===e.op){if(Rp(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NAN"}};if(Ap(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rp(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NOT_NAN"}};if(Ap(e.value))return{unaryFilter:{field:xg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xg(e.field),op:yg(e.op),value:e.value}}}(e):e instanceof Gp?function(e){var t=e.getFilters().map((function(e){return wg(e)}));return 1===t.length?t[0]:{compositeFilter:{op:kg(e.op),filters:t}}}(e):dh()}function Eg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Sg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var _g=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ph.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ph.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fp.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}return x(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Tg=x((function e(t){y(this,e),this.ht=t}));function Cg(e){var t=vg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Sv(t,t.limit,"L"):t}var jg=function(){function e(){y(this,e)}return x(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(pp(e.integerValue));else if("doubleValue"in e){var n=pp(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),$h(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(vp(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var a=e.geoPointValue;this.At(t,45),t.Rt(a.latitude||0),t.Rt(a.longitude||0)}else"mapValue"in e?Lp(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):dh()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];this.ft(i,t),this.Tt(n[i],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.Tt(i,t)}}catch(s){a.e(s)}finally{a.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),Lh.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();jg.Ct=new jg;var Ig=function(){function e(){y(this,e),this.an=new Ng}return x(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),Kh.resolve()}},{key:"getCollectionParents",value:function(e,t){return Kh.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Kh.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Kh.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Kh.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Kh.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Kh.resolve(null)}},{key:"getIndexType",value:function(e,t){return Kh.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Kh.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Kh.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Kh.resolve(Vh.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Kh.resolve(Vh.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Kh.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Kh.resolve()}}]),e}(),Ng=function(){function e(){y(this,e),this.index={}}return x(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new op(Rh.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new op(Rh.comparator)).toArray()}}]),e}();new Uint8Array(0);var Pg=function(){function e(t,n,r){y(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return x(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Pg.DEFAULT_COLLECTION_PERCENTILE=10,Pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pg.DEFAULT=new Pg(41943040,Pg.DEFAULT_COLLECTION_PERCENTILE,Pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pg.DISABLED=new Pg(-1,0,0);var Ag=function(){function e(t){y(this,e),this.Nn=t}return x(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}();var Rg=function(){function e(){y(this,e),this.changes=new Av((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return x(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Up.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Kh.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Og=x((function e(t,n){y(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Dg=function(){function e(t,n,r,a){y(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}return x(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(a){return r=a,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&pm(r.mutation,e,cp.empty(),Nh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Hv()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hv(),a=Fv();return this.populateOverlays(e,a,t).next((function(){return n.computeViews(e,t,a,r).next((function(e){var t=Lv();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Fv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Hv())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var a=Ov(),i=Vv(),s=Vv();return t.forEach((function(e,t){var s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof ym)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),pm(s.mutation,t,s.mutation.getFieldMask(),Nh.now())):i.set(t.key,cp.empty())})),this.recalculateAndSaveOverlays(e,a).next((function(e){return e.forEach((function(e,t){return i.set(e,t)})),t.forEach((function(e,t){var n;return s.set(e,new Og(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Vv(),a=new ap((function(e,t){return e-t})),i=Hv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,i=v(e);try{var s=function(){var e=n.value;e.keys().forEach((function(n){var i=t.get(n);if(null!==i){var s=r.get(n)||cp.empty();s=e.applyToLocalView(i,s),r.set(n,s);var o=(a.get(e.batchId)||Hv()).add(n);a=a.insert(e.batchId,o)}}))};for(i.s();!(n=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}})).next((function(){for(var s=[],o=a.getReverseIterator(),u=function(){var a=o.getNext(),u=a.key,c=a.value,l=Uv();c.forEach((function(e){if(!i.has(e)){var n=dm(t.get(e),r.get(e));null!==n&&l.set(e,n),i=i.add(e)}})),s.push(n.documentOverlayCache.saveOverlays(e,u,l))};o.hasNext();)u();return Kh.waitFor(s)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Lh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var a=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(i){var s=r-i.size>0?a.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Kh.resolve(Fv()),o=-1,u=i;return s.next((function(t){return Kh.forEach(t,(function(t,n){return o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Kh.resolve():a.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return a.populateOverlays(e,t,i)})).next((function(){return a.computeViews(e,u,t,Hv())})).next((function(e){return{batchId:o,changes:Mv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Lh(t)).next((function(e){var t=Lv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var a=this,i=t.collectionGroup,s=Lv();return this.indexManager.getCollectionParents(e,i).next((function(o){return Kh.forEach(o,(function(o){var u=function(e,t){return new hv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return a.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){s=s.insert(e,t)}))}))})).next((function(){return s}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var a,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(s){return a=s,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)})).next((function(e){a.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Up.newInvalidDocument(r)))}));var n=Lv();return e.forEach((function(e,r){var i=a.get(e);void 0!==i&&pm(i.mutation,r,cp.empty(),Nh.now()),jv(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Lg=function(){function e(t){y(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return x(e,[{key:"getBundleMetadata",value:function(e,t){return Kh.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ng(e.createTime)}}(t)),Kh.resolve()}},{key:"getNamedQuery",value:function(e,t){return Kh.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:Cg(e.bundledQuery),readTime:ng(e.readTime)}}(t)),Kh.resolve()}}]),e}(),Mg=function(){function e(){y(this,e),this.overlays=new ap(Lh.comparator),this.Pr=new Map}return x(e,[{key:"getOverlay",value:function(e,t){return Kh.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Fv();return Kh.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,a){r.It(e,t,a)})),Kh.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,a=this.Pr.get(n);return void 0!==a&&(a.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),Kh.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Fv(),a=t.length+1,i=new Lh(t.child("")),s=this.overlays.getIteratorFrom(i);s.hasNext();){var o=s.getNext().value,u=o.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===a&&o.largestBatchId>n&&r.set(o.getKey(),o)}return Kh.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var a=new ap((function(e,t){return e-t})),i=this.overlays.getIterator();i.hasNext();){var s=i.getNext().value;if(s.getKey().getCollectionGroup()===t&&s.largestBatchId>n){var o=a.get(s.largestBatchId);null===o&&(o=Fv(),a=a.insert(s.largestBatchId,o)),o.set(s.getKey(),s)}}for(var u=Fv(),c=a.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Kh.resolve(u)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var a=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new jm(t,n));var i=this.Pr.get(t);void 0===i&&(i=Hv(),this.Pr.set(t,i)),this.Pr.set(t,i.add(n.key))}}]),e}(),Fg=function(){function e(){y(this,e),this.Ir=new op(Ug.dr),this.Tr=new op(Ug.Er)}return x(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ug(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new Ug(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new Lh(new Rh([])),r=new Ug(n,e),a=new Ug(n,e+1),i=[];return this.Tr.forEachInRange([r,a],(function(e){t.Rr(e),i.push(e.key)})),i}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new Lh(new Rh([])),n=new Ug(t,e),r=new Ug(t,e+1),a=Hv();return this.Tr.forEachInRange([n,r],(function(e){a=a.add(e.key)})),a}},{key:"containsKey",value:function(e){var t=new Ug(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ug=function(){function e(t,n){y(this,e),this.key=t,this.yr=n}return x(e,null,[{key:"dr",value:function(e,t){return Lh.comparator(e.key,t.key)||jh(e.yr,t.yr)}},{key:"Er",value:function(e,t){return jh(e.yr,t.yr)||Lh.comparator(e.key,t.key)}}]),e}(),Vg=function(){function e(t,n){y(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new op(Ug.dr)}return x(e,[{key:"checkEmpty",value:function(e){return Kh.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var i=new Tm(a,t,n,r);this.mutationQueue.push(i);var s,o=v(r);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.Sr=this.Sr.add(new Ug(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){o.e(c)}finally{o.f()}return Kh.resolve(i)}},{key:"lookupMutationBatch",value:function(e,t){return Kh.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),a=r<0?0:r;return Kh.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Kh.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return Kh.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ug(t,0),a=new Ug(t,Number.POSITIVE_INFINITY),i=[];return this.Sr.forEachInRange([r,a],(function(e){var t=n.br(e.yr);i.push(t)})),Kh.resolve(i)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new op(jh);return t.forEach((function(e){var t=new Ug(e,0),a=new Ug(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,a],(function(e){r=r.add(e.yr)}))})),Kh.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,a=n;Lh.isDocumentKey(a)||(a=a.child(""));var i=new Ug(new Lh(a),0),s=new op(jh);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.yr)),!0)}),i),Kh.resolve(this.Cr(s))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;hh(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return Kh.forEach(t.mutations,(function(a){var i=new Ug(a.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ug(t,0),r=this.Sr.firstAfterOrEqual(n);return Kh.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Kh.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Bg=function(){function e(t){y(this,e),this.Fr=t,this.docs=new ap(Lh.comparator),this.size=0}return x(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Kh.resolve(n?n.document.mutableCopy():Up.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ov();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Up.newInvalidDocument(e))})),Kh.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var a=Ov(),i=t.path,s=new Lh(i.child("")),o=this.docs.getIteratorFrom(s);o.hasNext();){var u=o.getNext(),c=u.key,l=u.value.document;if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||Bh(Uh(l),n)<=0||(r.has(l.key)||jv(t,l))&&(a=a.insert(l.key,l.mutableCopy()))}return Kh.resolve(a)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){dh()}},{key:"Mr",value:function(e,t){return Kh.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new zg(this)}},{key:"getSize",value:function(e){return Kh.resolve(this.size)}}]),e}(),zg=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this)).ur=e,r}return x(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,a){a.isValidDocument()?n.push(t.ur.addEntry(e,a)):t.ur.removeEntry(r)})),Kh.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(Rg),Hg=function(){function e(t){y(this,e),this.persistence=t,this.Or=new Av((function(e){return lv(e)}),fv),this.lastRemoteSnapshotVersion=Ph.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Fg,this.targetCount=0,this.Lr=Ag.Bn()}return x(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),Kh.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Kh.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Kh.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),Kh.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),Kh.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new Ag(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,Kh.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),Kh.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,Kh.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,a=0,i=[];return this.Or.forEach((function(s,o){o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r.Or.delete(s),i.push(r.removeMatchingKeysForTargetId(e,o.targetId)),a++)})),Kh.waitFor(i).next((function(){return a}))}},{key:"getTargetCount",value:function(e){return Kh.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return Kh.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),Kh.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((function(t){a.push(r.markPotentiallyOrphaned(e,t))})),Kh.waitFor(a)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),Kh.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return Kh.resolve(n)}},{key:"containsKey",value:function(e,t){return Kh.resolve(this.Br.containsKey(t))}}]),e}(),Wg=function(){function e(t,n){var r=this;y(this,e),this.kr={},this.overlays={},this.qr=new Qh(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new Hg(this),this.indexManager=new Ig,this.remoteDocumentCache=function(e){return new Bg(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new Tg(n),this.Ur=new Lg(this.serializer)}return x(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Mg,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new Vg(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;uh("MemoryPersistence","Starting transaction:",e);var a=new qg(this.qr.next());return this.referenceDelegate.Wr(),n(a).next((function(e){return r.referenceDelegate.Gr(a).next((function(){return e}))})).toPromise().then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return Kh.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qg=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return x(n)}(Hh),Kg=function(){function e(t){y(this,e),this.persistence=t,this.jr=new Fg,this.Hr=null}return x(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw dh()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),Kh.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),Kh.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),Kh.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kh.forEach(this.Yr,(function(r){var a=Lh.fromPath(r);return t.Zr(e,a).next((function(e){e||n.removeEntry(a,Ph.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return Kh.or([function(){return Kh.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}();var Gg=function(){function e(t,n,r,a){y(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=a}return x(e,null,[{key:"$i",value:function(t,n){var r,a=Hv(),i=Hv(),s=v(n.docChanges);try{for(s.s();!(r=s.n()).done;){var o=r.value;switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}}}catch(u){s.e(u)}finally{s.f()}return new e(t,n.fromCache,a,i)}}]),e}(),Qg=function(){function e(){y(this,e),this._documentReadCount=0}return x(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),Yg=function(){function e(){y(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}return x(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var a=this,i={result:null};return this.Hi(e,t).next((function(e){i.result=e})).next((function(){if(!i.result)return a.Ji(e,t,r,n).next((function(e){i.result=e}))})).next((function(){if(!i.result){var n=new Qg;return a.Yi(e,t,n).next((function(r){if(i.result=r,a.Wi)return a.Zi(e,t,n,r.size)}))}})).next((function(){return i.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(oh()<=fe.DEBUG&&uh("QueryEngine","SDK will not create cache indexes for query:",Cv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Kh.resolve()):(oh()<=fe.DEBUG&&uh("QueryEngine","Query:",Cv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(oh()<=fe.DEBUG&&uh("QueryEngine","The SDK decides to create cache indexes for query:",Cv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bv(t))):Kh.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(mv(t))return Kh.resolve(null);var r=bv(t);return this.indexManager.getIndexType(e,r).next((function(a){return 0===a?null:(null!==t.limit&&1===a&&(t=Sv(t,null,"F"),r=bv(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(a){var i=Hv.apply(void 0,l(a));return n.ji.getDocuments(e,i).next((function(a){return n.indexManager.getMinOffset(e,r).next((function(r){var s=n.Xi(t,a);return n.es(t,s,i,r.readTime)?n.Hi(e,Sv(t,null,"F")):n.ts(e,s,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var a=this;return mv(t)||r.isEqual(Ph.min())?Kh.resolve(null):this.ji.getDocuments(e,n).next((function(i){var s=a.Xi(t,i);return a.es(t,s,n,r)?Kh.resolve(null):(oh()<=fe.DEBUG&&uh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cv(t)),a.ts(e,s,t,Fh(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new op(Nv(e));return t.forEach((function(t,r){jv(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return oh()<=fe.DEBUG&&uh("QueryEngine","Using full collection scan to execute query:",Cv(t)),this.ji.getDocumentsMatchingQuery(e,t,Vh.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),$g=function(){function e(t,n,r,a){y(this,e),this.persistence=t,this.ns=n,this.serializer=a,this.rs=new ap(jh),this.ss=new Av((function(e){return lv(e)}),fv),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return x(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dg(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function Xg(e,t,n,r){return new $g(e,t,n,r)}function Jg(e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ph(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(a){return t=a,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var a,i=[],s=[],o=Hv(),u=v(t);try{for(u.s();!(a=u.n()).done;){var c=a.value;i.push(c.batchId);var l,f=v(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;o=o.add(d.key)}}catch(x){f.e(x)}finally{f.f()}}}catch(x){u.e(x)}finally{u.f()}var h,p=v(n);try{for(p.s();!(h=p.n()).done;){var m=h.value;s.push(m.batchId);var g,y=v(m.mutations);try{for(y.s();!(g=y.n()).done;){var k=g.value;o=o.add(k.key)}}catch(x){y.e(x)}finally{y.f()}}}catch(x){p.e(x)}finally{p.f()}return r.localDocuments.getDocuments(e,o).next((function(e){return{cs:e,removedBatchIds:i,addedBatchIds:s}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ey(e,t){var n=ph(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),a=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var a=n.batch,i=a.keys(),s=Kh.resolve();return i.forEach((function(e){s=s.next((function(){return r.getEntry(t,e)})).next((function(t){var i=n.docVersions.get(e);hh(null!==i),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((function(){return e.mutationQueue.removeMutationBatch(t,a)}))}(n,e,t,a).next((function(){return a.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Hv(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ty(e){var t=ph(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function ny(e,t){var n=ph(e),r=t.snapshotVersion,a=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var i=n._s.newChangeBuffer({trackRemovals:!0});a=n.rs;var s=[];t.targetChanges.forEach((function(i,o){var u=a.get(o);if(u){s.push(n.Kr.removeMatchingKeys(e,i.removedDocuments,o).next((function(){return n.Kr.addMatchingKeys(e,i.addedDocuments,o)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(fp.EMPTY_BYTE_STRING,Ph.min()).withLastLimboFreeSnapshotVersion(Ph.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,i)&&s.push(n.Kr.updateTargetData(e,c))}}));var o=Ov(),u=Hv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(ry(e,i,t.documentUpdates).next((function(e){o=e.ls,u=e.hs}))),!r.isEqual(Ph.min())){var c=n.Kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));s.push(c)}return Kh.waitFor(s).next((function(){return i.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,o,u)})).next((function(){return o}))})).then((function(e){return n.rs=a,e}))}function ry(e,t,n){var r=Hv(),a=Hv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ov();return n.forEach((function(n,i){var s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Ph.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):uh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{ls:r,hs:a}}))}function ay(e,t){var n=ph(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function iy(e,t){var n=ph(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Kr.getTargetData(e,t).next((function(a){return a?(r=a,Kh.resolve(r)):n.Kr.allocateTargetId(e).next((function(a){return r=new _g(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}function sy(e,t,n){return oy.apply(this,arguments)}function oy(){return oy=p(d().mark((function e(t,n,r){var a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ph(t),i=a.rs.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",s,(function(e){return a.persistence.referenceDelegate.removeTarget(e,i)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Gh(e.t1)){e.next=12;break}throw e.t1;case 12:uh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:a.rs=a.rs.remove(n),a.ss.delete(i.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),oy.apply(this,arguments)}function uy(e,t,n){var r=ph(e),a=Ph.min(),i=Hv();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=ph(e),a=r.ss.get(n);return void 0!==a?Kh.resolve(r.rs.get(a)):r.Kr.getTargetData(t,n)}(r,e,bv(t)).next((function(t){if(t)return a=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){i=e}))})).next((function(){return r.ns.getDocumentsMatchingQuery(e,t,n?a:Ph.min(),n?i:Hv())})).next((function(e){return cy(r,Iv(t),e),{documents:e,Ps:i}}))}))}function cy(e,t,n){var r=e.os.get(t)||Ph.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}var ly=function(){function e(){y(this,e),this.activeTargetIds=qv()}return x(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),fy=function(){function e(){y(this,e),this.ro=new ly,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return x(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new ly,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),dy=function(){function e(){y(this,e)}return x(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),hy=function(){function e(){var t=this;y(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return x(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){uh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=v(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){uh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=v(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),py=null;function vy(){return null===py?py=268435456+Math.round(2147483648*Math.random()):py++,"0x"+py.toString(16)}var my={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},gy=function(){function e(t){y(this,e),this.ho=t.ho,this.Po=t.Po}return x(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),yy="WebChannelConnection",ky=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return x(n,[{key:"vo",value:function(e,t,n,r){var a=vy();return new Promise((function(i,s){var o=new eh;o.setWithCredentials(!0),o.listenOnce($d.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Yd.NO_ERROR:var t=o.getResponseJson();uh(yy,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case Yd.TIMEOUT:uh(yy,"RPC '".concat(e,"' ").concat(a," timed out")),s(new mh(vh.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:var n=o.getStatus();if(uh(yy,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(vh).indexOf(t)>=0?t:vh.UNKNOWN}(u.status);s(new mh(c,u.message))}else s(new mh(vh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new mh(vh.UNAVAILABLE,"Connection failed."));break;default:dh()}}finally{uh(yy,"RPC '".concat(e,"' ").concat(a," completed."))}}));var u=JSON.stringify(r);uh(yy,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",u,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=vy(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Gd(),s=Qd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Co(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var c=a.join("");uh(yy,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);var l=i.createWebChannel(c,o),f=!1,d=!1,h=new gy({ho:function(t){d?uh(yy,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(uh(yy,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),uh(yy,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Po:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Zd.EventType.OPEN,(function(){d||uh(yy,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Zd.EventType.CLOSE,(function(){d||(d=!0,uh(yy,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.mo())})),p(l,Zd.EventType.ERROR,(function(t){d||(d=!0,lh(yy,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.mo(new mh(vh.UNAVAILABLE,"The operation could not be completed")))})),p(l,Zd.EventType.MESSAGE,(function(t){var n;if(!d){var a=t.data[0];hh(!!a);var i=a,s=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){uh(yy,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);var o=s.status,u=function(e){var t=wm[e];if(void 0!==t)return Pm(t)}(o),c=s.message;void 0===u&&(u=vh.INTERNAL,c="Unknown error status: "+o+" with message "+s.message),d=!0,h.mo(new mh(u,c)),l.close()}else uh(yy,"RPC '".concat(e,"' stream ").concat(r," received:"),a),h.fo(a)}})),p(s,Xd.STAT_EVENT,(function(t){t.stat===Jd.PROXY?uh(yy,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Jd.NOPROXY&&uh(yy,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.Vo()}),0),h}}]),n}(function(){function e(t){y(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(a),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(a)}return x(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,a){var i=vy(),s=this.Do(e,t);uh("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),s,n);var o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(o,r,a),this.vo(e,s,o,n).then((function(t){return uh("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t}),(function(t){throw lh("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,a,i){return this.bo(e,t,n,r,a)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ih,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=my[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function xy(){return"undefined"!=typeof document?document:null}function by(e){return new Xm(e,!0)}var wy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;y(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=a,this.No=i,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return x(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),a=Math.max(0,n-r);a>0&&uh("ExponentialBackoff","Backing off for ".concat(a," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,a,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),Ey=function(){function e(t,n,r,a,i,s,o,u){y(this,e),this._i=t,this.Uo=r,this.Wo=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new wy(t,n)}return x(e,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(){var e=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===vh.RESOURCE_EXHAUSTED?(ch(n.toString()),ch("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===vh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),a=r[0],i=r[1];e.Go===n&&e.__(a,i)}),(function(n){t((function(){var t=new mh(vh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(p(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return uh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(uh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Sy=function(e){E(n,e);var t=T(n);function n(e,r,a,i,s,o){var u;return y(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,i,o)).serializer=s,u}return x(n,[{key:"u_",value:function(e,t){return this.connection.Mo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ho.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:dh()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(hh(void 0===t||"string"==typeof t),fp.fromBase64String(t||"")):(hh(void 0===t||t instanceof Uint8Array),fp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){var t=void 0===e.code?vh.UNKNOWN:Pm(e.code);return new mh(t,e.message||"")}(s);n=new Hm(r,a,i,o||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=sg(e,u.document.name),l=ng(u.document.updateTime),f=u.document.createTime?ng(u.document.createTime):Ph.min(),d=new Mp({mapValue:{fields:u.document.fields}}),h=Up.newFoundDocument(c,l,f,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Bm(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=sg(e,m.document),y=m.readTime?ng(m.readTime):Ph.min(),k=Up.newNoDocument(g,y),x=m.removedTargetIds||[];n=new Bm([],x,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=sg(e,b.document),E=b.removedTargetIds||[];n=new Bm([],E,w,null)}else{if(!("filter"in t))return dh();t.filter;var S=t.filter;S.targetId;var _=S.count,T=void 0===_?0:_,C=S.unchangedNames,j=new Im(T,C),I=S.targetId;n=new zm(I,j)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ph.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ph.min():t.readTime?ng(t.readTime):Ph.min()}(e);return this.listener.c_(t,n)}},{key:"l_",value:function(e){var t={};t.database=cg(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=dv(r)?{documents:hg(e,r)}:{query:pg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=eg(e,t.resumeToken);var a=Jm(e,t.expectedCount);null!==a&&(n.expectedCount=a)}else if(t.snapshotVersion.compareTo(Ph.min())>0){n.readTime=Zm(e,t.snapshotVersion.toTimestamp());var i=Jm(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}},{key:"h_",value:function(e){var t={};t.database=cg(this.serializer),t.removeTarget=e,this.n_(t)}}]),n}(Ey),_y=function(e){E(n,e);var t=T(n);function n(e,r,a,i,s,o){var u;return y(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,i,o)).serializer=s,u.P_=!1,u}return x(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,ra(S(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(hh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(hh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ng(e.updateTime):ng(t);return n.isEqual(Ph.min())&&(n=ng(t)),new um(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ng(e.commitTime);return this.listener.T_(n,t)}return hh(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=cg(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return dg(t.serializer,e)}))};this.n_(n)}}]),n}(Ey),Ty=function(e){E(n,e);var t=T(n);function n(e,r,a,i){var s;return y(this,n),(s=t.call(this)).authCredentials=e,s.appCheckCredentials=r,s.connection=a,s.serializer=i,s.R_=!1,s}return x(n,[{key:"V_",value:function(){if(this.R_)throw new mh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var i=u(a,2),s=i[0],o=i[1];return r.connection.bo(e,t,n,s,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===vh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new mh(vh.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var a=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var s=u(i,2),o=s[0],c=s[1];return a.connection.Fo(e,t,n,o,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===vh.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new mh(vh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(x((function e(){y(this,e)})));var Cy=function(){function e(t,n){y(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return x(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(ch(t),this.p_=!1):uh("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),jy=x((function e(t,n,r,a,i){var s=this;y(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=i,this.x_.so((function(e){r.enqueueAndForget(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Uy(s),!e.t0){e.next=5;break}return uh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ph(t)).F_.add(4),e.next=4,Py(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,Iy(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new Cy(r,a)}));function Iy(e){return Ny.apply(this,arguments)}function Ny(){return(Ny=p(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uy(t)){e.next=18;break}n=v(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Py(e){return Ay.apply(this,arguments)}function Ay(){return(Ay=p(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Ry(e,t){var n=ph(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),Fy(n)?My(n):pk(n).Yo()&&Dy(n,t))}function Oy(e,t){var n=ph(e),r=pk(n);n.v_.delete(t),r.Yo()&&Ly(n,t),0===n.v_.size&&(r.Yo()?r.e_():Uy(n)&&n.O_.set("Unknown"))}function Dy(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ph.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}pk(e).l_(t)}function Ly(e,t){e.N_.Le(t),pk(e).h_(t)}function My(e){e.N_=new qm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.v_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),pk(e).start(),e.O_.y_()}function Fy(e){return Uy(e)&&!pk(e).Jo()&&e.v_.size>0}function Uy(e){return 0===ph(e).F_.size}function Vy(e){e.N_=void 0}function By(e){return zy.apply(this,arguments)}function zy(){return(zy=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.v_.forEach((function(e,n){Dy(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hy(e,t){return Wy.apply(this,arguments)}function Wy(){return(Wy=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vy(t),Fy(t)?(t.O_.b_(n),My(t)):t.O_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qy(e,t,n){return Ky.apply(this,arguments)}function Ky(){return Ky=p(d().mark((function e(t,n,r){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.O_.set("Online"),!(n instanceof Hm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=v(n.targetIds),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=14;break}if(s=i.value,e.t0=t.v_.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.v_.delete(s),t.N_.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),uh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Gy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Bm?t.N_.Ge(n):n instanceof zm?t.N_.Xe(n):t.N_.He(n),r.isEqual(Ph.min())){e.next=29;break}return e.prev=14,e.next=17,ty(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.N_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var a=e.v_.get(r);a&&e.v_.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.v_.get(t);if(r){e.v_.set(t,r.withResumeToken(fp.EMPTY_BYTE_STRING,r.snapshotVersion)),Ly(e,t);var a=new _g(r.target,t,n,r.sequenceNumber);Dy(e,a)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),uh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Gy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ky.apply(this,arguments)}function Gy(e,t,n){return Qy.apply(this,arguments)}function Qy(){return(Qy=p(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gh(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,Py(t);case 5:t.O_.set("Offline"),r||(r=function(){return ty(t.localStore)}),t.asyncQueue.enqueueRetryable(p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,Iy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yy(e,t){return t().catch((function(n){return Gy(e,n,t)}))}function $y(e){return Xy.apply(this,arguments)}function Xy(){return Xy=p(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ph(t),r=vk(n),a=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!Jy(n)){e.next=19;break}return e.prev=3,e.next=6,ay(n.localStore,a);case 6:if(null!==(i=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:a=i.batchId,Zy(n,i),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Gy(n,e.t0);case 17:e.next=2;break;case 19:ek(n)&&tk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Xy.apply(this,arguments)}function Jy(e){return Uy(e)&&e.C_.length<10}function Zy(e,t){e.C_.push(t);var n=vk(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function ek(e){return Uy(e)&&!vk(e).Jo()&&e.C_.length>0}function tk(e){vk(e).start()}function nk(e){return rk.apply(this,arguments)}function rk(){return(rk=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vk(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ak(e){return ik.apply(this,arguments)}function ik(){return(ik=p(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vk(t),r=v(t.C_);try{for(r.s();!(a=r.n()).done;)i=a.value,n.d_(i.mutations)}catch(s){r.e(s)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sk(e,t,n){return ok.apply(this,arguments)}function ok(){return ok=p(d().mark((function e(t,n,r){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.C_.shift(),i=Cm.from(a,n,r),e.next=3,Yy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}));case 3:return e.next=5,$y(t);case 5:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}function uk(e,t){return ck.apply(this,arguments)}function ck(){return ck=p(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&vk(t).I_,!e.t0){e.next=4;break}return e.next=4,function(){var e=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Nm(e)&&e!==vh.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),vk(t).Xo(),e.next=5,Yy(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,$y(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ek(t)&&tk(t);case 5:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){return fk.apply(this,arguments)}function fk(){return fk=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ph(t)).asyncQueue.verifyOperationInProgress(),uh("RemoteStore","RemoteStore received new credentials"),a=Uy(r),r.F_.add(3),e.next=6,Py(r);case 6:return a&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,Iy(r);case 12:case"end":return e.stop()}}),e)}))),fk.apply(this,arguments)}function dk(e,t){return hk.apply(this,arguments)}function hk(){return(hk=p(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ph(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,Iy(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,Py(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pk(e){return e.B_||(e.B_=function(e,t,n){var r=ph(e);return r.V_(),new Sy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:By.bind(null,e),Eo:Hy.bind(null,e),c_:qy.bind(null,e)}),e.M_.push(function(){var t=p(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.B_.Xo(),Fy(e)?My(e):e.O_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:Vy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}function vk(e){return e.L_||(e.L_=function(e,t,n){var r=ph(e);return r.V_(),new _y(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:nk.bind(null,e),Eo:uk.bind(null,e),E_:ak.bind(null,e),T_:sk.bind(null,e)}),e.M_.push(function(){var t=p(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,$y(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(uh("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_}var mk=function(){function e(t,n,r,a,i){y(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new gh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return x(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mh(vh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,a,i){var s=new e(t,n,Date.now()+r,a,i);return s.start(r),s}}]),e}();function gk(e,t){if(ch("AsyncQueue","".concat(t,": ").concat(e)),Gh(e))return new mh(vh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var yk=function(){function e(t){y(this,e),this.comparator=t?function(e,n){return t(e,n)||Lh.comparator(e.key,n.key)}:function(e,t){return Lh.comparator(e.key,t.key)},this.keyedMap=Lv(),this.sortedSet=new ap(this.comparator)}return x(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),kk=function(){function e(){y(this,e),this.k_=new ap(Lh.comparator)}return x(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):dh():this.k_=this.k_.insert(t,e)}},{key:"q_",value:function(){var e=[];return this.k_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),xk=function(){function e(t,n,r,a,i,s,o,u,c){y(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}return x(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_v(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,a,i){var s=[];return n.forEach((function(e){s.push({type:0,doc:e})})),new e(t,n,yk.emptySet(n),s,r,a,!0,!1,i)}}]),e}(),bk=x((function e(){y(this,e),this.Q_=void 0,this.listeners=[]})),wk=x((function e(){y(this,e),this.queries=new Av((function(e){return Tv(e)}),_v),this.onlineState="Unknown",this.K_=new Set}));function Ek(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=p(d().mark((function e(t,n){var r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ph(t),a=n.query,i=!1,(s=r.queries.get(a))||(i=!0,s=new bk),!i){e.next=13;break}return e.prev=3,e.next=6,r.onListen(a);case 6:s.Q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),o=gk(e.t0,"Initialization of query '".concat(Cv(n.query),"' failed")),e.abrupt("return",void n.onError(o));case 13:r.queries.set(a,s),s.listeners.push(n),n.U_(r.onlineState),s.Q_&&n.W_(s.Q_)&&Ik(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Sk.apply(this,arguments)}function _k(e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=p(d().mark((function e(t,n){var r,a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ph(t),a=n.query,i=!1,(s=r.queries.get(a))&&(o=s.listeners.indexOf(n))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),!i){e.next=6;break}return e.abrupt("return",(r.queries.delete(a),r.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Ck(e,t){var n,r=ph(e),a=!1,i=v(t);try{for(i.s();!(n=i.n()).done;){var s=n.value,o=s.query,u=r.queries.get(o);if(u){var c,l=v(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.W_(s)&&(a=!0)}}catch(f){l.e(f)}finally{l.f()}u.Q_=s}}}catch(f){i.e(f)}finally{i.f()}a&&Ik(r)}function jk(e,t,n){var r=ph(e),a=r.queries.get(t);if(a){var i,s=v(a.listeners);try{for(s.s();!(i=s.n()).done;){i.value.onError(n)}}catch(o){s.e(o)}finally{s.f()}}r.queries.delete(t)}function Ik(e){e.K_.forEach((function(e){e.next()}))}var Nk=function(){function e(t,n,r){y(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return x(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=v(e.docChanges);try{for(r.s();!(t=r.n()).done;){var a=t.value;3!==a.type&&n.push(a)}}catch(s){r.e(s)}finally{r.f()}e=new xk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var i=!1;return this.z_?this.H_(e)&&(this.G_.next(e),i=!0):this.J_(e,this.onlineState)&&(this.Y_(e),i=!0),this.j_=e,i}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=xk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}();var Pk=x((function e(t){y(this,e),this.key=t})),Ak=x((function e(t){y(this,e),this.key=t})),Rk=function(){function e(t,n){y(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Hv(),this.mutatedKeys=Hv(),this.ua=Nv(t),this.ca=new yk(this.ua)}return x(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new kk,a=t?t.ca:this.ca,i=t?t.mutatedKeys:this.mutatedKeys,s=a,o=!1,u="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,c="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((function(e,t){var l=a.get(e),f=jv(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ua(f,u)>0||c&&n.ua(f,c)<0)&&(o=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(o=!0)),p&&(f?(s=s.add(f),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){var l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{ca:s,Pa:r,es:o,mutatedKeys:i}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,a=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var i=e.Pa.q_();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dh()}};return n(e)-n(t)}(e.type,t.type)||r.ua(e.doc,t.doc)})),this.da(n);var s=t?this.Ta():[],o=0===this.aa.size&&this.current?1:0,u=o!==this._a;return this._a=o,0!==i.length||u?{snapshot:new xk(this.query,e.ca,a,i,e.mutatedKeys,0===o,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:s}:{Ea:s}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new kk,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"da",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=Hv(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new Ak(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new Pk(e))})),n}},{key:"Ra",value:function(e){this.oa=e.Ps,this.aa=Hv();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return xk.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),Ok=x((function e(t,n,r){y(this,e),this.query=t,this.targetId=n,this.view=r})),Dk=x((function e(t){y(this,e),this.key=t,this.ma=!1})),Lk=function(){function e(t,n,r,a,i,s){y(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Av((function(e){return Tv(e)}),_v),this.pa=new Map,this.ya=new Set,this.wa=new ap(Lh.comparator),this.Sa=new Map,this.ba=new Fg,this.Da={},this.Ca=new Map,this.va=Ag.Ln(),this.onlineState="Unknown",this.Fa=void 0}return x(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function Mk(e,t){return Fk.apply(this,arguments)}function Fk(){return Fk=p(d().mark((function e(t,n){var r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dx(t),!(s=r.ga.get(n))){e.next=6;break}a=s.targetId,r.sharedClientState.addLocalQueryTarget(a),i=s.view.Va(),e.next=15;break;case 6:return e.next=8,iy(r.localStore,bv(n));case 8:return o=e.sent,u=r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.targetId,e.next=13,Uk(r,n,a,"current"===u,o.resumeToken);case 13:i=e.sent,r.isPrimaryClient&&Ry(r.remoteStore,o);case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)}))),Fk.apply(this,arguments)}function Uk(e,t,n,r,a){return Vk.apply(this,arguments)}function Vk(){return Vk=p(d().mark((function e(t,n,r,a,i){var s,o,u,c,l,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){return function(){var e=p(d().mark((function e(t,n,r,a){var i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.view.ha(r),e.t0=i.es,!e.t0){e.next=6;break}return e.next=5,uy(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,i)}));case 5:i=e.sent;case 6:return s=a&&a.targetChanges.get(n.targetId),o=n.view.applyChanges(i,t.isPrimaryClient,s),e.abrupt("return",(ax(t,n.targetId,o.Ea),o.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,uy(t.localStore,n,!0);case 3:return s=e.sent,o=new Rk(n,s.Ps),u=o.ha(s.documents),c=Vm.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,i),l=o.applyChanges(u,t.isPrimaryClient,c),ax(t,r,l.Ea),f=new Ok(n,r,o),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}function Bk(e,t){return zk.apply(this,arguments)}function zk(){return zk=p(d().mark((function e(t,n){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ph(t),a=r.ga.get(n),!((i=r.pa.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(a.targetId,i.filter((function(e){return!_v(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,sy(r.localStore,a.targetId,!1).then((function(){r.sharedClientState.clearQueryState(a.targetId),Oy(r.remoteStore,a.targetId),nx(r,a.targetId)})).catch(Wh);case 9:e.next=14;break;case 11:return nx(r,a.targetId),e.next=14,sy(r.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}function Hk(e,t,n){return Wk.apply(this,arguments)}function Wk(){return Wk=p(d().mark((function e(t,n,r){var a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hx(t),e.prev=1,e.next=4,function(e,t){var n,r,a=ph(e),i=Nh.now(),s=t.reduce((function(e,t){return e.add(t.key)}),Hv());return a.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var o=Ov(),u=Hv();return a._s.getEntries(e,s).next((function(e){(o=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return a.localDocuments.getOverlayedDocuments(e,o)})).next((function(r){n=r;var s,o=[],u=v(t);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=vm(c,n.get(c.key).overlayedDocument);null!=l&&o.push(new ym(c.key,l,Fp(l.value.mapValue),cm.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return a.mutationQueue.addMutationBatch(e,i,o,t)})).next((function(t){r=t;var i=t.applyToLocalDocumentSet(n,u);return a.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((function(){return{batchId:r.batchId,changes:Mv(n)}}))}(a.localStore,n);case 4:return i=e.sent,a.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new ap(jh)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(a,i.batchId,r),e.next=9,ox(a,i.changes);case 9:return e.next=11,$y(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=gk(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Wk.apply(this,arguments)}function qk(e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ph(t),e.prev=1,e.next=4,ny(r.localStore,n);case 4:return a=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(hh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?hh(n.ma):e.removedDocuments.size>0&&(hh(n.ma),n.ma=!1))})),e.next=8,ox(r,a,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Kk.apply(this,arguments)}function Gk(e,t,n){var r=ph(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var a=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&a.push(r.snapshot)})),function(e,t){var n=ph(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var a,i=v(n.listeners);try{for(i.s();!(a=i.n()).done;){a.value.U_(t)&&(r=!0)}}catch(s){i.e(s)}finally{i.f()}})),r&&Ik(n)}(r.eventManager,t),a.length&&r.fa.c_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Qk(e,t,n){return Yk.apply(this,arguments)}function Yk(){return Yk=p(d().mark((function e(t,n,r){var a,i,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=ph(t)).sharedClientState.updateQueryState(n,"rejected",r),i=a.Sa.get(n),!(s=i&&i.key)){e.next=14;break}return o=(o=new ap(Lh.comparator)).insert(s,Up.newNoDocument(s,Ph.min())),u=Hv().add(s),c=new Um(Ph.min(),new Map,new ap(jh),o,u),e.next=9,qk(a,c);case 9:a.wa=a.wa.remove(s),a.Sa.delete(n),sx(a),e.next=16;break;case 14:return e.next=16,sy(a.localStore,n,!1).then((function(){return nx(a,n,r)})).catch(Wh);case 16:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function $k(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=p(d().mark((function e(t,n){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ph(t),a=n.batch.batchId,e.prev=1,e.next=4,ey(r.localStore,n);case 4:return i=e.sent,tx(r,a,null),ex(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,ox(r,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Xk.apply(this,arguments)}function Jk(e,t,n){return Zk.apply(this,arguments)}function Zk(){return Zk=p(d().mark((function e(t,n,r){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ph(t),e.prev=1,e.next=4,function(e,t){var n=ph(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return hh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(a.localStore,n);case 4:return i=e.sent,tx(a,n,r),ex(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ox(a,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Zk.apply(this,arguments)}function ex(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function tx(e,t,n){var r=ph(e),a=r.Da[r.currentUser.toKey()];if(a){var i=a.get(t);i&&(n?i.reject(n):i.resolve(),a=a.remove(t)),r.Da[r.currentUser.toKey()]=a}}function nx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,a=v(e.pa.get(t));try{for(a.s();!(r=a.n()).done;){var i=r.value;e.ga.delete(i),n&&e.fa.xa(i,n)}}catch(s){a.e(s)}finally{a.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((function(t){e.ba.containsKey(t)||rx(e,t)}))}function rx(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(Oy(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),sx(e))}function ax(e,t,n){var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;i instanceof Pk?(e.ba.addReference(i.key,t),ix(e,i)):i instanceof Ak?(uh("SyncEngine","Document no longer in limbo: "+i.key),e.ba.removeReference(i.key,t),e.ba.containsKey(i.key)||rx(e,i.key)):dh()}}catch(s){a.e(s)}finally{a.f()}}function ix(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(uh("SyncEngine","New document in limbo: "+n),e.ya.add(r),sx(e))}function sx(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new Lh(Rh.fromString(t)),r=e.va.next();e.Sa.set(r,new Dk(n)),e.wa=e.wa.insert(n,r),Ry(e.remoteStore,new _g(bv(vv(n.path)),r,"TargetPurposeLimboResolution",Qh.ae))}}function ox(e,t,n){return ux.apply(this,arguments)}function ux(){return ux=p(d().mark((function e(t,n,r){var a,i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ph(t),i=[],s=[],o=[],e.t0=a.ga.isEmpty(),e.t0){e.next=9;break}return a.ga.forEach((function(e,t){o.push(a.Ma(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);var n=Gg.$i(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(o);case 6:return a.fa.c_(i),e.next=9,function(){var e=p(d().mark((function e(t,n){var r,a,i,s,o,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ph(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Kh.forEach(n,(function(t){return Kh.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Kh.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Gh(e.t0)){e.next=10;break}throw e.t0;case 10:uh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=v(n);try{for(a.s();!(i=a.n()).done;)s=i.value,o=s.targetId,s.fromCache||(u=r.rs.get(o),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.rs=r.rs.insert(o,l))}catch(f){a.e(f)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,s);case 9:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return(lx=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ph(t)).currentUser.isEqual(n)){e.next=11;break}return uh("SyncEngine","User change. New user:",n.toKey()),e.next=5,Jg(r.localStore,n);case 5:return a=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new mh(vh.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.next=11,ox(r,a.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(e,t){var n=ph(e),r=n.Sa.get(t);if(r&&r.ma)return Hv().add(r.key);var a=Hv(),i=n.pa.get(t);if(!i)return a;var s,o=v(i);try{for(o.s();!(s=o.n()).done;){var u=s.value,c=n.ga.get(u);a=a.unionWith(c.view.la)}}catch(l){o.e(l)}finally{o.f()}return a}function dx(e){var t=ph(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qk.bind(null,t),t.fa.c_=Ck.bind(null,t.eventManager),t.fa.xa=jk.bind(null,t.eventManager),t}function hx(e){var t=ph(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$k.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,t),t}var px=function(){function e(){y(this,e),this.synchronizeTabs=!1}return x(e,[{key:"initialize",value:function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=by(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Xg(this.persistence,new Yg,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Wg(Kg.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new fy}},{key:"terminate",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),vx=function(){function e(){y(this,e)}return x(e,[{key:"initialize",value:function(){var e=p(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Gk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cx.bind(null,this.syncEngine),e.next=12,dk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new wk}},{key:"createDatastore",value:function(e){var t=by(e.databaseInfo.databaseId),n=function(e){return new ky(e)}(e.databaseInfo);return function(e,t,n,r){return new Ty(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,a){return new jy(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Gk(t.syncEngine,e,0)}),hy.C()?new hy:new dy)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,a,i,s){var o=new Lk(e,t,n,r,a,i);return s&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ph(t),uh("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,Py(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var mx=function(){function e(t){y(this,e),this.observer=t,this.muted=!1}return x(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):ch("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),gx=function(){function e(t,n,r,a){var i=this;y(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=ah.UNAUTHENTICATED,this.clientId=Ch.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh("FirestoreClient","Received user=",t.uid),e.next=3,i.authCredentialListener(t);case 3:i.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return uh("FirestoreClient","Received new app check token=",e),i.appCheckCredentialListener(e,i.user)}))}return x(e,[{key:"getConfiguration",value:function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new mh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new gh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=gk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yx(e,t){return kx.apply(this,arguments)}function kx(){return kx=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),uh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,Jg(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function xx(e,t){return bx.apply(this,arguments)}function bx(){return bx=p(d().mark((function e(t,n){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ex(t);case 3:return r=e.sent,uh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener((function(e){return lk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return lk(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),bx.apply(this,arguments)}function wx(e){return"FirebaseError"===e.name?e.code===vh.FAILED_PRECONDITION||e.code===vh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Ex(e){return Sx.apply(this,arguments)}function Sx(){return(Sx=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return uh("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,yx(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),wx(n=e.t0)){e.next=13;break}throw n;case 13:return lh("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,yx(t,new px);case 16:e.next=21;break;case 18:return uh("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,yx(t,new px);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function _x(e){return Tx.apply(this,arguments)}function Tx(){return(Tx=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return uh("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,xx(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return uh("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,xx(t,new vx);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cx(e){return _x(e).then((function(e){return e.syncEngine}))}function jx(e){return Ix.apply(this,arguments)}function Ix(){return(Ix=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_x(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Mk.bind(null,n.syncEngine),r.onUnlisten=Bk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gh;return e.asyncQueue.enqueueAndForget(p(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(e,t,n,r,a){var i=new mx({next:function(i){t.enqueueAndForget((function(){return _k(e,s)}));var o=i.docs.has(n);!o&&i.fromCache?a.reject(new mh(vh.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&i.fromCache&&r&&"server"===r.source?a.reject(new mh(vh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(i)},error:function(e){return a.reject(e)}}),s=new Nk(vv(n.path),i,{includeMetadataChanges:!0,Z_:!0});return Ek(e,s)},a.next=3,jx(e);case 3:return a.t1=a.sent,a.t2=e.asyncQueue,a.t3=t,a.t4=n,a.t5=r,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3,a.t4,a.t5));case 9:case"end":return a.stop()}}),a)})))),r.promise}function Px(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gh;return e.asyncQueue.enqueueAndForget(p(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(e,t,n,r,a){var i=new mx({next:function(n){t.enqueueAndForget((function(){return _k(e,s)})),n.fromCache&&"server"===r.source?a.reject(new mh(vh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:function(e){return a.reject(e)}}),s=new Nk(n,i,{includeMetadataChanges:!0,Z_:!0});return Ek(e,s)},a.next=3,jx(e);case 3:return a.t1=a.sent,a.t2=e.asyncQueue,a.t3=t,a.t4=n,a.t5=r,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3,a.t4,a.t5));case 9:case"end":return a.stop()}}),a)})))),r.promise}function Ax(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Rx=new Map;function Ox(e,t,n){if(!n)throw new mh(vh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dx(e){if(!Lh.isDocumentKey(e))throw new mh(vh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lx(e){if(Lh.isDocumentKey(e))throw new mh(vh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":dh()}function Fx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mh(vh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mx(e);throw new mh(vh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Ux=function(){function e(t){var n,r;if(y(this,e),void 0===t.host){if(void 0!==t.ssl)throw new mh(vh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new mh(vh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new mh(vh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ax(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mh(vh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new mh(vh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new mh(vh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return x(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Vx=function(){function e(t,n,r,a){y(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ux({}),this._settingsFrozen=!1}return x(e,[{key:"app",get:function(){if(!this._app)throw new mh(vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new mh(vh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ux(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kh;switch(e.type){case"firstParty":return new Eh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mh(vh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Rx.get(e);t&&(uh("ComponentProvider","Removing Datastore"),Rx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Bx(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e=Fx(e,Vx))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==s&&lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),a.mockUserToken){var o,u;if("string"==typeof a.mockUserToken)o=a.mockUserToken,u=ah.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[A(JSON.stringify({alg:"none",type:"JWT"})),A(JSON.stringify(i)),""].join(".")}(a.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=a.mockUserToken.sub||a.mockUserToken.user_id;if(!c)throw new mh(vh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ah(c)}e._authCredentials=new xh(new yh(o,u))}}var zx=function(){function e(t,n,r){y(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return x(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hx=function(){function e(t,n,r){y(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return x(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Wx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Wx=function(e){E(n,e);var t=T(n);function n(e,r,a){var i;return y(this,n),(i=t.call(this,e,r,vv(a)))._path=a,i.type="collection",i}return x(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Hx(this.firestore,null,new Lh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(zx);function qx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=se(e),Ox("collection","path",t),e instanceof Vx){var i=Rh.fromString.apply(Rh,[t].concat(r));return Lx(i),new Wx(e,null,i)}if(!(e instanceof Hx||e instanceof Wx))throw new mh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(Rh.fromString.apply(Rh,[t].concat(r)));return Lx(s),new Wx(e.firestore,null,s)}function Kx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=se(e),1===arguments.length&&(t=Ch.V()),Ox("doc","path",t),e instanceof Vx){var i=Rh.fromString.apply(Rh,[t].concat(r));return Dx(i),new Hx(e,null,new Lh(i))}if(!(e instanceof Hx||e instanceof Wx))throw new mh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(Rh.fromString.apply(Rh,[t].concat(r)));return Dx(s),new Hx(e.firestore,e instanceof Wx?e.converter:null,new Lh(s))}var Gx=function(){function e(){var t=this;y(this,e),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new wy(this,"async_queue_retry"),this.ou=function(){var e=xy();e&&uh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ho.$o()};var n=xy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.ou)}return x(e,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=xy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new gh;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){var e=p(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Gh(e.t0)){e.next=12;break}throw e.t0;case 12:uh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ch("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var a=mk.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(a),a}},{key:"_u",value:function(){this.nu&&dh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t,n=v(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=v(t.tu);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.skipDelay(),"all"!==e&&a.timerId===e)break}}catch(i){r.e(i)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),e}();var Qx=function(e){E(n,e);var t=T(n);function n(e,r,a,i){var s;return y(this,n),(s=t.call(this,e,r,a,i)).type="firestore",s._queue=new Gx,s._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]",s}return x(n,[{key:"_terminate",value:function(){return this._firestoreClient||Xx(this),this._firestoreClient.terminate()}}]),n}(Vx);function Yx(e,t){var n="string"==typeof e?e:t||"(default)",r=$e("object"==typeof e?e:nt(),"firestore").getImmediate({identifier:n});if(!r._initialized){var a=function(e){var t=L(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");a&&Bx.apply(void 0,[r].concat(l(a)))}return r}function $x(e){return e._firestoreClient||Xx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xx(e){var t,n,r,a=e._freezeSettings(),i=function(e,t,n,r){return new kp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ax(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._firestoreClient=new gx(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}var Jx=function(){function e(t){y(this,e),this._byteString=t}return x(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fp.fromBase64String(t))}catch(t){throw new mh(vh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fp.fromUint8Array(t))}}]),e}(),Zx=function(){function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new mh(vh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dh(n)}return x(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var eb=x((function e(t){y(this,e),this._methodName=t})),tb=function(){function e(t,n){if(y(this,e),!isFinite(t)||t<-90||t>90)throw new mh(vh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mh(vh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return x(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return jh(this._lat,e._lat)||jh(this._long,e._long)}}]),e}(),nb=/^__.*__$/,rb=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return x(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ym(e,this.data,this.fieldMask,t,this.fieldTransforms):new gm(e,this.data,t,this.fieldTransforms)}}]),e}(),ab=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return x(e,[{key:"toMutation",value:function(e,t){return new ym(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ib(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dh()}}var sb=function(){function e(t,n,r,a,i,s){y(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===i&&this.du(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return x(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return Eb(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(ib(this.Tu)&&nb.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),ob=function(){function e(t,n,r){y(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||by(t)}return x(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sb({Tu:e,methodName:t,yu:n,path:Dh.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function ub(e){var t=e._freezeSettings(),n=by(e._databaseId);return new ob(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cb(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.wu(i.merge||i.mergeFields?2:0,t,n,a);kb("Data must be an object, but it was:",s,r);var o,u,c=gb(r,s);if(i.merge)o=new cp(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){var l,f=[],d=v(i.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=xb(t,l.value,n);if(!s.contains(h))throw new mh(vh.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));Sb(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}o=new cp(f),u=s.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=null,u=s.fieldTransforms;return new rb(new Mp(c),o,u)}var lb=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.gu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eb);function fb(e,t,n){return new sb({Tu:3,yu:t.settings.yu,methodName:e._methodName,Ru:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var db=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this,e)).Su=r,a}return x(n,[{key:"_toFieldTransform",value:function(e){var t=fb(this,e,!0),n=this.Su.map((function(e){return mb(e,t)})),r=new em(n);return new om(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eb);function hb(e,t,n,r){var a=e.wu(1,t,n);kb("Data must be an object, but it was:",a,r);var i=[],s=Mp.empty();np(r,(function(e,r){var o=wb(t,e,n);r=se(r);var u=a.mu(o);if(r instanceof lb)i.push(o);else{var c=mb(r,u);null!=c&&(i.push(o),s.set(o,c))}}));var o=new cp(i);return new ab(s,o,a.fieldTransforms)}function pb(e,t,n,r,a,i){var s=e.wu(1,t,n),o=[xb(t,r,n)],u=[a];if(i.length%2!=0)throw new mh(vh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<i.length;c+=2)o.push(xb(t,i[c])),u.push(i[c+1]);for(var l=[],f=Mp.empty(),d=o.length-1;d>=0;--d)if(!Sb(l,o[d])){var h=o[d],p=u[d];p=se(p);var v=s.mu(h);if(p instanceof lb)l.push(h);else{var m=mb(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new cp(l);return new ab(f,g,s.fieldTransforms)}function vb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return mb(n,e.wu(r?4:3,t))}function mb(e,t){if(yb(e=se(e)))return kb("Unsupported field value:",t,e),gb(e,t);if(e instanceof eb)return function(e,t){if(!ib(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],a=0,i=v(e);try{for(i.s();!(n=i.n()).done;){var s=mb(n.value,t.fu(a));null==s&&(s={nullValue:"NULL_VALUE"}),r.push(s),a++}}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=se(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Nh.fromDate(e);return{timestampValue:Zm(t.serializer,n)}}if(e instanceof Nh){var r=new Nh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zm(t.serializer,r)}}if(e instanceof tb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jx)return{bytesValue:eg(t.serializer,e._byteString)};if(e instanceof Hx){var a=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(a))throw t.gu("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(a.projectId,"/").concat(a.database));return{referenceValue:rg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(Mx(e)))}(e,t)}function gb(e,t){var n={};return rp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):np(e,(function(e,r){var a=mb(r,t.Au(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function yb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nh||e instanceof tb||e instanceof Jx||e instanceof Hx||e instanceof eb)}function kb(e,t,n){if(!yb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Mx(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function xb(e,t,n){if((t=se(t))instanceof Zx)return t._internalPath;if("string"==typeof t)return wb(e,t);throw Eb("Field path arguments must be of type string or ",e,!1,void 0,n)}var bb=new RegExp("[~\\*/\\[\\]]");function wb(e,t,n){if(t.search(bb)>=0)throw Eb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return C(Zx,l(t.split(".")))._internalPath}catch(Qu){throw Eb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Eb(e,t,n,r,a){var i=r&&!r.isEmpty(),s=void 0!==a,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var u="";return(i||s)&&(u+=" (found",i&&(u+=" in field ".concat(r)),s&&(u+=" in document ".concat(a)),u+=")"),new mh(vh.INVALID_ARGUMENT,o+e+u)}function Sb(e,t){return e.some((function(e){return e.isEqual(t)}))}var _b=function(){function e(t,n,r,a,i){y(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}return x(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Hx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Cb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Tb=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n,[{key:"data",value:function(){return ra(S(n.prototype),"data",this).call(this)}}]),n}(_b);function Cb(e,t){return"string"==typeof t?wb(e,t):t instanceof Zx?t._internalPath:t._delegate._internalPath}function jb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mh(vh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ib=x((function e(){y(this,e)})),Nb=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n)}(Ib);function Pb(e,t){for(var n=[],r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];t instanceof Ib&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Ob})).length,n=e.filter((function(e){return e instanceof Ab})).length;if(t>1||t>0&&n>0)throw new mh(vh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(a));var s,o=v(n);try{for(o.s();!(s=o.n()).done;){e=s.value._apply(e)}}catch(u){o.e(u)}finally{o.f()}return e}var Ab=function(e){E(n,e);var t=T(n);function n(e,r,a){var i;return y(this,n),(i=t.call(this))._field=e,i._op=r,i._value=a,i.type="where",i}return x(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Mb(e._query,t),new zx(e.firestore,e.converter,Ev(e._query,t))}},{key:"_parse",value:function(e){var t=ub(e.firestore),n=function(e,t,n,r,a,i,s){var o;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new mh(vh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Lb(s,i);var u,c=[],l=v(s);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Db(r,e,f))}}catch(d){l.e(d)}finally{l.f()}o={arrayValue:{values:c}}}else o=Db(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Lb(s,i),o=vb(n,t,s,"in"===i||"not-in"===i);return Kp.create(a,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Nb);function Rb(e,t,n){var r=t,a=Cb("where",e);return Ab._create(a,r,n)}var Ob=function(e){E(n,e);var t=T(n);function n(e,r){var a;return y(this,n),(a=t.call(this)).type=e,a._queryConstraints=r,a}return x(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Gp.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,a=v(t.getFlattenedFilters());try{for(a.s();!(n=a.n()).done;){var i=n.value;Mb(r,i),r=Ev(r,i)}}catch(s){a.e(s)}finally{a.f()}}(e._query,t),new zx(e.firestore,e.converter,Ev(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ib);function Db(e,t,n){if("string"==typeof(n=se(n))){if(""===n)throw new mh(vh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kv(t)&&-1!==n.indexOf("/"))throw new mh(vh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Rh.fromString(n));if(!Lh.isDocumentKey(r))throw new mh(vh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ip(e,new Lh(r))}if(n instanceof Hx)return Ip(e,n._key);throw new mh(vh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Mx(n),"."))}function Lb(e,t){if(!Array.isArray(e)||0===e.length)throw new mh(vh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Mb(e,t){if(t.isInequality()){var n=yv(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new mh(vh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var a=gv(e);null!==a&&Fb(e,r,a)}var i=function(e,t){var n,r=v(e);try{for(r.s();!(n=r.n()).done;){var a,i=v(n.value.getFlattenedFilters());try{for(i.s();!(a=i.n()).done;){var s=a.value;if(t.indexOf(s.op)>=0)return s.op}}catch(o){i.e(o)}finally{i.f()}}}catch(o){r.e(o)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new mh(vh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new mh(vh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}function Fb(e,t,n){if(!n.isEqual(t))throw new mh(vh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ub=function(){function e(){y(this,e)}return x(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dh()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return np(e,(function(e,a){r[e]=t.convertValue(a,n)})),r}},{key:"convertGeoPoint",value:function(e){return new tb(pp(e.latitude),pp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=gp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=hp(e);return new Nh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rh.fromString(e);hh(Sg(n));var r=new xp(n.get(1),n.get(3)),a=new Lh(n.popFirst(5));return r.isEqual(t)||ch("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}]),e}();function Vb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Bb=function(){function e(t,n){y(this,e),this.hasPendingWrites=t,this.fromCache=n}return x(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),zb=function(e){E(n,e);var t=T(n);function n(e,r,a,i,s,o){var u;return y(this,n),(u=t.call(this,e,r,a,i,o))._firestore=e,u._firestoreImpl=e,u.metadata=s,u}return x(n,[{key:"exists",value:function(){return ra(S(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Hb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Cb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(_b),Hb=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ra(S(n.prototype),"data",this).call(this,e)}}]),n}(zb),Wb=function(){function e(t,n,r,a){y(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Bb(a.hasPendingWrites,a.fromCache),this.query=r}return x(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Hb(n._firestore,n._userDataWriter,r.key,r,new Bb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mh(vh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Hb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Hb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qb(t.type),doc:n,oldIndex:a,newIndex:i}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function qb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dh()}}function Kb(e){e=Fx(e,Hx);var t=Fx(e.firestore,Qx);return Nx($x(t),e._key).then((function(n){return Jb(t,e,n)}))}var Gb=function(e){E(n,e);var t=T(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return x(n,[{key:"convertBytes",value:function(e){return new Jx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hx(this.firestore,null,t)}}]),n}(Ub);function Qb(e){e=Fx(e,zx);var t=Fx(e.firestore,Qx),n=$x(t),r=new Gb(t);return jb(e._query),Px(n,e._query).then((function(n){return new Wb(t,r,e,n)}))}function Yb(e,t,n){e=Fx(e,Hx);var r=Fx(e.firestore,Qx),a=Vb(e.converter,t,n);return Xb(r,[cb(ub(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,cm.none())])}function $b(e,t,n){e=Fx(e,Hx);for(var r=Fx(e.firestore,Qx),a=ub(r),i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return Xb(r,[("string"==typeof(t=se(t))||t instanceof Zx?pb(a,"updateDoc",e._key,t,n,s):hb(a,"updateDoc",e._key,t)).toMutation(e._key,cm.exists(!0))])}function Xb(e,t){return function(e,t){var n=new gh;return e.asyncQueue.enqueueAndForget(p(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Hk,r.next=3,Cx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}($x(e),t)}function Jb(e,t,n){var r=n.docs.get(t._key),a=new Gb(e);return new zb(e,a,t._key,r,new Bb(n.hasPendingWrites,n.fromCache),t.converter)}var Zb=function(){function e(t,n){y(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ub(t)}return x(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ew(e,this._firestore),a=Vb(r.converter,t,n),i=cb(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,cm.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,a=ew(e,this._firestore),i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return r="string"==typeof(t=se(t))||t instanceof Zx?pb(this._dataReader,"WriteBatch.update",a._key,t,n,s):hb(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(r.toMutation(a._key,cm.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ew(e,this._firestore);return this._mutations=this._mutations.concat(new Sm(t._key,cm.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new mh(vh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ew(e,t){if((e=se(e)).firestore!==t)throw new mh(vh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function tw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new db("arrayUnion",t)}function nw(e){return $x(e=Fx(e,Qx)),new Zb(e,(function(t){return Xb(e,t)}))}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ih=e}(et),Ye(new oe("firestore",(function(e,n){var r=n.instanceIdentifier,a=n.options,i=e.getProvider("app").getImmediate(),s=new Qx(new bh(e.getProvider("auth-internal")),new _h(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mh(vh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xp(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),rt(rh,"4.1.3",e),rt(rh,"4.1.3","esm2017")}();var rw,aw="firebasestorage.googleapis.com",iw="storageBucket",sw=function(e){E(n,e);var t=T(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return y(this,n),(a=t.call(this,ow(e),"Firebase Storage: ".concat(r," (").concat(ow(e),")"))).status_=i,a.customData={serverResponse:null},a._baseMessage=a.message,Object.setPrototypeOf(b(a),n.prototype),a}return x(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return ow(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(W);function ow(e){return"storage/"+e}function uw(){return new sw(rw.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cw(){return new sw(rw.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lw(){return new sw(rw.CANCELED,"User canceled the upload/download.")}function fw(e){return new sw(rw.INVALID_ARGUMENT,e)}function dw(){return new sw(rw.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(rw||(rw={}));var hw,pw=function(){function e(t,n){y(this,e),this.bucket=t,this.path_=n}return x(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,a;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw a=t,new sw(rw.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,a="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+a+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(a,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(n===aw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(a,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new sw(rw.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),vw=function(){function e(t){y(this,e),this.promise_=Promise.reject(t)}return x(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function mw(e,t,n,r){if(r<t)throw fw("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw fw("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function gw(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function yw(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(hw||(hw={}));var kw=function(){function e(t,n,r,a,i,s,o,u,c,l,f){var d=this,h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];y(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return x(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,a=e.reject_,i=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(i,i.getResponse());!function(e){return void 0!==e}(s)?r():r(s)}catch(u){a(u)}else if(null!==i){var o=uw();o.serverResponse=i.getErrorText(),e.errorCallback_?a(e.errorCallback_(i,o)):a(o)}else{if(n.canceled)a(e.appDelete_?dw():lw());else a(cw())}};this.canceled_?t(0,new xw(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,a=null,i=null,s=!1,o=0;function u(){return 2===o}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){a=setTimeout((function(){a=null,e(h,u())}),t)}function d(){i&&clearTimeout(i)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var i;if(u()||s)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),f(i)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==a?(e||(o=2),clearTimeout(a),f(0)):e||(o=1)))}return f(0),i=setTimeout((function(){s=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new xw(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var a=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(a),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(a),e.pendingConnection_=null;var n=r.getErrorCode()===hw.NO_ERROR,i=r.getStatus();if(!n||yw(i,e.additionalRetryCodes_)&&e.retry){var s=r.getErrorCode()===hw.ABORT;t(!1,new xw(!1,null,s))}else{var o=-1!==e.successCodes_.indexOf(i);t(!0,new xw(o,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),xw=x((function e(t,n,r){y(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function bw(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var ww=function(){function e(t,n){y(this,e),this._service=t,this._location=n instanceof pw?n:pw.makeFromUrl(n,t.host)}return x(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new pw(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return bw(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new pw(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new sw(rw.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Ew(e,t){var n=null===t||void 0===t?void 0:t[iw];return null==n?null:pw.makeFromBucketSpec(n,e)}var Sw=function(){function e(t,n,r,a,i){y(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._bucket=null,this._host=aw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?pw.makeFromBucketSpec(a,this._host):Ew(this._host,this.app.options)}return x(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=pw.makeFromBucketSpec(this._url,e):this._bucket=Ew(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ww(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var a=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new vw(dw());var s=function(e,t,n,r,a,i){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=gw(e.urlParams),u=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new kw(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((function(){return a._requests.delete(s)}),(function(){return a._requests.delete(s)})),s}},{key:"makeRequestWithTokens",value:function(){var e=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=u(r,2),i=a[0],s=a[1],e.abrupt("return",this._makeRequest(t,n,i,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),_w="@firebase/storage",Tw="0.11.2",Cw="storage";function jw(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Sw(r,a,i,n,et)}Ye(new oe(Cw,jw,"PUBLIC").setMultipleInstances(!0)),rt(_w,Tw,""),rt(_w,Tw,"esm2017");var Iw=tt({apiKey:"AIzaSyCHSouusB1g-znIrFzM__DtEUy9YkXwSKY",authDomain:"checklist-app-c15bb.firebaseapp.com",projectId:"checklist-app-c15bb",storageBucket:"checklist-app-c15bb.appspot.com",messagingSenderId:"24004038101",appId:"1:24004038101:web:b7c7b7ed201956b984415c",measurementId:"G-4M7SMKQMR1"}),Nw=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt(),t=$e(e=se(e),ar);t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$e(e,ar);if(n.isInitialized()){var r=n.getImmediate();if(Q(t,n.getOptions()))return r;throw dr.create("already-initialized")}var a=n.initialize({options:t})}(e)}(Iw),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt(),t=$e(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=$e(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Q(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;pa(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wu,persistence:[yo,qs,Gs]}),a=F("authTokenSyncURL");if(a){var i=(n=a,function(){var e=p(d().mark((function e(t){var r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((a=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&a>Ru)){e.next=9;break}return e.abrupt("return");case 9:if(i=null===r||void 0===r?void 0:r.token,Ou!==i){e.next=12;break}return e.abrupt("return");case 12:return Ou=i,e.next=15,fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){se(e).beforeAuthStateChanged(t,n)}(r,i,(function(){return i(r.currentUser)})),function(e,t,n,r){se(e).onIdTokenChanged(t,n,r)}(r,(function(e){return i(e)}))}var s=L("auth");return s&&Ui(r,"http://".concat(s)),r}(Iw)),Pw=Yx(Iw),Aw=(Yx(Iw),n(184)),Rw=e.createContext();function Ow(){return(0,e.useContext)(Rw)}function Dw(t){var n=t.children,r=u((0,e.useState)(),2),a=r[0],i=r[1],s=u((0,e.useState)(!0),2),o=s[0],c=s[1];(0,e.useEffect)((function(){return Nw.onAuthStateChanged((function(e){i(e),c(!1)}))}),[]);var l={currentUser:a,login:function(e,t){return function(e,t,n){return As(se(e),hs.credential(t,n)).catch(function(){var t=p(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Ds(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(Nw,e,t)},signup:function(e,t){return function(e,t,n){return Fs.apply(this,arguments)}(Nw,e,t)},logout:function(){return Nw.signOut()},resetPassword:function(e){return function(e,t,n){return Ms.apply(this,arguments)}(Nw,e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return(0,Aw.jsx)(Rw.Provider,{value:l,children:!o&&n})}function Lw(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Mw(e,t){if(null==e)return{};var n,r,a=Lw(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Fw=n(694),Uw=n.n(Fw),Vw=["xxl","xl","lg","md","sm","xs"],Bw=e.createContext({prefixes:{},breakpoints:Vw,minBreakpoint:"xs"});Bw.Consumer,Bw.Provider;function zw(t,n){var r=(0,e.useContext)(Bw).prefixes;return t||r[n]||n}function Hw(){return(0,e.useContext)(Bw).breakpoints}function Ww(){return(0,e.useContext)(Bw).minBreakpoint}function qw(){return"rtl"===(0,e.useContext)(Bw).dir}var Kw=["bsPrefix","fluid","as","className"],Gw=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,a=void 0!==r&&r,i=e.as,s=void 0===i?"div":i,o=e.className,u=Mw(e,Kw),c=zw(n,"container"),l="string"===typeof a?"-".concat(a):"-fluid";return(0,Aw.jsx)(s,xe(xe({ref:t},u),{},{className:Uw()(o,a?"".concat(c).concat(l):c)}))}));Gw.displayName="Container";var Qw=Gw,Yw=["bsPrefix","className","as"],$w=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,i=void 0===a?"div":a,s=Mw(e,Yw),o=zw(n,"row"),u=Hw(),c=Ww(),l="".concat(o,"-cols"),f=[];return u.forEach((function(e){var t,n=s[e];delete s[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&f.push("".concat(l).concat(r,"-").concat(t))})),(0,Aw.jsx)(i,xe(xe({ref:t},s),{},{className:Uw().apply(void 0,[r,o].concat(f))}))}));$w.displayName="Row";var Xw=$w,Jw=["as","bsPrefix","className"],Zw=["className"];var eE=e.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,a=Mw(e,Jw);n=zw(n,"col");var i=Hw(),s=Ww(),o=[],u=[];return i.forEach((function(e){var t,r,i,c=a[e];delete a[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,i=c.order):t=c;var l=e!==s?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=i&&u.push("order".concat(l,"-").concat(i)),null!=r&&u.push("offset".concat(l,"-").concat(r))})),[xe(xe({},a),{},{className:Uw().apply(void 0,[r].concat(o,u))}),{as:t,bsPrefix:n,spans:o}]}(e),r=u(n,2),a=r[0],i=a.className,s=Mw(a,Zw),o=r[1],c=o.as,l=void 0===c?"div":c,f=o.bsPrefix,d=o.spans;return(0,Aw.jsx)(l,xe(xe({},s),{},{ref:t,className:Uw()(i,!d.length&&f)}))}));eE.displayName="Col";var tE=eE,nE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},rE=e.createContext(null);function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aE.apply(this,arguments)}n(176);function iE(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function sE(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function oE(t,n){return Object.keys(n).reduce((function(r,a){var i,s=r,o=s[iE(a)],u=s[a],c=Lw(s,[iE(a),a].map(sE)),l=n[a],f=function(t,n,r){var a=(0,e.useRef)(void 0!==t),i=(0,e.useState)(n),s=i[0],o=i[1],u=void 0!==t,c=a.current;return a.current=u,!u&&c&&s!==n&&o(n),[u?t:s,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r&&r.apply(void 0,[e].concat(n)),o(e)}),[r])]}(u,o,t[l]),d=f[0],h=f[1];return aE({},c,((i={})[a]=d,i[l]=h,i))}),t)}function uE(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function cE(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function lE(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}uE.__suppressDeprecationWarning=!0,cE.__suppressDeprecationWarning=!0,lE.__suppressDeprecationWarning=!0;var fE=/-(.)/g;var dE=["className","bsPrefix","as"],hE=function(e){return e[0].toUpperCase()+(t=e,t.replace(fE,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function pE(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,a=void 0===r?hE(t):r,i=n.Component,s=n.defaultProps,o=e.forwardRef((function(e,n){var r=e.className,a=e.bsPrefix,o=e.as,u=void 0===o?i||"div":o,c=Mw(e,dE),l=xe(xe({},s),c),f=zw(a,t);return(0,Aw.jsx)(u,xe({ref:n,className:Uw()(r,f)},l))}));return o.displayName=a,o}var vE=["bsPrefix","className","as"],mE=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,i=Mw(e,vE);n=zw(n,"navbar-brand");var s=a||(i.href?"a":"span");return(0,Aw.jsx)(s,xe(xe({},i),{},{ref:t,className:Uw()(r,n)}))}));mE.displayName="NavbarBrand";var gE=mE;function yE(e){return e&&e.ownerDocument||document}function kE(e,t){return function(e){var t=yE(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var xE=/([A-Z])/g;var bE=/^ms-/;function wE(e){return function(e){return e.replace(xE,"-$1").toLowerCase()}(e).replace(bE,"-ms-")}var EE=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var SE=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(wE(t))||kE(e).getPropertyValue(wE(t));Object.keys(t).forEach((function(a){var i=t[a];i||0===i?!function(e){return!(!e||!EE.test(e))}(a)?n+=wE(a)+": "+i+";":r+=a+"("+i+") ":e.style.removeProperty(wE(a))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var _E=n(164),TE=!1,CE=e.createContext(null),jE="unmounted",IE="exited",NE="entering",PE="entered",AE="exiting",RE=function(t){var n,r;function a(e,n){var r;r=t.call(this,e,n)||this;var a,i=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?i?(a=IE,r.appearStatus=NE):a=PE:a=e.unmountOnExit||e.mountOnEnter?jE:IE,r.state={status:a},r.nextCallback=null,r}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,w(n,r),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===jE?{status:IE}:null};var i=a.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==NE&&n!==PE&&(t=NE):n!==NE&&n!==PE||(t=AE)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===NE){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:_E.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===IE&&this.setState({status:jE})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[_E.findDOMNode(this),r],i=a[0],s=a[1],o=this.getTimeouts(),u=r?o.appear:o.enter;!e&&!n||TE?this.safeSetState({status:PE},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:NE},(function(){t.props.onEntering(i,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:PE},(function(){t.props.onEntered(i,s)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:_E.findDOMNode(this);t&&!TE?(this.props.onExit(r),this.safeSetState({status:AE},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:IE},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:IE},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:_E.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],s=a[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===jE)return null;var n=this.props,r=n.children,a=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Lw(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(CE.Provider,{value:null},"function"===typeof r?r(t,a):e.cloneElement(e.Children.only(r),a))},a}(e.Component);function OE(){}RE.contextType=CE,RE.propTypes={},RE.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:OE,onEntering:OE,onEntered:OE,onExit:OE,onExiting:OE,onExited:OE},RE.UNMOUNTED=jE,RE.EXITED=IE,RE.ENTERING=NE,RE.ENTERED=PE,RE.EXITING=AE;var DE=RE,LE=!("undefined"===typeof window||!window.document||!window.document.createElement),ME=!1,FE=!1;try{var UE={get passive(){return ME=!0},get once(){return FE=ME=!0}};LE&&(window.addEventListener("test",UE,UE),window.removeEventListener("test",UE,!0))}catch(LA){}var VE=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!FE){var a=r.once,i=r.capture,s=n;!FE&&a&&(s=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=s),e.addEventListener(t,s,ME?r:i)}e.addEventListener(t,n,r)};var BE=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};var zE=function(e,t,n,r){return VE(e,t,n,r),function(){BE(e,t,n,r)}};function HE(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+n),i=zE(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),i()}}function WE(e,t,n,r){null==n&&(n=function(e){var t=SE(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var a=HE(e,n,r),i=zE(e,"transitionend",t);return function(){a(),i()}}function qE(e,t){var n=SE(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function KE(e,t){var n=qE(e,"transitionDuration"),r=qE(e,"transitionDelay"),a=WE(e,(function(n){n.target===e&&(a(),t(n))}),n+r)}var GE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),null)};function QE(e){e.offsetHeight}var YE=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var $E=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=YE(e),r=YE(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])};var XE,JE=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ZE=e.forwardRef((function(t,n){var r=t.onEnter,a=t.onEntering,i=t.onEntered,s=t.onExit,o=t.onExiting,u=t.onExited,c=t.addEndListener,l=t.children,f=t.childRef,d=Mw(t,JE),h=(0,e.useRef)(null),p=$E(h,f),v=function(e){var t;p((t=e)&&"setState"in t?_E.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&h.current&&e(h.current,t)}},g=(0,e.useCallback)(m(r),[r]),y=(0,e.useCallback)(m(a),[a]),k=(0,e.useCallback)(m(i),[i]),x=(0,e.useCallback)(m(s),[s]),b=(0,e.useCallback)(m(o),[o]),w=(0,e.useCallback)(m(u),[u]),E=(0,e.useCallback)(m(c),[c]);return(0,Aw.jsx)(DE,xe(xe({ref:n},d),{},{onEnter:g,onEntered:k,onEntering:y,onExit:x,onExited:w,onExiting:b,addEndListener:E,nodeRef:h,children:"function"===typeof l?function(e,t){return l(e,xe(xe({},t),{},{ref:v}))}:e.cloneElement(l,{ref:v})}))})),eS=ZE,tS=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],nS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function rS(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=nS[e];return n+parseInt(SE(t,r[0]),10)+parseInt(SE(t,r[1]),10)}var aS=(g(XE={},IE,"collapse"),g(XE,AE,"collapsing"),g(XE,NE,"collapsing"),g(XE,PE,"collapse show"),XE),iS=e.forwardRef((function(t,n){var r=t.onEnter,a=t.onEntering,i=t.onEntered,s=t.onExit,o=t.onExiting,u=t.className,c=t.children,l=t.dimension,f=void 0===l?"height":l,d=t.in,h=void 0!==d&&d,p=t.timeout,v=void 0===p?300:p,m=t.mountOnEnter,g=void 0!==m&&m,y=t.unmountOnExit,k=void 0!==y&&y,x=t.appear,b=void 0!==x&&x,w=t.getDimensionValue,E=void 0===w?rS:w,S=Mw(t,tS),_="function"===typeof f?f():f,T=(0,e.useMemo)((function(){return GE((function(e){e.style[_]="0"}),r)}),[_,r]),C=(0,e.useMemo)((function(){return GE((function(e){var t="scroll".concat(_[0].toUpperCase()).concat(_.slice(1));e.style[_]="".concat(e[t],"px")}),a)}),[_,a]),j=(0,e.useMemo)((function(){return GE((function(e){e.style[_]=null}),i)}),[_,i]),I=(0,e.useMemo)((function(){return GE((function(e){e.style[_]="".concat(E(_,e),"px"),QE(e)}),s)}),[s,E,_]),N=(0,e.useMemo)((function(){return GE((function(e){e.style[_]=null}),o)}),[_,o]);return(0,Aw.jsx)(eS,xe(xe({ref:n,addEndListener:KE},S),{},{"aria-expanded":S.role?h:null,onEnter:T,onEntering:C,onEntered:j,onExit:I,onExiting:N,childRef:c.ref,in:h,timeout:v,mountOnEnter:g,unmountOnExit:k,appear:b,children:function(t,n){return e.cloneElement(c,xe(xe({},n),{},{className:Uw()(u,c.props.className,aS[t],"width"===_&&"collapse-horizontal")}))}}))})),sS=iS,oS=e.createContext(null);oS.displayName="NavbarContext";var uS=oS,cS=["children","bsPrefix"],lS=e.forwardRef((function(t,n){var r=t.children,a=t.bsPrefix,i=Mw(t,cS);a=zw(a,"navbar-collapse");var s=(0,e.useContext)(uS);return(0,Aw.jsx)(sS,xe(xe({in:!(!s||!s.expanded)},i),{},{children:(0,Aw.jsx)("div",{ref:n,className:a,children:r})}))}));lS.displayName="NavbarCollapse";var fS=lS;var dS=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function hS(t){var n=dS(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var pS=["bsPrefix","className","children","label","as","onClick"],vS=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.children,s=t.label,o=void 0===s?"Toggle navigation":s,u=t.as,c=void 0===u?"button":u,l=t.onClick,f=Mw(t,pS);r=zw(r,"navbar-toggler");var d=(0,e.useContext)(uS)||{},h=d.onToggle,p=d.expanded,v=hS((function(e){l&&l(e),h&&h()}));return"button"===c&&(f.type="button"),(0,Aw.jsx)(c,xe(xe({},f),{},{ref:n,onClick:v,"aria-label":o,className:Uw()(a,r,!p&&"collapsed"),children:i||(0,Aw.jsx)("span",{className:"".concat(r,"-icon")})}))}));vS.displayName="NavbarToggle";var mS=vS,gS="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,yS="undefined"!==typeof document||gS?e.useLayoutEffect:e.useEffect,kS=new WeakMap,xS=function(e,t){if(e&&t){var n=kS.get(t)||new Map;kS.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function bS(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window,r=xS(t,n),a=u((0,e.useState)((function(){return!!r&&r.matches})),2),i=a[0],s=a[1];return yS((function(){var e=xS(t,n);if(!e)return s(!1);var r=kS.get(n),a=function(){s(e.matches)};return e.refCount++,e.addListener(a),a(),function(){e.removeListener(a),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),i}var wS=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function a(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),a=t[r];return a="number"===typeof a?"".concat(a-.2,"px"):"calc(".concat(a," - 0.2px)"),"(max-width: ".concat(a,")")}return function(n,i,s){var o;"object"===typeof n?(o=n,s=i,i=!0):o=g({},n,i=i||!0);var c=(0,e.useMemo)((function(){return Object.entries(o).reduce((function(e,n){var i=u(n,2),s=i[0],o=i[1];return"up"!==o&&!0!==o||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==o&&!0!==o||(e=r(e,a(s))),e}),"")}),[JSON.stringify(o)]);return bS(c,s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ES=wS;function SS(e){void 0===e&&(e=yE());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(LA){return e.body}}function _S(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function TS(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}function CS(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function jS(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}var IS="data-rr-ui-";function NS(e){return"".concat(IS).concat(e)}var PS=NS("modal-open"),AS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,a=void 0===r||r,i=t.isRTL,s=void 0!==i&&i;y(this,e),this.handleContainerOverflow=a,this.isRTL=s,this.modals=[],this.ownerDocument=n}return x(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=g({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(SE(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(PS,""),SE(r,t)}},{key:"reset",value:function(){var e=this;l(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(PS),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),RS=AS,OS=(0,e.createContext)(LE?window:void 0);OS.Provider;function DS(){return(0,e.useContext)(OS)}var LS=function(e,t){return LE?null==e?(t||yE()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var MS=function(t){var n=t.children,r=t.in,a=t.onExited,i=t.mountOnEnter,s=t.unmountOnExit,o=(0,e.useRef)(null),u=(0,e.useRef)(r),c=hS(a);(0,e.useEffect)((function(){r?u.current=!0:c(o.current)}),[r,c]);var l=$E(o,n.ref),f=(0,e.cloneElement)(n,{ref:l});return r?f:s||!u.current&&i?null:f};function FS(t){var n=t.children,r=t.in,a=t.onExited,i=t.onEntered,s=t.transition,o=u((0,e.useState)(!r),2),c=o[0],l=o[1];r&&c&&l(!1);var f=function(t){var n=t.in,r=t.onTransition,a=(0,e.useRef)(null),i=(0,e.useRef)(!0),s=hS(r);return yS((function(){if(a.current){var e=!1;return s({in:n,element:a.current,initial:i.current,isStale:function(){return e}}),function(){e=!0}}}),[n,s]),yS((function(){return i.current=!1,function(){i.current=!0}}),[]),a}({in:!!r,onTransition:function(e){Promise.resolve(s(e)).then((function(){e.isStale()||(e.in?null==i||i(e.element,e.initial):(l(!0),null==a||a(e.element)))}),(function(t){throw e.in||l(!0),t}))}}),d=$E(f,n.ref);return c&&!r?null:(0,e.cloneElement)(n,{ref:d})}function US(e,t,n){return e?(0,Aw.jsx)(e,Object.assign({},n)):t?(0,Aw.jsx)(FS,Object.assign({},n,{transition:t})):(0,Aw.jsx)(MS,Object.assign({},n))}var VS,BS=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function zS(t){var n=DS(),r=t||function(e){return VS||(VS=new RS({ownerDocument:null==e?void 0:e.document})),VS}(n),a=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(a.current,{add:function(){return r.add(a.current)},remove:function(){return r.remove(a.current)},isTopModal:function(){return r.isTopModal(a.current)},setDialogRef:(0,e.useCallback)((function(e){a.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){a.current.backdrop=e}),[])})}var HS=(0,e.forwardRef)((function(t,n){var r=t.show,a=void 0!==r&&r,i=t.role,s=void 0===i?"dialog":i,o=t.className,c=t.style,l=t.children,f=t.backdrop,d=void 0===f||f,h=t.keyboard,p=void 0===h||h,v=t.onBackdropClick,m=t.onEscapeKeyDown,g=t.transition,y=t.runTransition,k=t.backdropTransition,x=t.runBackdropTransition,b=t.autoFocus,w=void 0===b||b,E=t.enforceFocus,S=void 0===E||E,_=t.restoreFocus,T=void 0===_||_,C=t.restoreFocusOptions,j=t.renderDialog,I=t.renderBackdrop,N=void 0===I?function(e){return(0,Aw.jsx)("div",Object.assign({},e))}:I,P=t.manager,A=t.container,R=t.onShow,O=t.onHide,D=void 0===O?function(){}:O,L=t.onExit,M=t.onExited,F=t.onExiting,U=t.onEnter,V=t.onEntering,B=t.onEntered,z=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,BS),H=DS(),W=function(t,n){var r=DS(),a=u((0,e.useState)((function(){return LS(t,null==r?void 0:r.document)})),2),i=a[0],s=a[1];if(!i){var o=LS(t);o&&s(o)}return(0,e.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,e.useEffect)((function(){var e=LS(t);e!==i&&s(e)}),[t,i]),i}(A),q=zS(P),K=TS(),G=jS(a),Q=u((0,e.useState)(!a),2),Y=Q[0],$=Q[1],X=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return q}),[q]),LE&&!G&&a&&(X.current=SS(null==H?void 0:H.document)),a&&Y&&$(!1);var J=hS((function(){if(q.add(),ae.current=zE(document,"keydown",ne),re.current=zE(document,"focus",(function(){return setTimeout(ee)}),!0),R&&R(),w){var e,t,n=SS(null!=(e=null==(t=q.dialog)?void 0:t.ownerDocument)?e:null==H?void 0:H.document);q.dialog&&n&&!_S(q.dialog,n)&&(X.current=n,q.dialog.focus())}})),Z=hS((function(){var e;(q.remove(),null==ae.current||ae.current(),null==re.current||re.current(),T)&&(null==(e=X.current)||null==e.focus||e.focus(C),X.current=null)}));(0,e.useEffect)((function(){a&&W&&J()}),[a,W,J]),(0,e.useEffect)((function(){Y&&Z()}),[Y,Z]),CS((function(){Z()}));var ee=hS((function(){if(S&&K()&&q.isTopModal()){var e=SS(null==H?void 0:H.document);q.dialog&&e&&!_S(q.dialog,e)&&q.dialog.focus()}})),te=hS((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===d&&D())})),ne=hS((function(e){p&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&q.isTopModal()&&(null==m||m(e),e.defaultPrevented||D())})),re=(0,e.useRef)(),ae=(0,e.useRef)();if(!W)return null;var ie=Object.assign({role:s,ref:q.setDialogRef,"aria-modal":"dialog"===s||void 0},z,{style:c,className:o,tabIndex:-1}),se=j?j(ie):(0,Aw.jsx)("div",Object.assign({},ie,{children:e.cloneElement(l,{role:"document"})}));se=US(g,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!a,onExit:L,onExiting:F,onExited:function(){$(!0),null==M||M.apply(void 0,arguments)},onEnter:U,onEntering:V,onEntered:B,children:se});var oe=null;return d&&(oe=N({ref:q.setBackdropRef,onClick:te}),oe=US(k,x,{in:!!a,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:oe})),(0,Aw.jsx)(Aw.Fragment,{children:_E.createPortal((0,Aw.jsxs)(Aw.Fragment,{children:[oe,se]}),W)})}));HS.displayName="Modal";var WS,qS=Object.assign(HS,{Manager:RS}),KS=["className","children","transitionClasses","onEnter"],GS=(g(WS={},NE,"show"),g(WS,PE,"show"),WS),QS=e.forwardRef((function(t,n){var r=t.className,a=t.children,i=t.transitionClasses,s=void 0===i?{}:i,o=t.onEnter,u=xe({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Mw(t,KS)),c=(0,e.useCallback)((function(e,t){QE(e),null==o||o(e,t)}),[o]);return(0,Aw.jsx)(eS,xe(xe({ref:n,addEndListener:KE},u),{},{onEnter:c,childRef:a.ref,children:function(t,n){return e.cloneElement(a,xe(xe({},n),{},{className:Uw()("fade",r,a.props.className,GS[t],s[t])}))}}))}));QS.displayName="Fade";var YS,$S=QS,XS=pE("offcanvas-body"),JS=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],ZS=(g(YS={},NE,"show"),g(YS,PE,"show"),YS),e_=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.children,s=t.in,o=void 0!==s&&s,u=t.mountOnEnter,c=void 0!==u&&u,l=t.unmountOnExit,f=void 0!==l&&l,d=t.appear,h=void 0!==d&&d,p=Mw(t,JS);return r=zw(r,"offcanvas"),(0,Aw.jsx)(eS,xe(xe({ref:n,addEndListener:KE,in:o,mountOnEnter:c,unmountOnExit:f,appear:h},p),{},{childRef:i.ref,children:function(t,n){return e.cloneElement(i,xe(xe({},n),{},{className:Uw()(a,i.props.className,(t===NE||t===AE)&&"".concat(r,"-toggling"),ZS[t])}))}}))}));e_.displayName="OffcanvasToggling";var t_=e_,n_=e.createContext({onHide:function(){}}),r_=n(7),a_=n.n(r_),i_=["className","variant","aria-label"],s_={"aria-label":a_().string,onClick:a_().func,variant:a_().oneOf(["white"])},o_=e.forwardRef((function(e,t){var n=e.className,r=e.variant,a=e["aria-label"],i=void 0===a?"Close":a,s=Mw(e,i_);return(0,Aw.jsx)("button",xe({ref:t,type:"button",className:Uw()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i},s))}));o_.displayName="CloseButton",o_.propTypes=s_;var u_=o_,c_=["closeLabel","closeVariant","closeButton","onHide","children"],l_=e.forwardRef((function(t,n){var r=t.closeLabel,a=void 0===r?"Close":r,i=t.closeVariant,s=t.closeButton,o=void 0!==s&&s,u=t.onHide,c=t.children,l=Mw(t,c_),f=(0,e.useContext)(n_),d=hS((function(){null==f||f.onHide(),null==u||u()}));return(0,Aw.jsxs)("div",xe(xe({ref:n},l),{},{children:[c,o&&(0,Aw.jsx)(u_,{"aria-label":a,variant:i,onClick:d})]}))})),f_=l_,d_=["bsPrefix","className","closeLabel","closeButton"],h_=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.closeLabel,i=void 0===a?"Close":a,s=e.closeButton,o=void 0!==s&&s,u=Mw(e,d_);return n=zw(n,"offcanvas-header"),(0,Aw.jsx)(f_,xe(xe({ref:t},u),{},{className:Uw()(r,n),closeLabel:i,closeButton:o}))}));h_.displayName="OffcanvasHeader";var p_=h_,v_=function(t){return e.forwardRef((function(e,n){return(0,Aw.jsx)("div",xe(xe({},e),{},{ref:n,className:Uw()(e.className,t)}))}))},m_=pE("offcanvas-title",{Component:v_("h5")});var g_=Function.prototype.bind.call(Function.prototype.call,[].slice);function y_(e,t){return g_(e.querySelectorAll(t))}function k_(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var x_,b_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",w_=".sticky-top",E_=".navbar-toggler",S_=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,SE(t,g({},e,"".concat(parseFloat(SE(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],SE(t,g({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;ra(S(n.prototype),"setContainerStyle",this).call(this,e);var r,a,i=this.getElement();if(a="modal-open",(r=i).classList?r.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,a)||("string"===typeof r.className?r.className=r.className+" "+a:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+a)),e.scrollBarWidth){var s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";y_(i,b_).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)})),y_(i,w_).forEach((function(n){return t.adjustAndStore(o,n,-e.scrollBarWidth)})),y_(i,E_).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;ra(S(n.prototype),"removeContainerStyle",this).call(this,e);var r,a,i=this.getElement();a="modal-open",(r=i).classList?r.classList.remove(a):"string"===typeof r.className?r.className=k_(r.className,a):r.setAttribute("class",k_(r.className&&r.className.baseVal||"",a));var s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";y_(i,b_).forEach((function(e){return t.restore(s,e)})),y_(i,w_).forEach((function(e){return t.restore(o,e)})),y_(i,E_).forEach((function(e){return t.restore(o,e)}))}}]),n}(RS);function __(e){return x_||(x_=new S_(e)),x_}var T_=S_,C_=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function j_(e){return(0,Aw.jsx)(t_,xe({},e))}function I_(e){return(0,Aw.jsx)($S,xe({},e))}var N_=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.children,s=t["aria-labelledby"],o=t.placement,c=void 0===o?"start":o,l=t.responsive,f=t.show,d=void 0!==f&&f,h=t.backdrop,p=void 0===h||h,v=t.keyboard,m=void 0===v||v,g=t.scroll,y=void 0!==g&&g,k=t.onEscapeKeyDown,x=t.onShow,b=t.onHide,w=t.container,E=t.autoFocus,S=void 0===E||E,_=t.enforceFocus,T=void 0===_||_,C=t.restoreFocus,j=void 0===C||C,I=t.restoreFocusOptions,N=t.onEntered,P=t.onExit,A=t.onExiting,R=t.onEnter,O=t.onEntering,D=t.onExited,L=t.backdropClassName,M=t.manager,F=t.renderStaticNode,U=void 0!==F&&F,V=Mw(t,C_),B=(0,e.useRef)();r=zw(r,"offcanvas");var z=((0,e.useContext)(uS)||{}).onToggle,H=u((0,e.useState)(!1),2),W=H[0],q=H[1],K=ES(l||"xs","up");(0,e.useEffect)((function(){q(l?d&&!K:d)}),[d,l,K]);var G=hS((function(){null==z||z(),null==b||b()})),Q=(0,e.useMemo)((function(){return{onHide:G}}),[G]);var Y=(0,e.useCallback)((function(e){return(0,Aw.jsx)("div",xe(xe({},e),{},{className:Uw()("".concat(r,"-backdrop"),L)}))}),[L,r]),$=function(e){return(0,Aw.jsx)("div",xe(xe(xe({},e),V),{},{className:Uw()(a,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(c)),"aria-labelledby":s,children:i}))};return(0,Aw.jsxs)(Aw.Fragment,{children:[!W&&(l||U)&&$({}),(0,Aw.jsx)(n_.Provider,{value:Q,children:(0,Aw.jsx)(qS,{show:W,ref:n,backdrop:p,container:w,keyboard:m,autoFocus:S,enforceFocus:T&&!y,restoreFocus:j,restoreFocusOptions:I,onEscapeKeyDown:k,onShow:x,onHide:G,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==R||R.apply(void 0,[e].concat(n))},onEntering:O,onEntered:N,onExit:P,onExiting:A,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==D||D.apply(void 0,n)},manager:M||(y?(B.current||(B.current=new T_({handleContainerOverflow:!1})),B.current):__()),transition:j_,backdropTransition:I_,renderBackdrop:Y,renderDialog:$})})]})}));N_.displayName="Offcanvas";var P_=Object.assign(N_,{Body:XS,Header:p_,Title:m_}),A_=e.forwardRef((function(t,n){var r=(0,e.useContext)(uS);return(0,Aw.jsx)(P_,xe(xe({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));A_.displayName="NavbarOffcanvas";var R_=A_,O_=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],D_=pE("navbar-text",{Component:"span"}),L_=e.forwardRef((function(t,n){var r=oE(t,{expanded:"onToggle"}),a=r.bsPrefix,i=r.expand,s=void 0===i||i,o=r.variant,u=void 0===o?"light":o,c=r.bg,l=r.fixed,f=r.sticky,d=r.className,h=r.as,p=void 0===h?"nav":h,v=r.expanded,m=r.onToggle,g=r.onSelect,y=r.collapseOnSelect,k=void 0!==y&&y,x=Mw(r,O_),b=zw(a,"navbar"),w=(0,e.useCallback)((function(){null==g||g.apply(void 0,arguments),k&&v&&(null==m||m(!1))}),[g,k,v,m]);void 0===x.role&&"nav"!==p&&(x.role="navigation");var E="".concat(b,"-expand");"string"===typeof s&&(E="".concat(E,"-").concat(s));var S=(0,e.useMemo)((function(){return{onToggle:function(){return null==m?void 0:m(!v)},bsPrefix:b,expanded:!!v,expand:s}}),[b,v,s,m]);return(0,Aw.jsx)(uS.Provider,{value:S,children:(0,Aw.jsx)(rE.Provider,{value:w,children:(0,Aw.jsx)(p,xe(xe({ref:n},x),{},{className:Uw()(d,b,s&&E,u&&"".concat(b,"-").concat(u),c&&"bg-".concat(c),f&&"sticky-".concat(f),l&&"fixed-".concat(l))}))})})}));L_.displayName="Navbar";var M_=Object.assign(L_,{Brand:gE,Collapse:fS,Offcanvas:R_,Text:D_,Toggle:mS});n(573);function F_(){return u((0,e.useReducer)((function(e){return!e}),!1),2)[1]}var U_=e.createContext(null);U_.displayName="NavContext";var V_=U_,B_=e.createContext(null),z_=["as","disabled"];function H_(e){var t=e.tagName,n=e.disabled,r=e.href,a=e.target,i=e.rel,s=e.role,o=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=a||null!=i?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var W_=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,z_),i=u(H_(Object.assign({tagName:n,disabled:r},a)),2),s=i[0],o=i[1].tagName;return(0,Aw.jsx)(o,Object.assign({},a,s,{ref:t}))}));W_.displayName="Button";var q_=W_,K_=["as","active","eventKey"];function G_(t){var n=t.key,r=t.onClick,a=t.active,i=t.id,s=t.role,o=t.disabled,u=(0,e.useContext)(rE),c=(0,e.useContext)(V_),l=(0,e.useContext)(B_),f=a,d={role:s};if(c){s||"tablist"!==c.role||(d.role="tab");var h=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);d[NS("event-key")]=n,d.id=h||i,!(f=null==a&&null!=n?c.activeKey===n:a)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(d["aria-controls"]=p)}return"tab"===d.role&&(d["aria-selected"]=f,f||(d.tabIndex=-1),o&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=hS((function(e){o||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[d,{isActive:f}]}var Q_=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?q_:n,a=e.active,i=e.eventKey,s=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,K_),o=u(G_(Object.assign({key:nE(i,s.href),active:a},s)),2),c=o[0],l=o[1];return c[NS("active")]=l.isActive,(0,Aw.jsx)(r,Object.assign({},s,c,{ref:t}))}));Q_.displayName="NavItem";var Y_=Q_,$_=["as","onSelect","activeKey","role","onKeyDown"];var X_=function(){},J_=NS("event-key"),Z_=e.forwardRef((function(t,n){var r,a,i=t.as,s=void 0===i?"div":i,o=t.onSelect,u=t.activeKey,c=t.role,l=t.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,$_),d=F_(),h=(0,e.useRef)(!1),p=(0,e.useContext)(rE),v=(0,e.useContext)(B_);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,a=v.getControllerId);var m=(0,e.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=y_(t,"[".concat(J_,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var a=n.indexOf(r);if(-1===a)return null;var i=a+e;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},y=function(e,t){null!=e&&(null==o||o(e,t),null==p||p(e,t))};(0,e.useEffect)((function(){if(m.current&&h.current){var e=m.current.querySelector("[".concat(J_,"][aria-selected=true]"));null==e||e.focus()}h.current=!1}));var k=$E(n,m);return(0,Aw.jsx)(rE.Provider,{value:y,children:(0,Aw.jsx)(V_.Provider,{value:{role:c,activeKey:nE(u),getControlledId:r||X_,getControllerId:a||X_},children:(0,Aw.jsx)(s,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),h.current=!0,d()}},ref:k,role:c}))})})}));Z_.displayName="Nav";var eT=Object.assign(Z_,{Item:Y_}),tT=e.createContext(null);tT.displayName="CardHeaderContext";var nT=tT,rT=pE("nav-item");function aT(){return(0,e.useState)(null)}new WeakMap;var iT=["onKeyDown"];var sT=e.forwardRef((function(e,t){var n,r=e.onKeyDown,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,iT),i=u(H_(Object.assign({tagName:"a"},a)),1)[0],s=hS((function(e){i.onKeyDown(e),null==r||r(e)}));return(n=a.href)&&"#"!==n.trim()&&"button"!==a.role?(0,Aw.jsx)("a",Object.assign({ref:t},a,{onKeyDown:r})):(0,Aw.jsx)("a",Object.assign({ref:t},a,i,{onKeyDown:s}))}));sT.displayName="Anchor";var oT=sT,uT=["bsPrefix","className","as","active","eventKey","disabled"],cT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,i=void 0===a?oT:a,s=e.active,o=e.eventKey,c=e.disabled,l=void 0!==c&&c,f=Mw(e,uT);n=zw(n,"nav-link");var d=u(G_(xe({key:nE(o,f.href),active:s,disabled:l},f)),2),h=d[0],p=d[1];return(0,Aw.jsx)(i,xe(xe(xe({},f),h),{},{ref:t,disabled:l,className:Uw()(r,n,l&&"disabled",p.isActive&&"active")}))}));cT.displayName="NavLink";var lT=cT,fT=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],dT=e.forwardRef((function(t,n){var r,a,i,s=oE(t,{activeKey:"onSelect"}),o=s.as,u=void 0===o?"div":o,c=s.bsPrefix,l=s.variant,f=s.fill,d=void 0!==f&&f,h=s.justify,p=void 0!==h&&h,v=s.navbar,m=s.navbarScroll,y=s.className,k=s.activeKey,x=Mw(s,fT),b=zw(c,"nav"),w=!1,E=(0,e.useContext)(uS),S=(0,e.useContext)(nT);return E?(a=E.bsPrefix,w=null==v||v):S&&(i=S.cardHeaderBsPrefix),(0,Aw.jsx)(eT,xe({as:u,ref:n,activeKey:k,className:Uw()(y,(r={},g(r,b,!w),g(r,"".concat(a,"-nav"),w),g(r,"".concat(a,"-nav-scroll"),w&&m),g(r,"".concat(i,"-").concat(l),!!i),g(r,"".concat(b,"-").concat(l),!!l),g(r,"".concat(b,"-fill"),d),g(r,"".concat(b,"-justified"),p),r))},x))}));dT.displayName="Nav";var hT=Object.assign(dT,{Item:rT,Link:lT}),pT=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],vT=v_("h4");vT.displayName="DivStyledAsH4";var mT=pE("alert-heading",{Component:vT}),gT=pE("alert-link",{Component:oT}),yT=e.forwardRef((function(e,t){var n=oE(e,{show:"onClose"}),r=n.bsPrefix,a=n.show,i=void 0===a||a,s=n.closeLabel,o=void 0===s?"Close alert":s,u=n.closeVariant,c=n.className,l=n.children,f=n.variant,d=void 0===f?"primary":f,h=n.onClose,p=n.dismissible,v=n.transition,m=void 0===v?$S:v,g=Mw(n,pT),y=zw(r,"alert"),k=hS((function(e){h&&h(!1,e)})),x=!0===m?$S:m,b=(0,Aw.jsxs)("div",xe(xe({role:"alert"},x?void 0:g),{},{ref:t,className:Uw()(c,y,d&&"".concat(y,"-").concat(d),p&&"".concat(y,"-dismissible")),children:[p&&(0,Aw.jsx)(u_,{onClick:k,"aria-label":o,variant:u}),l]}));return x?(0,Aw.jsx)(x,xe(xe({unmountOnExit:!0},g),{},{ref:void 0,in:i,children:b})):i?b:null}));yT.displayName="Alert";var kT=Object.assign(yT,{Link:gT,Heading:mT}),xT=["bsPrefix","className","variant","as"],bT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.variant,i=e.as,s=void 0===i?"img":i,o=Mw(e,xT),u=zw(n,"card-img");return(0,Aw.jsx)(s,xe({ref:t,className:Uw()(a?"".concat(u,"-").concat(a):u,r)},o))}));bT.displayName="CardImg";var wT=bT,ET=["bsPrefix","className","as"],ST=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.as,s=void 0===i?"div":i,o=Mw(t,ET),u=zw(r,"card-header"),c=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,Aw.jsx)(nT.Provider,{value:c,children:(0,Aw.jsx)(s,xe(xe({ref:n},o),{},{className:Uw()(a,u)}))})}));ST.displayName="CardHeader";var _T=ST,TT=["bsPrefix","className","bg","text","border","body","children","as"],CT=v_("h5"),jT=v_("h6"),IT=pE("card-body"),NT=pE("card-title",{Component:CT}),PT=pE("card-subtitle",{Component:jT}),AT=pE("card-link",{Component:"a"}),RT=pE("card-text",{Component:"p"}),OT=pE("card-footer"),DT=pE("card-img-overlay"),LT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.bg,i=e.text,s=e.border,o=e.body,u=void 0!==o&&o,c=e.children,l=e.as,f=void 0===l?"div":l,d=Mw(e,TT),h=zw(n,"card");return(0,Aw.jsx)(f,xe(xe({ref:t},d),{},{className:Uw()(r,h,a&&"bg-".concat(a),i&&"text-".concat(i),s&&"border-".concat(s)),children:u?(0,Aw.jsx)(IT,{children:c}):c}))}));LT.displayName="Card";var MT,FT=Object.assign(LT,{Img:wT,Title:NT,Subtitle:PT,Body:IT,Link:AT,Text:RT,Header:_T,Footer:OT,ImgOverlay:DT}),UT=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],VT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.striped,i=e.bordered,s=e.borderless,o=e.hover,u=e.size,c=e.variant,l=e.responsive,f=Mw(e,UT),d=zw(n,"table"),h=Uw()(r,d,c&&"".concat(d,"-").concat(c),u&&"".concat(d,"-").concat(u),a&&"".concat(d,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),i&&"".concat(d,"-bordered"),s&&"".concat(d,"-borderless"),o&&"".concat(d,"-hover")),p=(0,Aw.jsx)("table",xe(xe({},f),{},{className:h,ref:t}));if(l){var v="".concat(d,"-responsive");return"string"===typeof l&&(v="".concat(v,"-").concat(l)),(0,Aw.jsx)("div",{className:v,children:p})}return p})),BT=VT;function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zT.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(MT||(MT={}));var HT,WT="popstate";function qT(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function KT(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(LA){}}}function GT(e,t){return{usr:e.state,key:e.key,idx:t}}function QT(e,t,n,r){return void 0===n&&(n=null),zT({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?$T(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function YT(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,i=e.hash,s=void 0===i?"":i;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function $T(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function XT(e,t,n,r){void 0===r&&(r={});var a=r,i=a.window,s=void 0===i?document.defaultView:i,o=a.v5Compat,u=void 0!==o&&o,c=s.history,l=MT.Pop,f=null,d=h();function h(){return(c.state||{idx:null}).idx}function p(){l=MT.Pop;var e=h(),t=null==e?null:e-d;d=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:YT(e);return qT(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(zT({},c.state,{idx:d}),""));var m={get action(){return l},get location(){return e(s,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(WT,p),f=e,function(){s.removeEventListener(WT,p),f=null}},createHref:function(e){return t(s,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=MT.Push;var r=QT(m.location,e,t);n&&n(r,e);var a=GT(r,d=h()+1),i=m.createHref(r);try{c.pushState(a,"",i)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;s.location.assign(i)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=MT.Replace;var r=QT(m.location,e,t);n&&n(r,e);var a=GT(r,d=h()),i=m.createHref(r);c.replaceState(a,"",i),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(HT||(HT={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function JT(e,t,n){void 0===n&&(n="/");var r=dC(("string"===typeof t?$T(t):t).pathname||"/",n);if(null==r)return null;var a=ZT(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var i=null,s=0;null==i&&s<a.length;++s)i=cC(a[s],fC(r));return i}function ZT(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var a=function(e,a,i){var s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(qT(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));var o=mC([r,s.relativePath]),u=n.concat(s);e.children&&e.children.length>0&&(qT(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),ZT(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:uC(o,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,i=v(eC(e.path));try{for(i.s();!(r=i.n()).done;){var s=r.value;a(e,t,s)}}catch(o){i.e(o)}finally{i.f()}}else a(e,t)})),t}function eC(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||c(n)||s(n)||o(),i=r[0],u=r.slice(1),f=i.endsWith("?"),d=i.replace(/\?$/,"");if(0===u.length)return f?[d,""]:[d];var h=eC(u.join("/")),p=[];return p.push.apply(p,l(h.map((function(e){return""===e?d:[d,e].join("/")})))),f&&p.push.apply(p,l(h)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var tC=/^:\w+$/,nC=3,rC=2,aC=1,iC=10,sC=-2,oC=function(e){return"*"===e};function uC(e,t){var n=e.split("/"),r=n.length;return n.some(oC)&&(r+=sC),t&&(r+=rC),n.filter((function(e){return!oC(e)})).reduce((function(e,t){return e+(tC.test(t)?nC:""===t?aC:iC)}),r)}function cC(e,t){for(var n=e.routesMeta,r={},a="/",i=[],s=0;s<n.length;++s){var o=n[s],u=s===n.length-1,c="/"===a?t:t.slice(a.length)||"/",l=lC({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=o.route;i.push({params:r,pathname:mC([a,l.pathname]),pathnameBase:gC(mC([a,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(a=mC([a,l.pathnameBase]))}return i}function lC(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);KT("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");var i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),a=r[0],i=r[1],s=t.match(a);if(!s)return null;var o=s[0],c=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=o.slice(0,o.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return KT(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:o,pathnameBase:c,pattern:e}}function fC(e){try{return decodeURI(e)}catch(t){return KT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function dC(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function hC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function pC(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function vC(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=$T(e):(qT(!(a=zT({},e)).pathname||!a.pathname.includes("?"),hC("?","pathname","search",a)),qT(!a.pathname||!a.pathname.includes("#"),hC("#","pathname","hash",a)),qT(!a.search||!a.search.includes("#"),hC("#","search","hash",a)));var i,s=""===e||""===a.pathname,o=s?"/":a.pathname;if(r||null==o)i=n;else{var u=t.length-1;if(o.startsWith("..")){for(var c=o.split("/");".."===c[0];)c.shift(),u-=1;a.pathname=c.join("/")}i=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?$T(e):e,r=n.pathname,a=n.search,i=void 0===a?"":a,s=n.hash,o=void 0===s?"":s,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:yC(i),hash:kC(o)}}(a,i),f=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var mC=function(e){return e.join("/").replace(/\/\/+/g,"/")},gC=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},yC=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},kC=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},xC=function(e){E(n,e);var t=T(n);function n(){return y(this,n),t.apply(this,arguments)}return x(n)}(j(Error));function bC(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var wC=["post","put","patch","delete"],EC=(new Set(wC),["get"].concat(wC));new Set(EC),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SC.apply(this,arguments)}var _C=e.createContext(null);var TC=e.createContext(null);var CC=e.createContext(null);var jC=e.createContext(null);var IC=e.createContext(null);var NC=e.createContext({outlet:null,matches:[],isDataRoute:!1});var PC=e.createContext(null);function AC(){return null!=e.useContext(IC)}function RC(){return AC()||qT(!1),e.useContext(IC).location}function OC(t){e.useContext(jC).static||e.useLayoutEffect(t)}function DC(){return e.useContext(NC).isDataRoute?function(){var t=qC(HC.UseNavigateStable).router,n=GC(WC.UseNavigateStable),r=e.useRef(!1);OC((function(){r.current=!0}));var a=e.useCallback((function(e,a){void 0===a&&(a={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,SC({fromRouteId:n},a)))}),[t,n]);return a}():function(){AC()||qT(!1);var t=e.useContext(_C),n=e.useContext(jC),r=n.basename,a=n.navigator,i=e.useContext(NC).matches,s=RC().pathname,o=JSON.stringify(pC(i).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);OC((function(){u.current=!0}));var c=e.useCallback((function(e,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof e){var i=vC(e,JSON.parse(o),s,"path"===n.relative);null==t&&"/"!==r&&(i.pathname="/"===i.pathname?r:mC([r,i.pathname])),(n.replace?a.replace:a.push)(i,n.state,n)}else a.go(e)}),[r,a,o,s,t]);return c}()}function LC(t,n){var r=(void 0===n?{}:n).relative,a=e.useContext(NC).matches,i=RC().pathname,s=JSON.stringify(pC(a).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return vC(t,JSON.parse(s),i,"path"===r)}),[t,s,i,r])}function MC(t,n,r){AC()||qT(!1);var a,i=e.useContext(jC).navigator,s=e.useContext(NC).matches,o=s[s.length-1],u=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,RC());if(n){var f,d="string"===typeof n?$T(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||qT(!1),a=d}else a=l;var h=a.pathname||"/",p=JT(t,{pathname:"/"===c?h:h.slice(c.length)||"/"});var v=zC(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:mC([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:mC([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,r);return n&&v?e.createElement(IC.Provider,{value:{location:SC({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:MT.Pop}},v):v}function FC(){var t=function(){var t,n=e.useContext(PC),r=KC(WC.UseRouteError),a=GC(WC.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[a]}(),n=bC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,null)}var UC=e.createElement(FC,null),VC=function(t){E(r,t);var n=T(r);function r(e){var t;return y(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return x(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(NC.Provider,{value:this.props.routeContext},e.createElement(PC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function BC(t){var n=t.routeContext,r=t.match,a=t.children,i=e.useContext(_C);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(NC.Provider,{value:n},a)}function zC(t,n,r){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var i;if(null==(i=r)||!i.errors)return null;t=r.matches}var s=t,o=null==(a=r)?void 0:a.errors;if(null!=o){var u=s.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));u>=0||qT(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((function(t,a,i){var u=a.route.id?null==o?void 0:o[a.route.id]:null,c=null;r&&(c=a.route.errorElement||UC);var l=n.concat(s.slice(0,i+1)),f=function(){var n;return n=u?c:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(BC,{match:a,routeContext:{outlet:t,matches:l,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?e.createElement(VC,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var HC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(HC||{}),WC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(WC||{});function qC(t){var n=e.useContext(_C);return n||qT(!1),n}function KC(t){var n=e.useContext(TC);return n||qT(!1),n}function GC(t){var n=function(t){var n=e.useContext(NC);return n||qT(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||qT(!1),r.route.id}t.startTransition;function QC(e){qT(!1)}function YC(t){var n=t.basename,r=void 0===n?"/":n,a=t.children,i=void 0===a?null:a,s=t.location,o=t.navigationType,u=void 0===o?MT.Pop:o,c=t.navigator,l=t.static,f=void 0!==l&&l;AC()&&qT(!1);var d=r.replace(/^\/*/,"/"),h=e.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=$T(s));var p=s,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,k=p.hash,x=void 0===k?"":k,b=p.state,w=void 0===b?null:b,E=p.key,S=void 0===E?"default":E,_=e.useMemo((function(){var e=dC(m,d);return null==e?null:{location:{pathname:e,search:y,hash:x,state:w,key:S},navigationType:u}}),[d,m,y,x,w,S,u]);return null==_?null:e.createElement(jC.Provider,{value:h},e.createElement(IC.Provider,{children:i,value:_}))}function $C(e){var t=e.children,n=e.location;return MC(ZC(t),n)}var XC=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(XC||{}),JC=new Promise((function(){}));e.Component;function ZC(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,a){if(e.isValidElement(t)){var i=[].concat(l(n),[a]);if(t.type!==e.Fragment){t.type!==QC&&qT(!1),t.props.index&&t.props.children&&qT(!1);var s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=ZC(t.props.children,i)),r.push(s)}else r.push.apply(r,ZC(t.props.children,i))}})),r}var ej=function(t){var n=t.task,r=(t.onDeleteTask,t.onMarkAsCompleted),a=t.onChangeStatus,i=t.style,s=(t.className,u((0,e.useState)(n.status),2)),o=s[0],c=s[1],l=u((0,e.useState)(!1),2),f=(l[0],l[1],u((0,e.useState)(!1),2)),h=f[0],v=(f[1],u((0,e.useState)(!1),2)),m=v[0],g=(v[1],function(){var e=p(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t="completed"===o?"pending":"completed"),e.prev=2,e.next=5,r(n.taskId,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("Error updating task status",e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}()),y=function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c("Work in Progress"),e.prev=1,e.next=4,a(n.taskId);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Error updating task status",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return(0,Aw.jsxs)("tr",{style:i,children:[(0,Aw.jsx)("td",{children:n.project}),(0,Aw.jsx)("td",{children:n.task}),(0,Aw.jsx)("td",{children:n.subtask}),(0,Aw.jsx)("td",{children:n.members}),(0,Aw.jsx)("td",{children:"completed"===o?(0,Aw.jsx)("span",{children:"Completed"}):"Work in Progress"===o?(0,Aw.jsx)("span",{children:"Work in Progress"}):"pending"===o&&"high"===n.priority?(0,Aw.jsx)("span",{className:"high-priority-pending",children:"Pending"}):(0,Aw.jsx)("span",{children:"Pending"})}),(0,Aw.jsx)("td",{children:n.endDate}),(0,Aw.jsx)("td",{children:n.priority}),(0,Aw.jsx)("td",{children:(0,Aw.jsx)("input",{type:"checkbox",checked:"completed"===o,onChange:g,disabled:h})}),(0,Aw.jsx)("td",{children:"completed"===o?(0,Aw.jsx)("span",{children:"Completed"}):(0,Aw.jsx)("button",{onClick:y,disabled:m,children:m?"Changing Status...":"Work in Progress"})})]},n.taskId)},tj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nj=e.createContext&&e.createContext(tj),rj=function(){return rj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},rj.apply(this,arguments)},aj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ij(t){return t&&t.map((function(t,n){return e.createElement(t.tag,rj({key:n},t.attr),ij(t.child))}))}function sj(t){return function(n){return e.createElement(oj,rj({attr:rj({},t.attr)},n),ij(t.child))}}function oj(t){var n=function(n){var r,a=t.attr,i=t.size,s=t.title,o=aj(t,["attr","size","title"]),u=i||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",rj({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:r,style:rj(rj({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&e.createElement("title",null,s),t.children)};return void 0!==nj?e.createElement(nj.Consumer,null,(function(e){return n(e)})):n(tj)}function uj(e){return sj({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"}}]})(e)}function cj(e){return sj({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]})(e)}function lj(e){return sj({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16ZM11 14V16H13V14H11ZM7 14V16H9V14H7ZM15 14V16H17V14H15Z"}}]})(e)}function fj(){var t=u((0,e.useState)(""),2),n=t[0],r=t[1],a=u((0,e.useState)(""),2),i=a[0],s=a[1],o=Ow(),c=o.currentUser,l=o.logout,f=DC(),h=u((0,e.useState)([]),2),v=h[0],m=h[1],g=u((0,e.useState)(0),2),y=g[0],k=g[1],x=u((0,e.useState)(0),2),b=x[0],w=x[1],E=u((0,e.useState)(0),2),S=E[0],_=E[1],T=u((0,e.useState)([]),2),C=(T[0],T[1]),j=u((0,e.useState)([]),2),I=(j[0],j[1]),N=u((0,e.useState)([]),2),P=N[0],A=N[1],R=u((0,e.useState)(!1),2),O=(R[0],R[1],u((0,e.useState)(!1),2)),D=(O[0],O[1]),L=u((0,e.useState)(!1),2),M=(L[0],L[1]),F=u((0,e.useState)({}),2),U=F[0],V=F[1],B=function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,l();case 4:f("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out"),console.error("Logout error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=p(d().mark((function e(){var t,n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"employees",c.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(a=n.data(),V(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r("Failed to fetch user data"),console.error("Fetch user data error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){c&&z()}),[c]);var H=function(){var e=p(d().mark((function e(){var t,n,a,i,s,o,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"employees",c.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(a=n.data(),i=a.tasks||[],m(i),s=i.filter((function(e){return"completed"===e.status})).length,o=i.filter((function(e){return"pending"===e.status})).length,u=i.filter((function(e){return"Work in Progress"===e.status})).length,l=i.length,k(s),w(o),_(l),C(s),I(o),A(u)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r("Failed to fetch tasks"),console.error("Fetch tasks error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){c&&H()}),[c]);var W=function(){var e=p(d().mark((function e(t,n){var a,i,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=["employees","supervisors","teamleaders","unitheads","heads"],e.prev=1,D(!0),i=d().mark((function e(){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u[o],e.next=3,Qb(qx(Pw,r));case 3:if(a=e.sent,i=nw(Pw),s=!1,a.forEach((function(e){var a=e.data();if(a.tasks&&Array.isArray(a.tasks)){var o=a.tasks.findIndex((function(e){return e.taskId===t}));-1!==o&&(a.tasks[o].status=n,i.set(Kx(Pw,r,e.id),{tasks:a.tasks},{merge:!0}),s=!0)}})),!s){e.next=10;break}return e.next=10,i.commit();case 10:case"end":return e.stop()}}),e)})),o=0,u=a;case 5:if(!(o<u.length)){e.next=10;break}return e.delegateYield(i(),"t0",7);case 7:o++,e.next=5;break;case 10:s("Task status updated successfully"),r(""),setTimeout((function(){s("")}),1e3),H(),e.next=20;break;case 16:e.prev=16,e.t1=e.catch(1),r("Failed to update task status"),console.error("Update task status error",e.t1);case 20:return e.prev=20,D(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,16,20,23]])})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=p(d().mark((function e(t){var n,a,i,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,M(!0),n=["supervisors","employees","teamleaders","unitheads","heads"],a=nw(Pw),i=!1,o=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c[u],e.next=3,Qb(qx(Pw,n));case 3:e.sent.forEach((function(e){var r=e.data();if(r.tasks&&Array.isArray(r.tasks)){var s=r.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(r.tasks[s].status="Work in Progress",a.set(Kx(Pw,n,e.id),{tasks:r.tasks},{merge:!0}),i=!0)}}));case 5:case"end":return e.stop()}}),e)})),u=0,c=n;case 7:if(!(u<c.length)){e.next=12;break}return e.delegateYield(o(),"t0",9);case 9:u++,e.next=7;break;case 12:if(!i){e.next=15;break}return e.next=15,a.commit();case 15:s("Task status updated to Work in Progress"),r(""),setTimeout((function(){s("")}),1e3),H(),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(0),r("Failed to update task status"),console.error("Update task status error",e.t1);case 25:return e.prev=25,M(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,21,25,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{children:[(0,Aw.jsx)(tE,{sm:2,className:"bg-primary text-white p-0",children:(0,Aw.jsxs)(M_,{expand:"lg",variant:"dark",className:"flex-column vh-100",style:{backgroundColor:"#001D44"},children:[(0,Aw.jsxs)(M_.Brand,{children:[(0,Aw.jsx)("img",{src:"/Checklist/Logo.png",width:"150",height:"150",className:"d-inline-block align-top"}),(0,Aw.jsx)("h4",{children:"Checklist App"})]}),(0,Aw.jsx)(Xw,{className:"w-100 mt-4 flex-grow-1",children:(0,Aw.jsx)(tE,{className:"d-flex flex-column align-items-center justify-content-end",children:(0,Aw.jsxs)(hT,{className:"flex-column d-flex justify-content-center",children:[(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-dashboard",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(cj,{style:{marginRight:"10px"}})," User Profile"]}),(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-change-password",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(lj,{style:{marginRight:"10px"}})," ","Change Password"]}),(0,Aw.jsxs)(hT.Link,{active:!0,onClick:B,className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(uj,{style:{marginRight:"10px"}})," Logout"]})]})})})]})}),(0,Aw.jsx)(tE,{sm:10,className:"max-height",children:(0,Aw.jsxs)(Qw,{className:"border p-4",style:{marginTop:"80px"},children:[(0,Aw.jsx)(Xw,{className:"w-100 text-center",children:(0,Aw.jsx)(tE,{children:(0,Aw.jsxs)("h2",{className:"text-center mt-4 border-bottom pb-2",children:["Welcome, ",U.name]})})}),n&&(0,Aw.jsx)(Xw,{children:(0,Aw.jsx)(tE,{children:(0,Aw.jsx)(kT,{variant:"danger",children:n})})}),i&&(0,Aw.jsx)(Xw,{children:(0,Aw.jsx)(tE,{children:(0,Aw.jsx)(kT,{variant:"success",children:i})})}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center",children:"Task Statistics"}),(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#003DAA",color:"white",borderColor:"#003DAA"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:S})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#B32222",color:"white",borderColor:"#B32222"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:b})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#DAA520",color:"white",borderColor:"#DAA520"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:P})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#228B22",color:"white",borderColor:"#228B22"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:y})]})})})})})]})]})}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center mb-4",children:"Task Table"}),(0,Aw.jsxs)(BT,{className:"formal-table",striped:!0,bordered:!0,hover:!0,children:[" ",(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Mark as Completed"}),(0,Aw.jsx)("th",{children:"Change Status"})]})}),(0,Aw.jsx)("tbody",{children:v.slice().sort((function(e,t){var n={high:1,medium:2,low:3};return n[e.priority]-n[t.priority]})).map((function(e,t){return(0,Aw.jsx)(ej,{task:e,onMarkAsCompleted:W,onChangeStatus:q,className:"pending"===e.status&&"high"===e.priority?"high-priority-pending":""},e.id)}))})]})]})})]})})]})})}var dj=["as","bsPrefix","variant","size","active","disabled","className"],hj=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,a=e.variant,i=void 0===a?"primary":a,s=e.size,o=e.active,c=void 0!==o&&o,l=e.disabled,f=void 0!==l&&l,d=e.className,h=Mw(e,dj),p=zw(r,"btn"),v=u(H_(xe({tagName:n,disabled:f},h)),2),m=v[0],g=v[1].tagName;return(0,Aw.jsx)(g,xe(xe(xe({},m),h),{},{ref:t,disabled:f,className:Uw()(d,p,c&&"active",i&&"".concat(p,"-").concat(i),s&&"".concat(p,"-").concat(s),h.href&&f&&"disabled")}))}));hj.displayName="Button";var pj,vj=hj;function mj(e){if((!pj&&0!==pj||e)&&LE){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),pj=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return pj}var gj=pE("modal-body"),yj=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],kj=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.contentClassName,i=e.centered,s=e.size,o=e.fullscreen,u=e.children,c=e.scrollable,l=Mw(e,yj);n=zw(n,"modal");var f="".concat(n,"-dialog"),d="string"===typeof o?"".concat(n,"-fullscreen-").concat(o):"".concat(n,"-fullscreen");return(0,Aw.jsx)("div",xe(xe({},l),{},{ref:t,className:Uw()(f,r,s&&"".concat(n,"-").concat(s),i&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),o&&d),children:(0,Aw.jsx)("div",{className:Uw()("".concat(n,"-content"),a),children:u})}))}));kj.displayName="ModalDialog";var xj=kj,bj=pE("modal-footer"),wj=["bsPrefix","className","closeLabel","closeButton"],Ej=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.closeLabel,i=void 0===a?"Close":a,s=e.closeButton,o=void 0!==s&&s,u=Mw(e,wj);return n=zw(n,"modal-header"),(0,Aw.jsx)(f_,xe(xe({ref:t},u),{},{className:Uw()(r,n),closeLabel:i,closeButton:o}))}));Ej.displayName="ModalHeader";var Sj=Ej,_j=pE("modal-title",{Component:v_("h4")}),Tj=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Cj(e){return(0,Aw.jsx)($S,xe(xe({},e),{},{timeout:null}))}function jj(e){return(0,Aw.jsx)($S,xe(xe({},e),{},{timeout:null}))}var Ij=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.style,s=t.dialogClassName,o=t.contentClassName,c=t.children,l=t.dialogAs,f=void 0===l?xj:l,d=t["aria-labelledby"],h=t["aria-describedby"],p=t["aria-label"],v=t.show,m=void 0!==v&&v,g=t.animation,y=void 0===g||g,k=t.backdrop,x=void 0===k||k,b=t.keyboard,w=void 0===b||b,E=t.onEscapeKeyDown,S=t.onShow,_=t.onHide,T=t.container,C=t.autoFocus,j=void 0===C||C,I=t.enforceFocus,N=void 0===I||I,P=t.restoreFocus,A=void 0===P||P,R=t.restoreFocusOptions,O=t.onEntered,D=t.onExit,L=t.onExiting,M=t.onEnter,F=t.onEntering,U=t.onExited,V=t.backdropClassName,B=t.manager,z=Mw(t,Tj),H=u((0,e.useState)({}),2),W=H[0],q=H[1],K=u((0,e.useState)(!1),2),G=K[0],Q=K[1],Y=(0,e.useRef)(!1),$=(0,e.useRef)(!1),X=(0,e.useRef)(null),J=u(aT(),2),Z=J[0],ee=J[1],te=$E(n,ee),ne=hS(_),re=qw();r=zw(r,"modal");var ae=(0,e.useMemo)((function(){return{onHide:ne}}),[ne]);function ie(){return B||__({isRTL:re})}function se(e){if(LE){var t=ie().getScrollbarWidth()>0,n=e.scrollHeight>yE(e).documentElement.clientHeight;q({paddingRight:t&&!n?mj():void 0,paddingLeft:!t&&n?mj():void 0})}}var oe=hS((function(){Z&&se(Z.dialog)}));CS((function(){BE(window,"resize",oe),null==X.current||X.current()}));var ue=function(){Y.current=!0},ce=function(e){Y.current&&Z&&e.target===Z.dialog&&($.current=!0),Y.current=!1},le=function(){Q(!0),X.current=WE(Z.dialog,(function(){Q(!1)}))},fe=function(e){"static"!==x?$.current||e.target!==e.currentTarget?$.current=!1:null==_||_():function(e){e.target===e.currentTarget&&le()}(e)},de=(0,e.useCallback)((function(e){return(0,Aw.jsx)("div",xe(xe({},e),{},{className:Uw()("".concat(r,"-backdrop"),V,!y&&"show")}))}),[y,V,r]),he=xe(xe({},i),W);he.display="block";return(0,Aw.jsx)(n_.Provider,{value:ae,children:(0,Aw.jsx)(qS,{show:m,ref:te,backdrop:x,container:T,keyboard:!0,autoFocus:j,enforceFocus:N,restoreFocus:A,restoreFocusOptions:R,onEscapeKeyDown:function(e){w?null==E||E(e):(e.preventDefault(),"static"===x&&le())},onShow:S,onHide:_,onEnter:function(e,t){e&&se(e),null==M||M(e,t)},onEntering:function(e,t){null==F||F(e,t),VE(window,"resize",oe)},onEntered:O,onExit:function(e){null==X.current||X.current(),null==D||D(e)},onExiting:L,onExited:function(e){e&&(e.style.display=""),null==U||U(e),BE(window,"resize",oe)},manager:ie(),transition:y?Cj:void 0,backdropTransition:y?jj:void 0,renderBackdrop:de,renderDialog:function(e){return(0,Aw.jsx)("div",xe(xe({role:"dialog"},e),{},{style:he,className:Uw()(a,r,G&&"".concat(r,"-static"),!y&&"show"),onClick:x?fe:void 0,onMouseUp:ce,"aria-label":p,"aria-labelledby":d,"aria-describedby":h,children:(0,Aw.jsx)(f,xe(xe({},z),{},{onMouseDown:ue,className:s,contentClassName:o,children:c}))}))}})})}));Ij.displayName="Modal";var Nj=Object.assign(Ij,{Body:gj,Header:Sj,Title:_j,Footer:bj,Dialog:xj,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Pj=["as","className","type","tooltip"],Aj={type:a_().string,tooltip:a_().bool,as:a_().elementType},Rj=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,a=e.className,i=e.type,s=void 0===i?"valid":i,o=e.tooltip,u=void 0!==o&&o,c=Mw(e,Pj);return(0,Aw.jsx)(r,xe(xe({},c),{},{ref:t,className:Uw()(a,"".concat(s,"-").concat(u?"tooltip":"feedback"))}))}));Rj.displayName="Feedback",Rj.propTypes=Aj;var Oj=Rj,Dj=e.createContext({}),Lj=["id","bsPrefix","className","type","isValid","isInvalid","as"],Mj=e.forwardRef((function(t,n){var r=t.id,a=t.bsPrefix,i=t.className,s=t.type,o=void 0===s?"checkbox":s,u=t.isValid,c=void 0!==u&&u,l=t.isInvalid,f=void 0!==l&&l,d=t.as,h=void 0===d?"input":d,p=Mw(t,Lj),v=(0,e.useContext)(Dj).controlId;return a=zw(a,"form-check-input"),(0,Aw.jsx)(h,xe(xe({},p),{},{ref:n,type:o,id:r||v,className:Uw()(i,a,c&&"is-valid",f&&"is-invalid")}))}));Mj.displayName="FormCheckInput";var Fj=Mj,Uj=["bsPrefix","className","htmlFor"],Vj=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.htmlFor,s=Mw(t,Uj),o=(0,e.useContext)(Dj).controlId;return r=zw(r,"form-check-label"),(0,Aw.jsx)("label",xe(xe({},s),{},{ref:n,htmlFor:i||o,className:Uw()(a,r)}))}));Vj.displayName="FormCheckLabel";var Bj=Vj;var zj=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Hj=e.forwardRef((function(t,n){var r=t.id,a=t.bsPrefix,i=t.bsSwitchPrefix,s=t.inline,o=void 0!==s&&s,u=t.reverse,c=void 0!==u&&u,l=t.disabled,f=void 0!==l&&l,d=t.isValid,h=void 0!==d&&d,p=t.isInvalid,v=void 0!==p&&p,m=t.feedbackTooltip,g=void 0!==m&&m,y=t.feedback,k=t.feedbackType,x=t.className,b=t.style,w=t.title,E=void 0===w?"":w,S=t.type,_=void 0===S?"checkbox":S,T=t.label,C=t.children,j=t.as,I=void 0===j?"input":j,N=Mw(t,zj);a=zw(a,"form-check"),i=zw(i,"form-switch");var P=(0,e.useContext)(Dj).controlId,A=(0,e.useMemo)((function(){return{controlId:r||P}}),[P,r]),R=!C&&null!=T&&!1!==T||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(C,Bj),O=(0,Aw.jsx)(Fj,xe(xe({},N),{},{type:"switch"===_?"checkbox":_,ref:n,isValid:h,isInvalid:v,disabled:f,as:I}));return(0,Aw.jsx)(Dj.Provider,{value:A,children:(0,Aw.jsx)("div",{style:b,className:Uw()(x,R&&a,o&&"".concat(a,"-inline"),c&&"".concat(a,"-reverse"),"switch"===_&&i),children:C||(0,Aw.jsxs)(Aw.Fragment,{children:[O,R&&(0,Aw.jsx)(Bj,{title:E,children:T}),y&&(0,Aw.jsx)(Oj,{type:k,tooltip:g,children:y})]})})})}));Hj.displayName="FormCheck";var Wj=Object.assign(Hj,{Input:Fj,Label:Bj}),qj=n(391),Kj=n.n(qj),Gj=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],Qj=e.forwardRef((function(t,n){var r,a,i=t.bsPrefix,s=t.type,o=t.size,u=t.htmlSize,c=t.id,l=t.className,f=t.isValid,d=void 0!==f&&f,h=t.isInvalid,p=void 0!==h&&h,v=t.plaintext,m=t.readOnly,y=t.as,k=void 0===y?"input":y,x=Mw(t,Gj),b=(0,e.useContext)(Dj).controlId;(i=zw(i,"form-control"),v)?r=g({},"".concat(i,"-plaintext"),!0):(g(a={},i,!0),g(a,"".concat(i,"-").concat(o),o),r=a);return(0,Aw.jsx)(k,xe(xe({},x),{},{type:s,size:u,ref:n,readOnly:m,id:c||b,className:Uw()(l,r,d&&"is-valid",p&&"is-invalid","color"===s&&"".concat(i,"-color"))}))}));Qj.displayName="FormControl";var Yj=Object.assign(Qj,{Feedback:Oj}),$j=pE("form-floating"),Xj=["controlId","as"],Jj=e.forwardRef((function(t,n){var r=t.controlId,a=t.as,i=void 0===a?"div":a,s=Mw(t,Xj),o=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,Aw.jsx)(Dj.Provider,{value:o,children:(0,Aw.jsx)(i,xe(xe({},s),{},{ref:n}))})}));Jj.displayName="FormGroup";var Zj=Jj,eI=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],tI=e.forwardRef((function(t,n){var r=t.as,a=void 0===r?"label":r,i=t.bsPrefix,s=t.column,o=void 0!==s&&s,u=t.visuallyHidden,c=void 0!==u&&u,l=t.className,f=t.htmlFor,d=Mw(t,eI),h=(0,e.useContext)(Dj).controlId;i=zw(i,"form-label");var p="col-form-label";"string"===typeof o&&(p="".concat(p," ").concat(p,"-").concat(o));var v=Uw()(l,i,c&&"visually-hidden",o&&p);return f=f||h,o?(0,Aw.jsx)(tE,xe({ref:n,as:"label",className:v,htmlFor:f},d)):(0,Aw.jsx)(a,xe({ref:n,className:v,htmlFor:f},d))}));tI.displayName="FormLabel";var nI=tI,rI=["bsPrefix","className","id"],aI=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.id,s=Mw(t,rI),o=(0,e.useContext)(Dj).controlId;return r=zw(r,"form-range"),(0,Aw.jsx)("input",xe(xe({},s),{},{type:"range",ref:n,className:Uw()(a,r),id:i||o}))}));aI.displayName="FormRange";var iI=aI,sI=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],oI=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.size,i=t.htmlSize,s=t.className,o=t.isValid,u=void 0!==o&&o,c=t.isInvalid,l=void 0!==c&&c,f=t.id,d=Mw(t,sI),h=(0,e.useContext)(Dj).controlId;return r=zw(r,"form-select"),(0,Aw.jsx)("select",xe(xe({},d),{},{size:i,ref:n,className:Uw()(s,r,a&&"".concat(r,"-").concat(a),u&&"is-valid",l&&"is-invalid"),id:f||h}))}));oI.displayName="FormSelect";var uI=oI,cI=["bsPrefix","className","as","muted"],lI=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,i=void 0===a?"small":a,s=e.muted,o=Mw(e,cI);return n=zw(n,"form-text"),(0,Aw.jsx)(i,xe(xe({},o),{},{ref:t,className:Uw()(r,n,s&&"text-muted")}))}));lI.displayName="FormText";var fI=lI,dI=e.forwardRef((function(e,t){return(0,Aw.jsx)(Wj,xe(xe({},e),{},{ref:t,type:"switch"}))}));dI.displayName="Switch";var hI=Object.assign(dI,{Input:Wj.Input,Label:Wj.Label}),pI=["bsPrefix","className","children","controlId","label"],vI=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.children,i=e.controlId,s=e.label,o=Mw(e,pI);return n=zw(n,"form-floating"),(0,Aw.jsxs)(Zj,xe(xe({ref:t,className:Uw()(r,n),controlId:i},o),{},{children:[a,(0,Aw.jsx)("label",{htmlFor:i,children:s})]}))}));vI.displayName="FloatingLabel";var mI=vI,gI=["className","validated","as"],yI={_ref:a_().any,validated:a_().bool,as:a_().elementType},kI=e.forwardRef((function(e,t){var n=e.className,r=e.validated,a=e.as,i=void 0===a?"form":a,s=Mw(e,gI);return(0,Aw.jsx)(i,xe(xe({},s),{},{ref:t,className:Uw()(n,r&&"was-validated")}))}));kI.displayName="Form",kI.propTypes=yI;var xI,bI=Object.assign(kI,{Group:Zj,Control:Yj,Floating:$j,Check:Wj,Switch:hI,Label:nI,Text:fI,Range:iI,Select:uI,FloatingLabel:mI}),wI=function(t){var n=t.supervisors,r=t.onFilterTasks,a=(t.onSupervisorClick,t.onSupervisorBoxClick),i=u((0,e.useState)([]),2),s=i[0],o=i[1],c=u((0,e.useState)({}),2),f=c[0],h=c[1],v=u((0,e.useState)([]),2),m=(v[0],v[1],u((0,e.useState)(null),2)),g=m[0],y=m[1],k=u((0,e.useState)([]),2),x=k[0],b=k[1],w=u((0,e.useState)(""),2),E=(w[0],w[1]),S=u((0,e.useState)(""),2),_=(S[0],S[1]),T=u((0,e.useState)([]),2),C=T[0],j=T[1],I=Ow(),N=I.currentUser;I.logout;(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,u,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"supervisors",t),e.next=4,Kb(n);case 4:(r=e.sent).exists()?(a=r.data(),i=a.tasks||[],s=i.filter((function(e){return"completed"===e.status})).length,u=i.filter((function(e){return"pending"===e.status})).length,c=i.filter((function(e){return"Work in Progress"===e.status})).length,f={supervisorId:t,numTasksCompleted:s,numTasksPending:u,numTasksAssigned:i.length,numTasksInProgress:c},o((function(e){return[].concat(l(e),[f])}))):console.error("Supervisor document does not exist"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching task statistics:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();n.forEach((function(t){e(t.uid)}))}),[n]);var P=function(){var e=p(d().mark((function e(t,a){var i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(a),y(t),(i=n.find((function(e){return e.uid===t})))&&i.tasks&&(s=i.tasks||[],s.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),o=s.filter((function(e){return e.status===a})),r(o),b(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=p(d().mark((function e(t){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h("assigned"),y(t),(a=n.find((function(e){return e.uid===t})))&&a.tasks&&(i=a.tasks||[],i.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),r(i),b(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){h(null),y(null),r([]),b([])},O=function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=C.filter((function(e){return e.id!==t})),j(n),r=Kx(Pw,"supervisors",N.uid),e.next=6,$b(r,{tasks:n});case 6:_("Task deleted successfully"),E(""),setTimeout((function(){_("")}),1e3),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),E("Failed to delete task: "+e.t0.message),console.error("Delete task error",e.t0),setTimeout((function(){_("")}),1e3);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsxs)(Qw,{className:"employee-list",children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Supervisor List"}),n&&n.length>0?n.map((function(e){var t=s.find((function(t){return t.supervisorId===e.uid}));return(0,Aw.jsxs)(Qw,{fluid:!0,style:{padding:"10px",marginBottom:"20px"},className:"employee-card bigbox",onClick:function(t){console.log("Supervisor box clicked with ID:",e.uid),a(e.uid,t)},children:[(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{border:0,backgroundColor:"transparent"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Name:"}),(0,Aw.jsx)(FT.Text,{children:e.name})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"assigned"===f?"":"#003DAA",color:g===e.uid&&"assigned"===f?"#000":"#fff",borderColor:g===e.uid&&"assigned"===f?"#003DAA":"#fff"},onClick:function(){"assigned"===f?R():A(e.uid)},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksAssigned})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"pending"===f?"":"#B32222",color:g===e.uid&&"pending"===f?"#000":"#fff",borderColor:g===e.uid&&"pending"===f?"#B32222":"#fff"},onClick:function(){"pending"===f?R():P(e.uid,"pending")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksPending})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"Work in Progress"===f?"":"#DAA520",color:g===e.uid&&"Work in Progress"===f?"#000":"#fff",borderColor:g===e.uid&&"Work in Progress"===f?"#DAA520":"#fff"},onClick:function(){"Work in Progress"===f?R():P(e.uid,"Work in Progress")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksInProgress})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"completed"===f?"":"#228B22",color:g===e.uid&&"completed"===f?"#000":"#fff",borderColor:g===e.uid&&"completed"===f?"#228B22":"#fff"},onClick:function(){"completed"===f?R():P(e.uid,"completed")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksCompleted})]})})})})})]}),g===e.uid&&(0,Aw.jsx)(Xw,{className:"mt-4",children:x.length>0?(0,Aw.jsxs)(tE,{xs:12,md:12,children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Tasks"}),(0,Aw.jsx)("div",{className:"table-responsive",children:(0,Aw.jsxs)(BT,{striped:!0,bordered:!0,hover:!0,className:"formal-table",children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Delete"})]})}),(0,Aw.jsx)("tbody",{children:x.map((function(e){return(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("td",{children:e.project}),(0,Aw.jsx)("td",{children:e.task}),(0,Aw.jsx)("td",{children:e.subtask}),(0,Aw.jsx)("td",{children:e.members}),(0,Aw.jsx)("td",{children:"completed"===e.status?(0,Aw.jsx)("span",{children:"Completed"}):"Work in Progress"===e.status?(0,Aw.jsx)("span",{children:"Work in Progress"}):"pending"===e.status&&"high"===e.priority?(0,Aw.jsx)("span",{className:"high-priority-pending",children:"Pending"}):(0,Aw.jsx)("span",{children:"Pending"})}),(0,Aw.jsx)("td",{children:e.endDate}),(0,Aw.jsx)("td",{children:e.priority}),(0,Aw.jsx)("td",{children:(0,Aw.jsx)("button",{onClick:function(){return O(e.id)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e.id)}))})]})})]}):(0,Aw.jsx)("p",{children:"No tasks available for the selected supervisor."})})]},e.uid)})):(0,Aw.jsx)("p",{children:"No supervisors available"})]})},EI={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},SI=new Uint8Array(16);function _I(){if(!xI&&!(xI="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xI(SI)}for(var TI=[],CI=0;CI<256;++CI)TI.push((CI+256).toString(16).slice(1));function jI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(TI[e[t+0]]+TI[e[t+1]]+TI[e[t+2]]+TI[e[t+3]]+"-"+TI[e[t+4]]+TI[e[t+5]]+"-"+TI[e[t+6]]+TI[e[t+7]]+"-"+TI[e[t+8]]+TI[e[t+9]]+"-"+TI[e[t+10]]+TI[e[t+11]]+TI[e[t+12]]+TI[e[t+13]]+TI[e[t+14]]+TI[e[t+15]]).toLowerCase()}var II=function(e,t,n){if(EI.randomUUID&&!t&&!e)return EI.randomUUID();var r=(e=e||{}).random||(e.rng||_I)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return jI(r)},NI=function(t){var n=t.employees,r=t.onFilterTasks,a=(t.onEmployeeClick,u((0,e.useState)([]),2)),i=a[0],s=a[1],o=u((0,e.useState)({}),2),c=o[0],f=o[1],h=u((0,e.useState)([]),2),v=(h[0],h[1],u((0,e.useState)(null),2)),m=v[0],g=v[1],y=u((0,e.useState)([]),2),k=y[0],x=y[1],b=u((0,e.useState)(""),2),w=(b[0],b[1]),E=u((0,e.useState)(""),2),S=(E[0],E[1]),_=u((0,e.useState)([]),2),T=_[0],C=_[1],j=Ow(),I=j.currentUser;j.logout;(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(t){var n,r,a,i,o,u,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"employees",t),e.next=4,Kb(n);case 4:(r=e.sent).exists()?(a=r.data(),i=a.tasks||[],o=i.filter((function(e){return"completed"===e.status})).length,u=i.filter((function(e){return"pending"===e.status})).length,c=i.filter((function(e){return"Work in Progress"===e.status})).length,f={employeeId:t,numTasksCompleted:o,numTasksPending:u,numTasksAssigned:i.length,numTasksInProgress:c},s((function(e){return[].concat(l(e),[f])}))):console.error("Employee document does not exist"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching task statistics:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();n.forEach((function(t){e(t.uid)}))}),[n]);var N=function(){var e=p(d().mark((function e(t,a){var i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(a),g(t),(i=n.find((function(e){return e.uid===t})))&&i.tasks&&(s=i.tasks||[],s.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),o=s.filter((function(e){return e.status===a})),r(o),x(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=p(d().mark((function e(t){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f("assigned"),g(t),(a=n.find((function(e){return e.uid===t})))&&a.tasks&&(i=a.tasks||[],i.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),r(i),x(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){f(null),g(null),r([]),x([])},R=function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=T.filter((function(e){return e.id!==t})),C(n),r=Kx(Pw,"supervisors",I.uid),e.next=6,$b(r,{tasks:n});case 6:S("Task deleted successfully"),w(""),setTimeout((function(){S("")}),1e3),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),w("Failed to delete task: "+e.t0.message),console.error("Delete task error",e.t0),setTimeout((function(){S("")}),1e3);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsxs)(Qw,{className:"employee-list",children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Employee List"}),n&&n.length>0?n.map((function(e){var t=i.find((function(t){return t.employeeId===e.uid}));return(0,Aw.jsxs)(Qw,{fluid:!0,className:"employee-card",style:{padding:"10px",marginBottom:"20px"},children:[(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{border:0,backgroundColor:"transparent"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Name:"}),(0,Aw.jsx)(FT.Text,{children:e.name})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:m===e.uid&&"assigned"===c?"":"#003DAA",color:m===e.uid&&"assigned"===c?"#000":"#fff",borderColor:m===e.uid&&"assigned"===c?"#003DAA":"#fff"},onClick:function(){"assigned"===c?A():P(e.uid)},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksAssigned})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:m===e.uid&&"pending"===c?"":"#B32222",color:m===e.uid&&"pending"===c?"#000":"#fff",borderColor:m===e.uid&&"pending"===c?"#B32222":"#fff"},onClick:function(){"pending"===c?A():N(e.uid,"pending")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksPending})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:m===e.uid&&"Work in Progress"===c?"":"#DAA520",color:m===e.uid&&"Work in Progress"===c?"#000":"#fff",borderColor:m===e.uid&&"Work in Progress"===c?"#DAA520":"#fff"},onClick:function(){"Work in Progress"===c?A():N(e.uid,"Work in Progress")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksInProgress})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:m===e.uid&&"completed"===c?"":"#228B22",color:m===e.uid&&"completed"===c?"#000":"#fff",borderColor:m===e.uid&&"completed"===c?"#228B22":"#fff"},onClick:function(){"completed"===c?A():N(e.uid,"completed")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksCompleted})]})})})})})]}),m===e.uid&&(0,Aw.jsx)(Xw,{className:"mt-4",children:k.length>0?(0,Aw.jsxs)(tE,{xs:12,md:12,children:[(0,Aw.jsx)("h2",{children:"Tasks"}),(0,Aw.jsx)("div",{className:"table-responsive",children:(0,Aw.jsxs)(BT,{striped:!0,bordered:!0,hover:!0,className:"formal-table",children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Delete"})]})}),(0,Aw.jsx)("tbody",{children:k.map((function(e){return(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("td",{children:e.project}),(0,Aw.jsx)("td",{children:e.task}),(0,Aw.jsx)("td",{children:e.subtask}),(0,Aw.jsx)("td",{children:e.members}),(0,Aw.jsx)("td",{children:"completed"===e.status?(0,Aw.jsx)("span",{children:"Completed"}):"Work in Progress"===e.status?(0,Aw.jsx)("span",{children:"Work in Progress"}):"pending"===e.status&&"high"===e.priority?(0,Aw.jsx)("span",{className:"high-priority-pending",children:"Pending"}):(0,Aw.jsx)("span",{children:"Pending"})}),(0,Aw.jsx)("td",{children:e.endDate}),(0,Aw.jsx)("td",{children:e.priority}),(0,Aw.jsx)("td",{children:(0,Aw.jsx)("button",{onClick:function(){return R(e.id)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e.id)}))})]})})]}):(0,Aw.jsx)("p",{children:"No tasks available for the selected employee."})})]},e.uid)})):(0,Aw.jsx)("p",{children:"No employees available"})]})};function PI(){var t=u((0,e.useState)(null),2),n=(t[0],t[1]),r=u((0,e.useState)(""),2),a=r[0],i=r[1],s=u((0,e.useState)(""),2),o=s[0],c=s[1],f=Ow(),h=f.currentUser,m=f.logout,g=u((0,e.useState)(null),2),y=g[0],k=g[1],x=u((0,e.useState)([]),2),b=x[0],w=x[1],E=u((0,e.useState)([]),2),S=(E[0],E[1]),_=u((0,e.useState)([]),2),T=_[0],C=_[1],j=u((0,e.useState)([]),2),I=j[0],N=j[1],P=u((0,e.useState)(!1),2),A=P[0],R=P[1],O=u((0,e.useState)(null),2),D=(O[0],O[1],u((0,e.useState)([]),2)),L=(D[0],D[1],u((0,e.useState)([]),2)),M=L[0],F=L[1],U=u((0,e.useState)([]),2),V=U[0],B=U[1],z=u((0,e.useState)([]),2),H=z[0],W=z[1],q=u((0,e.useState)([]),2),K=(q[0],q[1],u((0,e.useState)(null),2)),G=(K[0],K[1]),Q=u((0,e.useState)(null),2),Y=(Q[0],Q[1],u((0,e.useState)(!1),2)),$=Y[0],X=Y[1],J=u((0,e.useState)([]),2),Z=(J[0],J[1],u((0,e.useState)(0),2)),ee=(Z[0],Z[1]),te=u((0,e.useState)(0),2),ne=(te[0],te[1]),re=u((0,e.useState)(0),2),ae=re[0],ie=re[1],se=u((0,e.useState)([]),2),oe=se[0],ue=se[1],ce=u((0,e.useState)([]),2),le=ce[0],fe=ce[1],de=u((0,e.useState)([]),2),he=de[0],pe=de[1],ve=u((0,e.useState)([]),2),me=(ve[0],ve[1],u((0,e.useState)(!1),2)),ge=me[0],ye=me[1],ke=u((0,e.useState)([]),2),be=(ke[0],ke[1]),we=u((0,e.useState)([]),2),Ee=we[0],Se=we[1],_e=DC(),Te=function(){var e=p(d().mark((function e(){var t,n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"teamleaders",h.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(r=n.data(),a=r.tasks||[],C(a),s=a.filter((function(e){return"completed"===e.status})).length,o=a.filter((function(e){return"pending"===e.status})).length,u=a.filter((function(e){return"Work in Progress"===e.status})).length,c=a.length,ee(s),ne(o),ie(c),ue(s),fe(o),pe(u)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch tasks"),console.error("Fetch tasks error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){h&&Te()}),[h]),(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"teamleaders",h.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(r=n.data(),k(r)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch user data: "+e.t0.message),console.error("Fetch user data error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[h]),(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,r,a,s,o,u,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"teamleaders",h.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&((r=n.data()).tasks&&r.tasks.length>0&&(a=r.tasks.map((function(e){return e.project})),s=l(new Set(a)),F(s)),r.tasks&&r.tasks.length>0&&(o=r.tasks.map((function(e){return e.task})),u=l(new Set(o)),B(u)),r.tasks&&r.tasks.length>0&&(c=r.tasks.map((function(e){return e.subtask})),f=l(new Set(c)),W(f))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch project and task names: "+e.t0.message),console.error("Fetch project and task names error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[h]);(0,e.useEffect)((function(){h&&(h.role="Team_Leader")}),[h]);var Ce=function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),e.prev=1,e.next=4,m();case 4:_e("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),i("Failed to log out"),console.error("Logout error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),je=u((0,e.useState)({project:"",task:"",subtask:"",members:"",endDate:"",priority:"low"}),2),Ie=je[0],Ne=je[1],Pe=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,f,p,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),II(),h){e.next=6;break}return i("Please log in to assign tasks."),e.abrupt("return");case 6:if(console.log("currentUser:",h),console.log("currentUser.role:",h.role),"Team_Leader"===h.role){e.next=11;break}return i("You do not have the required permissions to assign tasks."),e.abrupt("return");case 11:if(0!==I.length){e.next=14;break}return i("Please select at least one supervisor to assign the task to."),e.abrupt("return");case 14:n={taskId:II(),project:Ie.project,task:Ie.task,subtask:Ie.subtask,members:Ie.members,status:"pending",endDate:Ie.endDate,priority:Ie.priority},console.log("New Task Data:",n),r=[],a=v(I),e.prev=18,a.s();case 20:if((s=a.n()).done){e.next=29;break}return o=s.value,u=Kx(Pw,"supervisors",o),e.next=25,Kb(u);case 25:(f=e.sent).exists()&&(p=f.data(),m=[].concat(l(p.tasks||[]),[n]),r.push({docRef:u,data:{tasks:m}}));case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(18),a.e(e.t0);case 34:return e.prev=34,a.f(),e.finish(34);case 37:return g=nw(Pw),r.forEach((function(e){g.set(e.docRef,e.data,{merge:!0})})),console.log("supervisor Updates:",r),e.next=42,g.commit();case 42:c("Task assigned to Supervisors successfully"),i(""),Ne({project:"",task:"",subtask:"",members:"",TeamLeaders:[],supervisors:[],employees:[],endDate:"",priority:"low"}),e.next=52;break;case 47:e.prev=47,e.t1=e.catch(0),i("Failed to assign task"),console.error("Firebase Error:",e.t1.message),console.error("Firebase Error Details:",e.t1.details);case 52:case"end":return e.stop()}}),e,null,[[0,47],[18,31,34,37]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"teamleaders",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return s=a.assigned,o=qx(Pw,"supervisors"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),w(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),i("Failed to fetch supervisor: "+e.t0.message),console.error("Fetch Supervisor error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){h&&Ae(h.uid)}),[h]);var Re=function(){var e=p(d().mark((function e(t,r){var a,s,o,u,c,l,f,h,p,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=42;break}if(!r.target.classList.contains("bigbox")){e.next=42;break}return n(t),e.prev=4,a=Kx(Pw,"supervisors",t),e.next=8,Kb(a);case 8:if(!(s=e.sent).exists()){e.next=35;break}o=s.data(),o.uid,u=o.assigned||[],c=[],l=v(u),e.prev=15,l.s();case 17:if((f=l.n()).done){e.next=26;break}return h=f.value,p=Kx(Pw,"employees",h),e.next=22,Kb(p);case 22:(m=e.sent).exists()&&(g=m.data(),c.push(g));case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),l.e(e.t0);case 31:return e.prev=31,l.f(),e.finish(31);case 34:Se(c);case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(4),i("Failed to fetch supervisor's data: "+e.t1.message),console.error("Fetch supervisor data error",e.t1);case 41:Oe();case 42:case"end":return e.stop()}}),e,null,[[4,37],[15,28,31,34]])})));return function(t,n){return e.apply(this,arguments)}}(),Oe=function(){console.log("Toggling employee list"),ye(!ge)},De=function(){var e=p(d().mark((function e(t,n){var r,a,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=["supervisors","employees","teamleaders","unitheads","heads"],e.prev=1,a=d().mark((function e(){var r,a,i,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o[s],e.next=3,Qb(qx(Pw,r));case 3:if(a=e.sent,i=nw(Pw),u=!1,a.forEach((function(e){var a=e.data();if(a.tasks&&Array.isArray(a.tasks)){var s=a.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(a.tasks[s].status=n,i.set(Kx(Pw,r,e.id),{tasks:a.tasks},{merge:!0}),u=!0)}})),!u){e.next=10;break}return e.next=10,i.commit();case 10:case"end":return e.stop()}}),e)})),s=0,o=r;case 4:if(!(s<o.length)){e.next=9;break}return e.delegateYield(a(),"t0",6);case 6:s++,e.next=4;break;case 9:c("Task status updated successfully"),i(""),setTimeout((function(){c("")}),1e3),Te(),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(1),i("Failed to update task status"),console.error("Update task status error",e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=["teamleaders","supervisors","employees","unitheads","heads"],r=nw(Pw),a=!1,s=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u[o],e.next=3,Qb(qx(Pw,n));case 3:e.sent.forEach((function(e){var i=e.data();if(i.tasks&&Array.isArray(i.tasks)){var s=i.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(i.tasks[s].status="Work in Progress",r.set(Kx(Pw,n,e.id),{tasks:i.tasks},{merge:!0}),a=!0)}}));case 5:case"end":return e.stop()}}),e)})),o=0,u=n;case 6:if(!(o<u.length)){e.next=11;break}return e.delegateYield(s(),"t0",8);case 8:o++,e.next=6;break;case 11:if(!a){e.next=14;break}return e.next=14,r.commit();case 14:c("Task status updated to Work in Progress"),i(""),setTimeout((function(){c("")}),1e3),Te(),e.next=24;break;case 20:e.prev=20,e.t1=e.catch(0),i("Failed to update task status"),console.error("Update task status error",e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{children:[(0,Aw.jsx)(tE,{sm:2,className:"bg-primary text-white p-0",children:(0,Aw.jsxs)(M_,{expand:"lg",variant:"dark",className:"flex-column vh-100",style:{backgroundColor:"#001D44"},children:[(0,Aw.jsxs)(M_.Brand,{children:[(0,Aw.jsx)("img",{src:"/Checklist/Logo.png",width:"150",height:"150",className:"d-inline-block align-top"}),(0,Aw.jsx)("h4",{children:"Checklist App"})]}),(0,Aw.jsx)(Xw,{className:"w-100 mt-4 flex-grow-1",children:(0,Aw.jsx)(tE,{className:"d-flex flex-column align-items-center justify-content-end",children:(0,Aw.jsxs)(hT,{className:"flex-column d-flex justify-content-center",children:[(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-dashboard",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(cj,{style:{marginRight:"10px"}})," User Profile"]}),(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-change-password",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(lj,{style:{marginRight:"10px"}})," ","Change Password"]}),(0,Aw.jsxs)(hT.Link,{active:!0,onClick:Ce,className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(uj,{style:{marginRight:"10px"}})," Logout"]})]})})})]})}),(0,Aw.jsx)(tE,{sm:10,className:"max-height",children:(0,Aw.jsxs)(Qw,{className:"border p-4",style:{marginTop:"80px"},children:[(0,Aw.jsx)(Xw,{children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsxs)("h2",{className:"text-center mt-4 border-bottom pb-2",children:["Welcome, ",y&&y.name]}),a&&(0,Aw.jsx)(kT,{variant:"danger",children:a}),o&&(0,Aw.jsx)(kT,{variant:"success",children:o}),ge?(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(NI,{employees:Ee,onFilterTasks:function(e){!function(e){var t=T.filter((function(t){return t.status===e}));be(t)}(e)},onEmployeeClick:function(e){G(e)}}),(0,Aw.jsx)(vj,{type:"button",variant:"primary",onClick:Oe,children:"Go Back to Supervisor List"})]}):(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(wI,{supervisors:b,onSupervisorClick:function(e,t){return Re(e,t)},onFilterTasks:function(e){S(e)},onSupervisorBoxClick:Re,toggleEmployeeBoxes:function(){X(!$)}}),(0,Aw.jsx)(vj,{type:"button",variant:"primary",onClick:function(){return R(!0)},children:"Assign Task"})]})]})}),(0,Aw.jsxs)(Nj,{show:A,onHide:function(){return R(!1)},children:[(0,Aw.jsx)(Nj.Header,{closeButton:!0,children:(0,Aw.jsx)(Nj.Title,{children:"Assign Task"})}),(0,Aw.jsx)(Nj.Body,{children:(0,Aw.jsx)("div",{className:"mb-3",children:(0,Aw.jsxs)(bI,{onSubmit:function(e){e.preventDefault(),Pe(e)},children:[(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"project",children:[(0,Aw.jsx)(bI.Label,{children:"Project"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"project",required:!0,value:Ie.project,onChange:function(e){return Ne(xe(xe({},Ie),{},{project:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"",children:"Select a project"}),M.map((function(e){return(0,Aw.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"task",children:[(0,Aw.jsx)(bI.Label,{children:"Task"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"task",value:Ie.task,required:!0,onChange:function(e){return Ne(xe(xe({},Ie),{},{task:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"",children:"Select a task"}),V.map((function(e){return(0,Aw.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"subtask",children:[(0,Aw.jsx)(bI.Label,{children:"Subtask"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"subtask",required:!0,value:Ie.subtask,onChange:function(e){return Ne(xe(xe({},Ie),{},{subtask:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"",children:"Select a subtask"}),H.map((function(e){return(0,Aw.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"members",children:[(0,Aw.jsx)(bI.Label,{children:"Members"}),(0,Aw.jsx)(bI.Control,{type:"text",name:"members",required:!0,value:Ie.members,onChange:function(e){return Ne(xe(xe({},Ie),{},{members:e.target.value}))}})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"endDate",children:[(0,Aw.jsx)(bI.Label,{children:"End Date"}),(0,Aw.jsx)(bI.Control,{type:"date",name:"endDate",required:!0,value:Ie.endDate,onChange:function(e){return Ne(xe(xe({},Ie),{},{endDate:e.target.value}))}})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"priority",children:[(0,Aw.jsx)(bI.Label,{children:"Priority"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"priority",required:!0,value:Ie.priority,onChange:function(e){return Ne(xe(xe({},Ie),{},{priority:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"low",children:"Low"}),(0,Aw.jsx)("option",{value:"medium",children:"Medium"}),(0,Aw.jsx)("option",{value:"high",children:"High"})]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"assignedTo",children:[(0,Aw.jsx)(bI.Label,{children:"Assign to Supervisors"}),b.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.uid,label:e.name+" ("+e.email+")",value:e.uid,checked:I.includes(e.uid),onChange:function(){N((function(t){return t.includes(e.uid)?t.filter((function(t){return t!==e.uid})):[].concat(l(t),[e.uid])}))}},e.uid)}))]}),(0,Aw.jsx)(vj,{type:"submit",variant:"primary",children:"Assign Task"})]})})})]}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center",children:"Task Statistics"}),(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#003DAA",color:"white",borderColor:"#003DAA"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:ae})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#B32222",color:"white",borderColor:"#B32222"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:le})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#DAA520",color:"white",borderColor:"#DAA520"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:he})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#228B22",color:"white",borderColor:"#228B22"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:oe})]})})})})})]}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center mb-4",children:"Task Table"}),(0,Aw.jsxs)(BT,{className:"formal-table",striped:!0,bordered:!0,hover:!0,children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Mark as Completed"}),(0,Aw.jsx)("th",{children:"Change Status"})]})}),(0,Aw.jsx)("tbody",{children:T.slice().sort((function(e,t){var n={high:1,medium:2,low:3};return n[e.priority]-n[t.priority]})).map((function(e){return(0,Aw.jsx)(ej,{task:e,onMarkAsCompleted:De,onChangeStatus:Le},e.id)}))})]})]})})]})})]})})]})})}function AI(){var t=u((0,e.useState)(""),2),n=t[0],r=t[1],a=u((0,e.useState)(""),2),i=a[0],s=a[1],o=Ow(),c=o.currentUser,f=o.logout,h=u((0,e.useState)({}),2),m=h[0],g=h[1],y=u((0,e.useState)(null),2),k=(y[0],y[1]),x=u((0,e.useState)(!1),2),b=x[0],w=x[1],E=u((0,e.useState)([]),2),S=E[0],_=E[1],T=u((0,e.useState)([]),2),C=T[0],j=T[1],I=u((0,e.useState)([]),2),N=I[0],P=I[1],A=u((0,e.useState)(null),2),R=(A[0],A[1],u((0,e.useState)(0),2)),O=R[0],D=R[1],L=u((0,e.useState)(0),2),M=L[0],F=L[1],U=u((0,e.useState)(0),2),V=U[0],B=U[1],z=u((0,e.useState)([]),2),H=(z[0],z[1]),W=u((0,e.useState)([]),2),q=(W[0],W[1]),K=u((0,e.useState)([]),2),G=K[0],Q=K[1],Y=u((0,e.useState)([]),2),$=(Y[0],Y[1]),X=u((0,e.useState)([]),2),J=X[0],Z=X[1],ee=u((0,e.useState)([]),2),te=ee[0],ne=ee[1],re=u((0,e.useState)([]),2),ae=re[0],ie=re[1],se=u((0,e.useState)([]),2),oe=(se[0],se[1]),ue=DC();(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"supervisors",c.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(a=n.data(),g(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r("Failed to fetch user data: "+e.t0.message),console.error("Fetch user data error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]),(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,a,i,s,o,u,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"supervisors",c.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&((a=n.data()).tasks&&a.tasks.length>0&&(i=a.tasks.map((function(e){return e.project})),s=l(new Set(i)),Z(s)),a.tasks&&a.tasks.length>0&&(o=a.tasks.map((function(e){return e.task})),u=l(new Set(o)),ne(u)),a.tasks&&a.tasks.length>0&&(f=a.tasks.map((function(e){return e.subtask})),h=l(new Set(f)),ie(h))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r("Failed to fetch project and task names: "+e.t0.message),console.error("Fetch project and task names error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]);(0,e.useEffect)((function(){c&&(c.role="Supervisor")}),[c]);var ce=function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,f();case 4:ue("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out"),console.error("Logout error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),le=u((0,e.useState)({project:"",task:"",subtask:"",members:"",endDate:"",priority:"low"}),2),fe=le[0],de=le[1],he=function(){var e=p(d().mark((function e(t){var n,a,i,o,u,f,h,p,m,g,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),II(),n=fe.priority,console.log("Selected Priority:",n),["low","medium","high"].includes(n)){e.next=8;break}return r("Invalid priority selected"),e.abrupt("return");case 8:if(c){e.next=11;break}return r("Please log in to assign tasks."),e.abrupt("return");case 11:if(console.log("currentUser:",c),console.log("currentUser.role:",c.role),"Supervisor"===c.role){e.next=16;break}return r("You do not have the required permissions to assign tasks."),e.abrupt("return");case 16:if(0!==N.length){e.next=19;break}return r("Please select at least one employee to assign the task to."),e.abrupt("return");case 19:a={taskId:II(),project:fe.project,task:fe.task,subtask:fe.subtask,members:fe.members,assignedTo:N,status:"pending",endDate:fe.endDate,priority:n},console.log("New Task Data:",a),i=[],o=v(N),e.prev=23,o.s();case 25:if((u=o.n()).done){e.next=34;break}return f=u.value,h=Kx(Pw,"employees",f),e.next=30,Kb(h);case 30:(p=e.sent).exists()&&(m=p.data(),g=[].concat(l(m.tasks||[]),[a]),i.push({docRef:h,data:{tasks:g}}));case 32:e.next=25;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(23),o.e(e.t0);case 39:return e.prev=39,o.f(),e.finish(39);case 42:return y=nw(Pw),i.forEach((function(e){y.set(e.docRef,e.data,{merge:!0})})),console.log("Employee Updates:",i),e.next=47,y.commit();case 47:s("Task assigned to employees successfully"),r(""),de({project:"",task:"",subtask:"",members:"",TeamLeaders:[],supervisors:[],employees:[],endDate:"",priority:"low"}),e.next=57;break;case 52:e.prev=52,e.t1=e.catch(0),r("Failed to assign task"),console.error("Firebase Error:",e.t1.message),console.error("Firebase Error Details:",e.t1.details);case 57:case"end":return e.stop()}}),e,null,[[0,52],[23,36,39,42]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=p(d().mark((function e(){var t,n,a,i,s,o,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"supervisors",c.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(a=n.data(),i=a.tasks||[],_(i),s=i.filter((function(e){return"completed"===e.status})).length,o=i.filter((function(e){return"pending"===e.status})).length,u=i.filter((function(e){return"Work in Progress"===e.status})).length,l=i.length,D(s),F(o),B(l),H(s),q(o),Q(u)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r("Failed to fetch tasks"),console.error("Fetch tasks error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){c&&pe()}),[c]);var ve=function(){var e=p(d().mark((function e(t){var n,a,i,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"supervisors",t),e.next=4,Kb(n);case 4:if(!(a=e.sent).exists()){e.next=15;break}if(!((i=a.data()).assigned&&i.assigned.length>0)){e.next=15;break}return s=i.assigned,o=qx(Pw,"employees"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),j(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),r("Failed to fetch employees: "+e.t0.message),console.error("Fetch employees error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){c&&ve(c.uid)}),[c]);var me=function(){var e=p(d().mark((function e(t,n){var a,i,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=["supervisors","employees","teamleaders","unitheads","heads"],e.prev=1,i=d().mark((function e(){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u[o],e.next=3,Qb(qx(Pw,r));case 3:if(a=e.sent,i=nw(Pw),s=!1,a.forEach((function(e){var a=e.data();if(a.tasks&&Array.isArray(a.tasks)){var o=a.tasks.findIndex((function(e){return e.taskId===t}));-1!==o&&(a.tasks[o].status=n,i.set(Kx(Pw,r,e.id),{tasks:a.tasks},{merge:!0}),s=!0)}})),!s){e.next=10;break}return e.next=10,i.commit();case 10:case"end":return e.stop()}}),e)})),o=0,u=a;case 4:if(!(o<u.length)){e.next=9;break}return e.delegateYield(i(),"t0",6);case 6:o++,e.next=4;break;case 9:s("Task status updated successfully"),r(""),setTimeout((function(){s("")}),1e3),pe(),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(1),r("Failed to update task status"),console.error("Update task status error",e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=p(d().mark((function e(t){var n,a,i,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=["supervisors","employees","teamleaders","unitheads","heads"],a=nw(Pw),i=!1,o=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c[u],e.next=3,Qb(qx(Pw,n));case 3:e.sent.forEach((function(e){var r=e.data();if(r.tasks&&Array.isArray(r.tasks)){var s=r.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(r.tasks[s].status="Work in Progress",a.set(Kx(Pw,n,e.id),{tasks:r.tasks},{merge:!0}),i=!0)}}));case 5:case"end":return e.stop()}}),e)})),u=0,c=n;case 6:if(!(u<c.length)){e.next=11;break}return e.delegateYield(o(),"t0",8);case 8:u++,e.next=6;break;case 11:if(!i){e.next=14;break}return e.next=14,a.commit();case 14:s("Task status updated to Work in Progress"),r(""),setTimeout((function(){s("")}),1e3),pe(),e.next=24;break;case 20:e.prev=20,e.t1=e.catch(0),r("Failed to update task status"),console.error("Update task status error",e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{children:[(0,Aw.jsx)(tE,{sm:2,className:"bg-primary text-white p-0",children:(0,Aw.jsxs)(M_,{expand:"lg",variant:"dark",className:"flex-column vh-100",style:{backgroundColor:"#001D44"},children:[(0,Aw.jsxs)(M_.Brand,{children:[(0,Aw.jsx)("img",{src:"/Checklist/Logo.png",width:"150",height:"150",className:"d-inline-block align-top"}),(0,Aw.jsx)("h4",{children:"Checklist App"})]}),(0,Aw.jsx)(Xw,{className:"w-100 mt-4 flex-grow-1",children:(0,Aw.jsx)(tE,{className:"d-flex flex-column align-items-center justify-content-end",children:(0,Aw.jsxs)(hT,{className:"flex-column d-flex justify-content-center",children:[(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-dashboard",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(cj,{style:{marginRight:"10px"}})," User Profile"]}),(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-change-password",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(lj,{style:{marginRight:"10px"}})," ","Change Password"]}),(0,Aw.jsxs)(hT.Link,{active:!0,onClick:ce,className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(uj,{style:{marginRight:"10px"}})," Logout"]})]})})})]})}),(0,Aw.jsx)(tE,{sm:10,className:"max-height",children:(0,Aw.jsxs)(Qw,{className:"border p-4",style:{marginTop:"80px"},children:[(0,Aw.jsx)(Xw,{children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsxs)("h2",{className:"text-center mt-4 border-bottom pb-2",children:["Welcome, ",m.name]}),n&&(0,Aw.jsx)(kT,{variant:"danger",children:n}),i&&(0,Aw.jsx)(kT,{variant:"success",children:i}),(0,Aw.jsx)(NI,{employees:C,onFilterTasks:function(e){!function(e){var t=S.filter((function(t){return t.status===e}));oe(t)}(e)},onEmployeeClick:function(e){k(e)},setSelectedEmployeeTasks:$}),(0,Aw.jsx)(vj,{type:"button",variant:"primary",onClick:function(){return w(!0)},children:"Assign Task"})]})}),(0,Aw.jsxs)(Nj,{show:b,onHide:function(){return w(!1)},children:[(0,Aw.jsx)(Nj.Header,{closeButton:!0,children:(0,Aw.jsx)(Nj.Title,{children:"Assign Task"})}),(0,Aw.jsx)(Nj.Body,{children:(0,Aw.jsx)("div",{className:"mb-3",children:(0,Aw.jsxs)(bI,{onSubmit:function(e){e.preventDefault(),he(e)},children:[(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"project",children:[(0,Aw.jsx)(bI.Label,{children:"Project"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"project",required:!0,value:fe.project,onChange:function(e){return de(xe(xe({},fe),{},{project:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"",children:"Select a project"}),J.map((function(e){return(0,Aw.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"task",children:[(0,Aw.jsx)(bI.Label,{children:"Task"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"task",value:fe.task,required:!0,onChange:function(e){return de(xe(xe({},fe),{},{task:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"",children:"Select a task"}),te.map((function(e){return(0,Aw.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"subtask",children:[(0,Aw.jsx)(bI.Label,{children:"Subtask"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"subtask",required:!0,value:fe.subtask,onChange:function(e){return de(xe(xe({},fe),{},{subtask:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"",children:"Select a subtask"}),ae.map((function(e){return(0,Aw.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"members",children:[(0,Aw.jsx)(bI.Label,{children:"Members"}),(0,Aw.jsx)(bI.Control,{type:"text",name:"members",required:!0,value:fe.members,onChange:function(e){return de(xe(xe({},fe),{},{members:e.target.value}))}})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"endDate",children:[(0,Aw.jsx)(bI.Label,{children:"End Date"}),(0,Aw.jsx)(bI.Control,{type:"date",name:"endDate",required:!0,value:fe.endDate,onChange:function(e){return de(xe(xe({},fe),{},{endDate:e.target.value}))}})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"priority",children:[(0,Aw.jsx)(bI.Label,{children:"Priority"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"priority",required:!0,value:fe.priority,onChange:function(e){return de(xe(xe({},fe),{},{priority:e.target.value}))},children:[(0,Aw.jsx)("option",{value:"low",children:"Low"}),(0,Aw.jsx)("option",{value:"medium",children:"Medium"}),(0,Aw.jsx)("option",{value:"high",children:"High"})]})]}),(0,Aw.jsxs)(bI.Group,{className:"mb-3",controlId:"assignedTo",children:[(0,Aw.jsx)(bI.Label,{children:"Assign to Employees"}),C.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.uid,label:e.name+" ("+e.email+")",value:e.uid,checked:N.includes(e.uid),onChange:function(){P((function(t){return t.includes(e.uid)?t.filter((function(t){return t!==e.uid})):[].concat(l(t),[e.uid])}))}},e.uid)}))]}),(0,Aw.jsx)(vj,{type:"submit",variant:"primary",children:"Assign Task"})]})})})]}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center",children:"Task Statistics"}),(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#003DAA",color:"white",borderColor:"#003DAA"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:V})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#B32222",color:"white",borderColor:"#B32222"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:M})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#DAA520",color:"white",borderColor:"#DAA520"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:G})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#228B22",color:"white",borderColor:"#228B22"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:O})]})})})})})]})]})}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center mb-4",children:"Task Table"}),(0,Aw.jsxs)(BT,{className:"formal-table",striped:!0,bordered:!0,hover:!0,children:[" ",(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Mark as Completed"}),(0,Aw.jsx)("th",{children:"Change Status"})]})}),(0,Aw.jsx)("tbody",{children:S.slice().sort((function(e,t){var n={high:1,medium:2,low:3};return n[e.priority]-n[t.priority]})).map((function(e,t){return(0,Aw.jsx)(ej,{task:e,onMarkAsCompleted:me,onChangeStatus:ge,style:{backgroundColor:t%2===0?"#f5f5f5":""}},e.id)}))})]})]})})]})})]})})}var RI=function(t){var n=t.teamLeaders,r=t.onFilterTasks,a=(t.onTeamLeaderClick,t.onTeamLeaderBoxClick),i=u((0,e.useState)([]),2),s=i[0],o=i[1],c=u((0,e.useState)({}),2),f=c[0],h=c[1],v=u((0,e.useState)([]),2),m=(v[0],v[1],u((0,e.useState)(null),2)),g=m[0],y=m[1],k=u((0,e.useState)([]),2),x=k[0],b=k[1],w=u((0,e.useState)(""),2),E=(w[0],w[1]),S=u((0,e.useState)(""),2),_=(S[0],S[1]),T=u((0,e.useState)([]),2),C=T[0],j=T[1],I=Ow(),N=I.currentUser;I.logout;(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,u,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"teamleaders",t),e.next=4,Kb(n);case 4:(r=e.sent).exists()?(a=r.data(),i=a.tasks||[],s=i.filter((function(e){return"completed"===e.status})).length,u=i.filter((function(e){return"pending"===e.status})).length,c=i.filter((function(e){return"Work in Progress"===e.status})).length,f={teamLeaderId:t,numTasksCompleted:s,numTasksPending:u,numTasksAssigned:i.length,numTasksInProgress:c},o((function(e){return[].concat(l(e),[f])}))):console.error("Team Leader document does not exist"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching task statistics:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();n.forEach((function(t){e(t.uid)}))}),[n]);var P=function(){var e=p(d().mark((function e(t,a){var i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(a),y(t),(i=n.find((function(e){return e.uid===t})))&&i.tasks&&(s=i.tasks||[],s.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),o=s.filter((function(e){return e.status===a})),r(o),b(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=p(d().mark((function e(t){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h("assigned"),y(t),(a=n.find((function(e){return e.uid===t})))&&a.tasks&&(i=a.tasks||[],i.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),r(i),b(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){h(null),y(null),r([]),b([])},O=function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=C.filter((function(e){return e.id!==t})),j(n),r=Kx(Pw,"teamLeaders",N.uid),e.next=6,$b(r,{tasks:n});case 6:_("Task deleted successfully"),E(""),setTimeout((function(){_("")}),1e3),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),E("Failed to delete task: "+e.t0.message),console.error("Delete task error",e.t0),setTimeout((function(){_("")}),1e3);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsxs)(Qw,{className:"employee-list",children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Team Leader List"}),n&&n.length>0?n.map((function(e){var t=s.find((function(t){return t.teamLeaderId===e.uid}));return(0,Aw.jsxs)(Qw,{fluid:!0,style:{padding:"10px",marginBottom:"20px"},className:"bigbox employee-card",onClick:function(t){console.log("Team Leader box clicked with ID:",e.uid),a(e.uid,t)},children:[(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{border:0,backgroundColor:"transparent"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Name:"}),(0,Aw.jsx)(FT.Text,{children:e.name})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"assigned"===f?"":"#003DAA",color:g===e.uid&&"assigned"===f?"#000":"#fff",borderColor:g===e.uid&&"assigned"===f?"#003DAA":"#fff"},onClick:function(){"assigned"===f?R():A(e.uid)},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksAssigned})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"pending"===f?"":"#B32222",color:g===e.uid&&"pending"===f?"#000":"#fff",borderColor:g===e.uid&&"pending"===f?"#B32222":"#fff"},onClick:function(){"pending"===f?R():P(e.uid,"pending")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksPending})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"Work in Progress"===f?"":"#DAA520",color:g===e.uid&&"Work in Progress"===f?"#000":"#fff",borderColor:g===e.uid&&"Work in Progress"===f?"#DAA520":"#fff"},onClick:function(){"Work in Progress"===f?R():P(e.uid,"Work in Progress")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksInProgress})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"completed"===f?"":"#228B22",color:g===e.uid&&"completed"===f?"#000":"#fff",borderColor:g===e.uid&&"completed"===f?"#228B22":"#fff"},onClick:function(){"completed"===f?R():P(e.uid,"completed")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksCompleted})]})})})})})]}),g===e.uid&&(0,Aw.jsx)(Xw,{className:"mt-4",children:x.length>0?(0,Aw.jsxs)(tE,{xs:12,md:12,children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Tasks"}),(0,Aw.jsx)("div",{className:"table-responsive",children:(0,Aw.jsxs)(BT,{striped:!0,bordered:!0,hover:!0,className:"formal-table",children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Delete"})]})}),(0,Aw.jsx)("tbody",{children:x.map((function(e){return(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("td",{children:e.project}),(0,Aw.jsx)("td",{children:e.task}),(0,Aw.jsx)("td",{children:e.subtask}),(0,Aw.jsx)("td",{children:e.members}),(0,Aw.jsx)("td",{children:"completed"===e.status?(0,Aw.jsx)("span",{children:"Completed"}):"Work in Progress"===e.status?(0,Aw.jsx)("span",{children:"Work in Progress"}):"pending"===e.status&&"high"===e.priority?(0,Aw.jsx)("span",{className:"high-priority-pending",children:"Pending"}):(0,Aw.jsx)("span",{children:"Pending"})}),(0,Aw.jsx)("td",{children:e.endDate}),(0,Aw.jsx)("td",{children:e.priority}),(0,Aw.jsx)("td",{children:(0,Aw.jsx)("button",{onClick:function(){return O(e.id)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e.id)}))})]})})]}):(0,Aw.jsx)("p",{children:"No tasks available for the selected team leader."})})]},e.uid)})):(0,Aw.jsx)("p",{children:"No team leaders available"})]})};function OI(){var t=u((0,e.useState)(null),2),n=(t[0],t[1]),r=u((0,e.useState)(""),2),a=r[0],i=r[1],s=u((0,e.useState)(""),2),o=s[0],c=s[1],f=Ow(),h=f.currentUser,m=f.logout,g=u((0,e.useState)([]),2),y=g[0],k=g[1],x=u((0,e.useState)([]),2),b=(x[0],x[1],u((0,e.useState)([]),2)),w=b[0],E=b[1],S=u((0,e.useState)(null),2),_=(S[0],S[1],u((0,e.useState)([]),2)),T=(_[0],_[1]),C=u((0,e.useState)([]),2),j=(C[0],C[1]),I=u((0,e.useState)([]),2),N=(I[0],I[1]),P=u((0,e.useState)([]),2),A=(P[0],P[1]),R=u((0,e.useState)([]),2),O=(R[0],R[1]),D=u((0,e.useState)(null),2),L=(D[0],D[1]),M=u((0,e.useState)(!1),2),F=M[0],U=M[1],V=u((0,e.useState)([]),2),B=(V[0],V[1],u((0,e.useState)(!1),2)),z=B[0],H=B[1],W=u((0,e.useState)(null),2),q=(W[0],W[1],u((0,e.useState)(0),2)),K=q[0],G=q[1],Q=u((0,e.useState)(0),2),Y=Q[0],$=Q[1],X=u((0,e.useState)(0),2),J=X[0],Z=X[1],ee=u((0,e.useState)([]),2),te=(ee[0],ee[1]),ne=u((0,e.useState)([]),2),re=(ne[0],ne[1]),ae=u((0,e.useState)([]),2),ie=(ae[0],ae[1]),se=u((0,e.useState)(null),2),oe=(se[0],se[1],u((0,e.useState)([]),2)),ue=(oe[0],oe[1]),ce=u((0,e.useState)(!1),2),le=ce[0],fe=ce[1],de=u((0,e.useState)(null),2),he=(de[0],de[1]),pe=u((0,e.useState)([]),2),ve=(pe[0],pe[1],u((0,e.useState)(!1),2)),me=ve[0],ge=ve[1],ye=(h&&h.uid,u((0,e.useState)(0),2)),ke=ye[0],be=(ye[1],u((0,e.useState)(null),2)),we=(be[0],be[1],u((0,e.useState)(!1),2)),Ee=(we[0],we[1],u((0,e.useState)(!1),2)),Se=(Ee[0],Ee[1]),_e=u((0,e.useState)([]),2),Te=_e[0],Ce=_e[1],je=u((0,e.useState)([]),2),Ie=je[0],Ne=je[1],Pe=u((0,e.useState)(null),2),Ae=Pe[0],Re=Pe[1],Oe=DC(),De=function(){var e=p(d().mark((function e(){var t,n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"unitheads",h.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(r=n.data(),a=r.tasks||[],E(a),s=a.filter((function(e){return"completed"===e.status})).length,o=a.filter((function(e){return"pending"===e.status})).length,u=a.filter((function(e){return"Work in Progress"===e.status})).length,c=a.length,G(s),$(o),Z(c),te(s),re(o),ie(u)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch tasks"),console.error("Fetch tasks error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){h&&De()}),[h]),(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"unitheads",h.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(r=n.data(),Re(r)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch user data"),console.error("Fetch user data error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();h&&e()}),[h]),(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,r,a,s,o,u,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"unitheads",h.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&((r=n.data()).tasks&&r.tasks.length>0&&(a=r.tasks.map((function(e){return e.project})),s=l(new Set(a)),j(s)),r.tasks&&r.tasks.length>0&&(o=r.tasks.map((function(e){return e.task})),u=l(new Set(o)),N(u)),r.tasks&&r.tasks.length>0&&(c=r.tasks.map((function(e){return e.subtask})),f=l(new Set(c)),A(f))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch project and task names: "+e.t0.message),console.error("Fetch project and task names error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();h&&e()}),[h]);var Le=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"teamleaders",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return s=a.assigned,o=qx(Pw,"supervisors"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),T(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),i("Failed to fetch supervisor: "+e.t0.message),console.error("Fetch Supervisor error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){h&&Le(h.uid)}),[h]);var Me=function(e){O(e)},Fe=function(){var e=p(d().mark((function e(t,n){var r,a,s,o,u,c,l,f,h,p,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=42;break}if(!n.target.classList.contains("bigbox")){e.next=42;break}return L(t),e.prev=4,r=Kx(Pw,"supervisors",t),e.next=8,Kb(r);case 8:if(!(a=e.sent).exists()){e.next=35;break}s=a.data(),s.uid,o=s.assigned||[],u=[],c=v(o),e.prev=15,c.s();case 17:if((l=c.n()).done){e.next=26;break}return f=l.value,h=Kx(Pw,"employees",f),e.next=22,Kb(h);case 22:(p=e.sent).exists()&&(m=p.data(),u.push(m));case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:Ce(u);case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(4),i("Failed to fetch supervisor's data: "+e.t1.message),console.error("Fetch supervisor data error",e.t1);case 41:Ve();case 42:case"end":return e.stop()}}),e,null,[[4,37],[15,28,31,34]])})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(){fe(!le)},Ve=function(){ge(!me)};(0,e.useEffect)((function(){h&&(h.role="UnitHead")}),[h]);var Be=function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),e.prev=1,e.next=4,m();case 4:Oe("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),i("Failed to log out"),console.error("Logout error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=p(d().mark((function e(t,n){var r,a,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=["supervisors","employees","teamleaders","unitheads","heads"],e.prev=1,a=d().mark((function e(){var r,a,i,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o[s],e.next=3,Qb(qx(Pw,r));case 3:if(a=e.sent,i=nw(Pw),u=!1,a.forEach((function(e){var a=e.data();if(a.tasks&&Array.isArray(a.tasks)){var s=a.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(a.tasks[s].status=n,i.set(Kx(Pw,r,e.id),{tasks:a.tasks},{merge:!0}),u=!0)}})),!u){e.next=10;break}return e.next=10,i.commit();case 10:case"end":return e.stop()}}),e)})),s=0,o=r;case 4:if(!(s<o.length)){e.next=9;break}return e.delegateYield(a(),"t0",6);case 6:s++,e.next=4;break;case 9:c("Task status updated successfully"),i(""),setTimeout((function(){c("")}),1e3),De(),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(1),i("Failed to update task status"),console.error("Update task status error",e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=["unitheads","teamleaders","supervisors","employees","heads"],r=nw(Pw),a=!1,s=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u[o],e.next=3,Qb(qx(Pw,n));case 3:e.sent.forEach((function(e){var i=e.data();if(i.tasks&&Array.isArray(i.tasks)){var s=i.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(i.tasks[s].status="Work in Progress",r.set(Kx(Pw,n,e.id),{tasks:i.tasks},{merge:!0}),a=!0)}}));case 5:case"end":return e.stop()}}),e)})),o=0,u=n;case 6:if(!(o<u.length)){e.next=11;break}return e.delegateYield(s(),"t0",8);case 8:o++,e.next=6;break;case 11:if(!a){e.next=14;break}return e.next=14,r.commit();case 14:c("Task status updated to Work in Progress"),i(""),setTimeout((function(){c("")}),1e3),De(),e.next=24;break;case 20:e.prev=20,e.t1=e.catch(0),i("Failed to update task status"),console.error("Update task status error",e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"unitheads",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return s=a.assigned,o=qx(Pw,"teamleaders"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),k(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),i("Failed to fetch team leader: "+e.t0.message),console.error("Fetch Team Leader error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){h&&We(h.uid)}),[h]);var qe=function(){var e=p(d().mark((function e(t,r){var a,s,o,u,c,l,f,h,p,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=42;break}if(!r.target.classList.contains("bigbox")){e.next=42;break}return n(t),e.prev=4,a=Kx(Pw,"teamleaders",t),e.next=8,Kb(a);case 8:if(!(s=e.sent).exists()){e.next=34;break}o=s.data(),u=o.assigned||[],c=[],l=v(u),e.prev=14,l.s();case 16:if((f=l.n()).done){e.next=25;break}return h=f.value,p=Kx(Pw,"supervisors",h),e.next=21,Kb(p);case 21:(m=e.sent).exists()&&(g=m.data(),c.push(g));case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(14),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:Ne(c);case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(4),i("Failed to fetch Team Leader's tasks: "+e.t1.message),console.error("Fetch Team Leader tasks error",e.t1);case 40:H(!0),Se(!1);case 42:case"end":return e.stop()}}),e,null,[[4,36],[14,27,30,33]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{children:[(0,Aw.jsx)(tE,{sm:2,className:"bg-primary text-white p-0",children:(0,Aw.jsxs)(M_,{expand:"lg",variant:"dark",className:"flex-column vh-100",style:{backgroundColor:"#001D44"},children:[(0,Aw.jsxs)(M_.Brand,{children:[(0,Aw.jsx)("img",{src:"/Checklist/Logo.png",width:"150",height:"150",className:"d-inline-block align-top"}),(0,Aw.jsx)("h4",{children:"Checklist App"})]}),(0,Aw.jsx)(Xw,{className:"w-100 mt-4 flex-grow-1",children:(0,Aw.jsx)(tE,{className:"d-flex flex-column align-items-center justify-content-end",children:(0,Aw.jsxs)(hT,{className:"flex-column d-flex justify-content-center",children:[(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-dashboard",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(cj,{style:{marginRight:"10px"}})," User Profile"]}),(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-change-password",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(lj,{style:{marginRight:"10px"}})," ","Change Password"]}),(0,Aw.jsxs)(hT.Link,{active:!0,onClick:Be,className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(uj,{style:{marginRight:"10px"}})," Logout"]})]})})})]})}),(0,Aw.jsx)(tE,{sm:10,className:"max-height",children:(0,Aw.jsxs)(Qw,{className:"border p-4",style:{marginTop:"80px"},children:[(0,Aw.jsx)(Xw,{children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsxs)("h2",{className:"text-center mt-4 border-bottom pb-2",children:["Welcome, ",Ae&&Ae.name]}),a&&(0,Aw.jsx)(kT,{variant:"danger",children:a}),o&&(0,Aw.jsx)(kT,{variant:"success",children:o}),me?(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(NI,{employees:Te,onFilterTasks:function(e){!function(e){var t=w.filter((function(t){return t.status===e}));ue(t)}(e)},onEmployeeClick:function(e){he(e)}}),(0,Aw.jsx)(vj,{type:"button",variant:"primary",onClick:Ve,children:"Go Back to Supervisor List"})]}):z?(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(wI,{supervisors:Ie,onFilterTasks:Me,onSupervisorBoxClick:Fe,toggleEmployeeBoxes:Ue,handleSupervisorClick:Ue}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){return H(!1)},children:"Go Back to Team Leaders"})]}):(0,Aw.jsx)("div",{children:(0,Aw.jsx)(RI,{teamLeaders:y,onTeamLeaderBoxClick:function(e,t){return qe(e,t)},onFilterTasks:Me,toggleSupervisorBoxes:function(){U(!F)}})})]})}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center",children:"Task Statistics"}),(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#003DAA",color:"white",borderColor:"#003DAA"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:J})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#B32222",color:"white",borderColor:"#B32222"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:Y})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#DAA520",color:"white",borderColor:"#DAA520"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:ke})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#228B22",color:"white",borderColor:"#228B22"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:K})]})})})})})]}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center mb-4",children:"Task Table"}),(0,Aw.jsxs)(BT,{striped:!0,bordered:!0,hover:!0,className:"formal-table",children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Mark as Completed"}),(0,Aw.jsx)("th",{children:"Change Status"})]})}),(0,Aw.jsx)("tbody",{children:w.slice().sort((function(e,t){var n={high:1,medium:2,low:3};return n[e.priority]-n[t.priority]})).map((function(e){return(0,Aw.jsx)(ej,{task:e,onMarkAsCompleted:ze,onChangeStatus:He},e.id)}))})]})]})})]})})]})})]})})}var DI=function(t){var n=t.unitHeads,r=t.onFilterTasks,a=t.onUnitHeadClick,i=(t.onUnitHeadBoxClick,u((0,e.useState)([]),2)),s=i[0],o=i[1],c=u((0,e.useState)({}),2),f=c[0],h=c[1],v=u((0,e.useState)([]),2),m=(v[0],v[1],u((0,e.useState)(null),2)),g=m[0],y=m[1],k=u((0,e.useState)([]),2),x=k[0],b=k[1],w=u((0,e.useState)(""),2),E=(w[0],w[1]),S=u((0,e.useState)(""),2),_=(S[0],S[1]),T=u((0,e.useState)([]),2),C=T[0],j=T[1],I=Ow(),N=I.currentUser;I.logout;(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,u,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"unitheads",t),e.next=4,Kb(n);case 4:(r=e.sent).exists()?(a=r.data(),i=a.tasks||[],s=i.filter((function(e){return"completed"===e.status})).length,u=i.filter((function(e){return"pending"===e.status})).length,c=i.filter((function(e){return"Work in Progress"===e.status})).length,f={unitHeadId:t,numTasksCompleted:s,numTasksPending:u,numTasksAssigned:i.length,numTasksInProgress:c},o((function(e){return[].concat(l(e),[f])}))):console.error("Unit Head document does not exist"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching task statistics:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();n.forEach((function(t){e(t.uid)}))}),[n]);var P=function(){var e=p(d().mark((function e(t,a){var i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(a),y(t),(i=n.find((function(e){return e.uid===t})))&&i.tasks&&(s=i.tasks||[],s.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),o=s.filter((function(e){return e.status===a})),r(o),b(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=p(d().mark((function e(t){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h("assigned"),y(t),(a=n.find((function(e){return e.uid===t})))&&a.tasks&&(i=a.tasks||[],i.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),r(i),b(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){h(null),y(null),r([]),b([])},O=function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=C.filter((function(e){return e.id!==t})),j(n),r=Kx(Pw,"unitHeads",N.uid),e.next=6,$b(r,{tasks:n});case 6:_("Task deleted successfully"),E(""),setTimeout((function(){_("")}),1e3),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),E("Failed to delete task: "+e.t0.message),console.error("Delete task error",e.t0),setTimeout((function(){_("")}),1e3);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsxs)(Qw,{className:"employee-list",children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Unit Head List"}),n&&n.length>0?n.map((function(e){var t=s.find((function(t){return t.unitHeadId===e.uid}));return(0,Aw.jsxs)(Qw,{fluid:!0,style:{padding:"10px",marginBottom:"20px"},className:"bigbox employee-card",onClick:function(t){console.log("Unit Head box clicked with ID:",e.uid),a(e.uid,t)},children:[(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{border:0,backgroundColor:"transparent"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Name:"}),(0,Aw.jsx)(FT.Text,{children:e.name})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"assigned"===f?"":"#003DAA",color:g===e.uid&&"assigned"===f?"#000":"#fff",borderColor:g===e.uid&&"assigned"===f?"#003DAA":"#fff"},onClick:function(){"assigned"===f?R():A(e.uid)},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksAssigned})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"pending"===f?"":"#B32222",color:g===e.uid&&"pending"===f?"#000":"#fff",borderColor:g===e.uid&&"pending"===f?"#B32222":"#fff"},onClick:function(){"pending"===f?R():P(e.uid,"pending")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksPending})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"Work in Progress"===f?"":"#DAA520",color:g===e.uid&&"Work in Progress"===f?"#000":"#fff",borderColor:g===e.uid&&"Work in Progress"===f?"#DAA520":"#fff"},onClick:function(){"Work in Progress"===f?R():P(e.uid,"Work in Progress")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksInProgress})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"completed"===f?"":"#228B22",color:g===e.uid&&"completed"===f?"#000":"#fff",borderColor:g===e.uid&&"completed"===f?"#228B22":"#fff"},onClick:function(){"completed"===f?R():P(e.uid,"completed")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksCompleted})]})})})})})]}),g===e.uid&&(0,Aw.jsx)(Xw,{className:"mt-4",children:x.length>0?(0,Aw.jsxs)(tE,{xs:12,md:12,children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Tasks"}),(0,Aw.jsx)("div",{className:"table-responsive",children:(0,Aw.jsxs)(BT,{striped:!0,bordered:!0,hover:!0,className:"formal-table",children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Delete"})]})}),(0,Aw.jsx)("tbody",{children:x.map((function(e){return(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("td",{children:e.project}),(0,Aw.jsx)("td",{children:e.task}),(0,Aw.jsx)("td",{children:e.subtask}),(0,Aw.jsx)("td",{children:e.members}),(0,Aw.jsx)("td",{children:"completed"===e.status?(0,Aw.jsx)("span",{children:"Completed"}):"Work in Progress"===e.status?(0,Aw.jsx)("span",{children:"Work in Progress"}):"pending"===e.status&&"high"===e.priority?(0,Aw.jsx)("span",{className:"high-priority-pending",children:"Pending"}):(0,Aw.jsx)("span",{children:"Pending"})}),(0,Aw.jsx)("td",{children:e.endDate}),(0,Aw.jsx)("td",{children:e.priority}),(0,Aw.jsx)("td",{children:(0,Aw.jsx)("button",{onClick:function(){return O(e.id)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e.id)}))})]})})]}):(0,Aw.jsx)("p",{children:"No tasks available for the selected unit head."})})]},e.uid)})):(0,Aw.jsx)("p",{children:"No unit heads available"})]})};function LI(){var t=u((0,e.useState)(null),2),n=(t[0],t[1]),r=u((0,e.useState)(""),2),a=r[0],i=r[1],s=u((0,e.useState)(""),2),o=s[0],c=s[1],l=Ow(),f=l.currentUser,h=l.logout,m=u((0,e.useState)(null),2),g=m[0],y=m[1],k=u((0,e.useState)([]),2),x=k[0],b=k[1],w=u((0,e.useState)([]),2),E=(w[0],w[1],u((0,e.useState)([]),2)),S=E[0],_=E[1],T=u((0,e.useState)(null),2),C=(T[0],T[1],u((0,e.useState)([]),2)),j=(C[0],C[1]),I=u((0,e.useState)([]),2),N=(I[0],I[1],u((0,e.useState)([]),2)),P=(N[0],N[1],u((0,e.useState)([]),2)),A=(P[0],P[1],u((0,e.useState)([]),2)),R=(A[0],A[1]),O=u((0,e.useState)(null),2),D=(O[0],O[1]),L=u((0,e.useState)(!1),2),M=L[0],F=L[1],U=u((0,e.useState)([]),2),V=(U[0],U[1],u((0,e.useState)(null),2)),B=(V[0],V[1],u((0,e.useState)(0),2)),z=(B[0],B[1]),H=u((0,e.useState)(0),2),W=H[0],q=H[1],K=u((0,e.useState)(0),2),G=K[0],Q=K[1],Y=u((0,e.useState)([]),2),$=Y[0],X=Y[1],J=u((0,e.useState)([]),2),Z=(J[0],J[1]),ee=u((0,e.useState)([]),2),te=ee[0],ne=ee[1],re=u((0,e.useState)(null),2),ae=(re[0],re[1],u((0,e.useState)(null),2)),ie=(ae[0],ae[1]),se=u((0,e.useState)([]),2),oe=(se[0],se[1]),ue=u((0,e.useState)(!1),2),ce=ue[0],le=ue[1],fe=u((0,e.useState)(null),2),de=(fe[0],fe[1]),he=u((0,e.useState)([]),2),pe=(he[0],he[1],u((0,e.useState)([]),2)),ve=pe[0],me=pe[1],ge=u((0,e.useState)(null),2),ye=(ge[0],ge[1]),ke=u((0,e.useState)(null),2),be=(ke[0],ke[1],u((0,e.useState)([]),2)),we=(be[0],be[1]),Ee=u((0,e.useState)("unitHeads"),2),Se=(Ee[0],Ee[1],u((0,e.useState)(!0),2)),_e=Se[0],Te=Se[1],Ce=u((0,e.useState)(!1),2),je=Ce[0],Ie=Ce[1],Ne=u((0,e.useState)(!1),2),Pe=Ne[0],Ae=Ne[1],Re=u((0,e.useState)(!1),2),Oe=Re[0],De=Re[1],Le=u((0,e.useState)(!1),2),Me=Le[0],Fe=Le[1],Ue=u((0,e.useState)(null),2),Ve=(Ue[0],Ue[1],u((0,e.useState)(!1),2)),Be=(Ve[0],Ve[1],u((0,e.useState)([]),2)),ze=Be[0],He=Be[1],We=u((0,e.useState)([]),2),qe=We[0],Ke=We[1],Ge=DC(),Qe=function(){var e=p(d().mark((function e(){var t,n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"heads",f.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(r=n.data(),a=r.tasks||[],_(a),s=a.filter((function(e){return"completed"===e.status})).length,o=a.filter((function(e){return"pending"===e.status})).length,u=a.filter((function(e){return"Work in Progress"===e.status})).length,c=a.length,z(s),q(o),Q(c),X(s),Z(o),ne(u)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch tasks"),console.error("Fetch tasks error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"heads",f.uid),e.next=4,Kb(t);case 4:(n=e.sent).exists()&&(r=n.data(),y(r)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i("Failed to fetch user data"),console.error("Fetch user data error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();f&&e()}),[f]),(0,e.useEffect)((function(){f&&Qe()}),[f]);var Ye=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"teamleaders",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return s=a.assigned,o=qx(Pw,"supervisors"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),j(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),i("Failed to fetch supervisor: "+e.t0.message),console.error("Fetch Supervisor error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){f&&Ye(f.uid)}),[f]);var $e=function(e){R(e)},Xe=function(){var e=p(d().mark((function e(t,n){var r,a,s,o,u,c,l,f,h,p,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=42;break}if(!n.target.classList.contains("bigbox")){e.next=42;break}return D(t),e.prev=4,r=Kx(Pw,"supervisors",t),e.next=8,Kb(r);case 8:if(!(a=e.sent).exists()){e.next=35;break}s=a.data(),s.uid,o=s.assigned||[],u=[],c=v(o),e.prev=15,c.s();case 17:if((l=c.n()).done){e.next=26;break}return f=l.value,h=Kx(Pw,"employees",f),e.next=22,Kb(h);case 22:(p=e.sent).exists()&&(m=p.data(),u.push(m));case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:He(u);case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(4),i("Failed to fetch supervisor's data: "+e.t1.message),console.error("Fetch supervisor data error",e.t1);case 41:Je();case 42:case"end":return e.stop()}}),e,null,[[4,37],[15,28,31,34]])})));return function(t,n){return e.apply(this,arguments)}}(),Je=function(){De(!Oe)};(0,e.useEffect)((function(){f&&(f.role="Head")}),[f]);var Ze=function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),e.prev=1,e.next=4,h();case 4:Ge("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),i("Failed to log out"),console.error("Logout error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"unitheads",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return s=a.assigned,o=qx(Pw,"teamleaders"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),b(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),i("Failed to fetch team leader: "+e.t0.message),console.error("Fetch Team Leader error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();f&&e(f.uid)}),[f]);var et=function(){var e=p(d().mark((function e(t,n){var r,a,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=["supervisors","employees","teamleaders","unitheads","heads"],e.prev=1,a=d().mark((function e(){var r,a,i,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o[s],e.next=3,Qb(qx(Pw,r));case 3:if(a=e.sent,i=nw(Pw),u=!1,a.forEach((function(e){var a=e.data();if(a.tasks&&Array.isArray(a.tasks)){var s=a.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(a.tasks[s].status=n,i.set(Kx(Pw,r,e.id),{tasks:a.tasks},{merge:!0}),u=!0)}})),!u){e.next=10;break}return e.next=10,i.commit();case 10:case"end":return e.stop()}}),e)})),s=0,o=r;case 4:if(!(s<o.length)){e.next=9;break}return e.delegateYield(a(),"t0",6);case 6:s++,e.next=4;break;case 9:c("Task status updated successfully"),i(""),setTimeout((function(){c("")}),1e3),Qe(),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(1),i("Failed to update task status"),console.error("Update task status error",e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=["unitheads","teamleaders","supervisors","employees","heads"],r=nw(Pw),a=!1,s=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u[o],e.next=3,Qb(qx(Pw,n));case 3:e.sent.forEach((function(e){var i=e.data();if(i.tasks&&Array.isArray(i.tasks)){var s=i.tasks.findIndex((function(e){return e.taskId===t}));-1!==s&&(i.tasks[s].status="Work in Progress",r.set(Kx(Pw,n,e.id),{tasks:i.tasks},{merge:!0}),a=!0)}}));case 5:case"end":return e.stop()}}),e)})),o=0,u=n;case 6:if(!(o<u.length)){e.next=11;break}return e.delegateYield(s(),"t0",8);case 8:o++,e.next=6;break;case 11:if(!a){e.next=14;break}return e.next=14,r.commit();case 14:c("Task status updated to Work in Progress"),i(""),setTimeout((function(){c("")}),1e3),Qe(),e.next=24;break;case 20:e.prev=20,e.t1=e.catch(0),i("Failed to update task status"),console.error("Update task status error",e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"heads",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return s=a.assigned,o=qx(Pw,"unitheads"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),me(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),i("Failed to fetch unit heads: "+e.t0.message),console.error("Fetch Unit Heads error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){nt(f.uid)}),[]);var rt=function(){var e=p(d().mark((function e(t,n){var r,a,s,o,u,c,l,f,h,p,v,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=41;break}if(!n.target.classList.contains("bigbox")){e.next=41;break}return ye(t),r=ve.find((function(e){return e.uid===t})),ie(r),e.prev=6,a=Kx(Pw,"unitheads",t),e.next=10,Kb(a);case 10:(s=e.sent).exists()&&(o=s.data(),we(o.tasks||[])),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),i("Failed to fetch unit head's tasks: "+e.t0.message),console.error("Fetch unit head tasks error",e.t0);case 18:return e.prev=18,u=Kx(Pw,"unitheads",t),e.next=22,Kb(u);case 22:if(!(c=e.sent).exists()){e.next=33;break}return l=c.data(),f=l.assigned||[],h=qx(Pw,"teamleaders"),p=Pb(h,Rb("uid","in",f)),e.next=30,Qb(p);case 30:v=e.sent,m=v.docs.map((function(e){return xe({id:e.id},e.data())})),b(m);case 33:e.next=39;break;case 35:e.prev=35,e.t1=e.catch(18),i("Failed to fetch TeamLeaders: "+e.t1.message),console.error("Fetch TeamLeaders error",e.t1);case 39:Ie(!0),Te(!1);case 41:case"end":return e.stop()}}),e,null,[[6,14],[18,35]])})));return function(t,n){return e.apply(this,arguments)}}(),at=function(){var e=p(d().mark((function e(t){var n,r,a,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"unitheads",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return s=a.assigned,o=qx(Pw,"teamleaders"),e.next=12,Qb(o);case 12:u=e.sent,c=u.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return s.includes(e.uid)})),b(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),i("Failed to fetch team leader: "+e.t0.message),console.error("Fetch Team Leader error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){f&&at(f.uid)}),[f]);var it=function(){var e=p(d().mark((function e(t,r){var a,s,o,u,c,l,f,h,p,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=42;break}if(!r.target.classList.contains("bigbox")){e.next=42;break}return n(t),e.prev=4,a=Kx(Pw,"teamleaders",t),e.next=8,Kb(a);case 8:if(!(s=e.sent).exists()){e.next=34;break}o=s.data(),u=o.assigned||[],c=[],l=v(u),e.prev=14,l.s();case 16:if((f=l.n()).done){e.next=25;break}return h=f.value,p=Kx(Pw,"supervisors",h),e.next=21,Kb(p);case 21:(m=e.sent).exists()&&(g=m.data(),c.push(g));case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(14),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:Ke(c);case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(4),i("Failed to fetch Team Leader's tasks: "+e.t1.message),console.error("Fetch Team Leader tasks error",e.t1);case 40:Ae(!0),Ie(!1);case 42:case"end":return e.stop()}}),e,null,[[4,36],[14,27,30,33]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{children:[(0,Aw.jsx)(tE,{sm:2,className:"bg-primary text-white p-0",children:(0,Aw.jsxs)(M_,{expand:"lg",variant:"dark",className:"flex-column vh-100",style:{backgroundColor:"#001D44"},children:[(0,Aw.jsxs)(M_.Brand,{children:[(0,Aw.jsx)("img",{src:"/Checklist/Logo.png",width:"150",height:"150",className:"d-inline-block align-top"}),(0,Aw.jsx)("h4",{children:"Checklist App"})]}),(0,Aw.jsx)(Xw,{className:"w-100 mt-4 flex-grow-1",children:(0,Aw.jsx)(tE,{className:"d-flex flex-column align-items-center justify-content-end",children:(0,Aw.jsxs)(hT,{className:"flex-column d-flex justify-content-center",children:[(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-dashboard",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(cj,{style:{marginRight:"10px"}})," User Profile"]}),(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-change-password",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(lj,{style:{marginRight:"10px"}})," ","Change Password"]}),(0,Aw.jsxs)(hT.Link,{active:!0,onClick:Ze,className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(uj,{style:{marginRight:"10px"}})," Logout"]})]})})})]})}),(0,Aw.jsx)(tE,{sm:10,className:"max-height",children:(0,Aw.jsxs)(Qw,{className:"border p-4",style:{marginTop:"80px"},children:[(0,Aw.jsx)(Xw,{children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsxs)("h2",{className:"text-center mt-4 border-bottom pb-2",children:["Welcome, ",g&&g.name]}),a&&(0,Aw.jsx)(kT,{variant:"danger",children:a}),o&&(0,Aw.jsx)(kT,{variant:"success",children:o}),_e&&(0,Aw.jsx)("div",{children:(0,Aw.jsx)(DI,{unitHeads:ve,onUnitHeadClick:function(e,t){return rt(e,t)},toggleunitHeadBoxes:function(){Fe(!Me)},onFilterTasks:$e})}),je&&(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(RI,{teamLeaders:x,onFilterTasks:$e,toggleSupervisorBoxes:function(){F(!M)},onTeamLeaderBoxClick:function(e,t){return it(e,t)}}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){Ie(!1),Te(!0)},children:"Go Back to Unit Heads"})]}),Pe&&!Oe&&(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(wI,{supervisors:qe,onFilterTasks:$e,onSupervisorClick:function(e,t){return Xe(e,t)},toggleEmployeeBoxes:function(){le(!ce)},onSupervisorBoxClick:Xe}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){Ae(!1),Ie(!0)},children:"Go Back to Team Leaders"})]}),Oe&&(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(NI,{employees:ze,onFilterTasks:function(e){!function(e){var t=S.filter((function(t){return t.status===e}));oe(t)}(e)},onEmployeeClick:function(e){de(e)}}),(0,Aw.jsx)(vj,{type:"button",variant:"primary",onClick:function(){De(!1),Ae(!0)},children:"Go Back to Supervisors"})]})]})}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center",children:"Task Statistics"}),(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#003DAA",color:"white",borderColor:"#003DAA"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:G})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#B32222",color:"white",borderColor:"#B32222"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:W})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#DAA520",color:"white",borderColor:"#DAA520"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:te})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},className:"formal-card",children:(0,Aw.jsx)(FT,{className:"formal-card",style:{backgroundColor:"#228B22",color:"white",borderColor:"#228B22"},children:(0,Aw.jsx)(FT.Body,{children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:$})]})})})})})]}),(0,Aw.jsx)(Xw,{className:"mt-4",children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h4",{className:"text-dark text-center mb-4",children:"Task Table"}),(0,Aw.jsxs)(BT,{striped:!0,bordered:!0,hover:!0,className:"formal-table",children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Mark as Completed"}),(0,Aw.jsx)("th",{children:"Change Status"})]})}),(0,Aw.jsx)("tbody",{children:S.slice().sort((function(e,t){var n={high:1,medium:2,low:3};return n[e.priority]-n[t.priority]})).map((function(e){return(0,Aw.jsx)(ej,{task:e,onMarkAsCompleted:et,onChangeStatus:tt},e.id)}))})]})]})})]})})]})})]})})}function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MI.apply(this,arguments)}function FI(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var UI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var VI=t.startTransition;function BI(t){var n=t.basename,r=t.children,a=t.future,i=t.window,s=e.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),XT((function(e,t){var n=$T(e.location.hash.substr(1)),r=n.pathname,a=void 0===r?"/":r,i=n.search,s=void 0===i?"":i,o=n.hash,u=void 0===o?"":o;return a.startsWith("/")||a.startsWith(".")||(a="/"+a),QT("",{pathname:a,search:s,hash:u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var a=e.location.href,i=a.indexOf("#");r=-1===i?a:a.slice(0,i)}return r+"#"+("string"===typeof t?t:YT(t))}),(function(e,t){KT("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:i,v5Compat:!0}));var o=s.current,c=u(e.useState({action:o.action,location:o.location}),2),l=c[0],f=c[1],d=(a||{}).v7_startTransition,h=e.useCallback((function(e){d&&VI?VI((function(){return f(e)})):f(e)}),[f,d]);return e.useLayoutEffect((function(){return o.listen(h)}),[o,h]),e.createElement(YC,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var zI="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,HI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WI=e.forwardRef((function(t,n){var r,a=t.onClick,i=t.relative,s=t.reloadDocument,o=t.replace,u=t.state,c=t.target,l=t.to,f=t.preventScrollReset,d=FI(t,UI),h=e.useContext(jC).basename,p=!1;if("string"===typeof l&&HI.test(l)&&(r=l,zI))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=dC(m.pathname,h);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(LA){}var y=function(t,n){var r=(void 0===n?{}:n).relative;AC()||qT(!1);var a=e.useContext(jC),i=a.basename,s=a.navigator,o=LC(t,{relative:r}),u=o.hash,c=o.pathname,l=o.search,f=c;return"/"!==i&&(f="/"===c?i:mC([i,c])),s.createHref({pathname:f,search:l,hash:u})}(l,{relative:i}),k=function(t,n){var r=void 0===n?{}:n,a=r.target,i=r.replace,s=r.state,o=r.preventScrollReset,u=r.relative,c=DC(),l=RC(),f=LC(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,a)){e.preventDefault();var n=void 0!==i?i:YT(l)===YT(f);c(t,{replace:n,state:s,preventScrollReset:o,relative:u})}}),[l,c,f,i,s,a,t,o,u])}(l,{replace:o,state:u,target:c,preventScrollReset:f,relative:i});return e.createElement("a",MI({},d,{href:r||y,onClick:p||s?a:function(e){a&&a(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var qI,KI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(qI||(qI={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(KI||(KI={}));var GI=n.p+"static/media/vector.5ddd2f471683413613d6.jpg",QI=function(){var t=u((0,e.useState)(""),2),n=t[0],r=t[1],a=u((0,e.useState)(""),2),i=a[0],s=a[1],o=u((0,e.useState)(""),2),c=o[0],l=o[1],f=Ow(),h=f.login,v=f.currentUser,m=u((0,e.useState)(""),2),g=m[0],y=m[1],k=u((0,e.useState)(!1),2),x=k[0],b=k[1],w=DC();function E(){return E=p(d().mark((function e(t){var r,a,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,y(""),b(!0),e.next=6,h(n,i);case 6:if(!v){e.next=20;break}if(c){e.next=11;break}return y("Please select a role."),b(!1),e.abrupt("return");case 11:return"Employee"===(r=c)?w("/EmployeeDashboard"):"Admin"===r?w("/AdminDashboard"):"Supervisor"===r?w("/supervisors/${supervisorId}/dashboard"):"TeamLeader"===r?w("/TeamLeaderDashboard"):"UnitHead"===r?w("/UnitHeadDashboard"):"Head"===r&&w("/HeadDashboard"),a=qx(Pw,r),s=Pb(a,Rb("assignedTo","array-contains",v.uid)),e.next=17,Qb(s);case 17:o=e.sent,u=[],o.forEach((function(e){u.push(e.data())}));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),y(e.t0.message);case 25:b(!1);case 26:case"end":return e.stop()}}),e,null,[[1,22]])}))),E.apply(this,arguments)}return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{className:"min-vh-100 flex-column flex-md-row justify-content-center align-items-center",children:[(0,Aw.jsx)(tE,{md:6,className:"d-flex align-items-center justify-content-center",children:(0,Aw.jsx)("div",{children:(0,Aw.jsx)("img",{src:GI,alt:"Vector",className:"img-fluid"})})}),(0,Aw.jsx)(tE,{md:4,className:"d-flex align-items-center",children:(0,Aw.jsxs)("div",{className:"p-4 w-100",children:[(0,Aw.jsx)(FT,{children:(0,Aw.jsxs)(FT.Body,{children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),g&&(0,Aw.jsx)(kT,{variant:"danger",children:g}),(0,Aw.jsxs)(bI,{onSubmit:function(e){return E.apply(this,arguments)},children:[(0,Aw.jsxs)(bI.Group,{id:"role",children:[(0,Aw.jsx)(bI.Label,{children:"Role"}),(0,Aw.jsxs)(bI.Control,{as:"select",value:c,onChange:function(e){return l(e.target.value)},children:[(0,Aw.jsx)("option",{value:"select",children:"Please select a role"}),(0,Aw.jsx)("option",{value:"Admin",children:"Admin"}),(0,Aw.jsx)("option",{value:"Employee",children:"Employee"}),(0,Aw.jsx)("option",{value:"Supervisor",children:"Supervisor"}),(0,Aw.jsx)("option",{value:"TeamLeader",children:"Team Leader"}),(0,Aw.jsx)("option",{value:"UnitHead",children:"Unit Head"}),(0,Aw.jsx)("option",{value:"Head",children:"Head"})]})]}),(0,Aw.jsxs)(bI.Group,{id:"email",children:[(0,Aw.jsx)(bI.Label,{children:"Email"}),(0,Aw.jsx)(bI.Control,{type:"email",placeholder:"Email address",onChange:function(e){return r(e.target.value)}})]}),(0,Aw.jsxs)(bI.Group,{id:"password",children:[(0,Aw.jsx)(bI.Label,{children:"Password"}),(0,Aw.jsx)(bI.Control,{type:"password",placeholder:"Password",onChange:function(e){return s(e.target.value)}})]}),(0,Aw.jsx)(vj,{disabled:x,className:"w-100 mt-3",type:"submit",children:"Log In"})]}),(0,Aw.jsx)("div",{className:"w-100 text-center mt-3",children:(0,Aw.jsx)(WI,{to:"/forgot-password",children:"Forgot Password?"})})]})}),(0,Aw.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,Aw.jsx)(WI,{to:"/signup",children:"Sign Up"})]})]})})]})})};function YI(){var t=u((0,e.useState)(""),2),n=t[0],r=t[1],a=u((0,e.useState)(""),2),i=a[0],s=a[1],o=u((0,e.useState)(""),2),c=o[0],l=o[1],f=u((0,e.useState)(""),2),h=f[0],v=f[1],m=u((0,e.useState)("Employee"),2),g=m[0],y=m[1],k=Ow().signup,x=u((0,e.useState)(""),2),b=x[0],w=x[1],E=u((0,e.useState)(!1),2),S=E[0],_=E[1],T=DC();function C(){return C=p(d().mark((function e(t){var r,a,s,o,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i===c){e.next=3;break}return e.abrupt("return",w("Passwords do not match"));case 3:return e.prev=3,r=function(){var e=p(d().mark((function e(t){var n,r,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"admin","Vh5meuRE7VnxvufEkpkX"),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=14;break}return a=r.data(),(i=a.assigned||[]).push(t),e.next=11,$b(n,{assigned:i});case 11:console.log("User added to admin document: ",t),e.next=17;break;case 14:return e.next=16,Yb(n,{assigned:[t]});case 16:console.log("Admin document created with user: ",t);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error updating/admin document:",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),w(""),_(!0),e.next=9,k(n,i);case 9:return a=e.sent,s=a.user,o=qx(Pw,"Employee"===g?"employees":"Supervisor"===g?"supervisors":"TeamLeader"===g?"teamleaders":"UnitHead"===g?"unitheads":"Head"===g?"heads":"otherCollection"),u={name:h,email:n,role:g,uid:s.uid,tasks:[]},l=Kx(o,s.uid),e.next=16,Yb(l,u);case 16:if(console.log("User added with ID: ",s.uid),"Head"!==g){e.next=20;break}return e.next=20,r(s.uid);case 20:"Employee"===g?T("/EmployeeDashboard"):"Supervisor"===g?T("/SupervisorDashboard"):"TeamLeader"===g?T("/TeamLeaderDashboard"):"UnitHead"===g?T("/UnitHeadDashboard"):"Head"===g&&T("/HeadDashboard"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(3),"auth/invalid-email"===e.t0.code?w("Invalid email address."):"auth/email-already-in-use"===e.t0.code?w("Email address is already in use."):"auth/weak-password"===e.t0.code?w("Password is too weak."):w("Failed to create an account. Please try again later."),console.error("Signup error:",e.t0);case 27:_(!1);case 28:case"end":return e.stop()}}),e,null,[[3,23]])}))),C.apply(this,arguments)}return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{className:"min-vh-100 flex-column flex-md-row justify-content-center align-items-center",children:[(0,Aw.jsx)(tE,{md:6,className:"d-flex align-items-center justify-content-center",children:(0,Aw.jsx)("div",{children:(0,Aw.jsx)("img",{src:GI,alt:"Vector",className:"img-fluid"})})}),(0,Aw.jsx)(tE,{md:4,className:"d-flex align-items-center",children:(0,Aw.jsxs)("div",{className:"p-4 w-100",children:[(0,Aw.jsx)(FT,{children:(0,Aw.jsxs)(FT.Body,{children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),b&&(0,Aw.jsx)(kT,{variant:"danger",children:b}),(0,Aw.jsxs)(bI,{onSubmit:function(e){return C.apply(this,arguments)},children:[(0,Aw.jsxs)(bI.Group,{id:"name",children:[(0,Aw.jsx)(bI.Label,{children:"Name"}),(0,Aw.jsx)(bI.Control,{type:"text",placeholder:"Your Name",onChange:function(e){return v(e.target.value)}})]}),(0,Aw.jsxs)(bI.Group,{id:"email",children:[(0,Aw.jsx)(bI.Label,{children:"Email"}),(0,Aw.jsx)(bI.Control,{type:"email",placeholder:"Email address",onChange:function(e){return r(e.target.value)}})]}),(0,Aw.jsxs)(bI.Group,{id:"role",children:[(0,Aw.jsx)(bI.Label,{children:"Select Role"}),(0,Aw.jsxs)(bI.Control,{as:"select",onChange:function(e){return y(e.target.value)},children:[(0,Aw.jsx)("option",{value:"Employee",children:"Employee"}),(0,Aw.jsx)("option",{value:"Supervisor",children:"Supervisor"}),(0,Aw.jsx)("option",{value:"TeamLeader",children:"Team Leader"}),(0,Aw.jsx)("option",{value:"UnitHead",children:"Unit Head"}),(0,Aw.jsx)("option",{value:"Head",children:"Head"})]})]}),(0,Aw.jsxs)(bI.Group,{id:"password",children:[(0,Aw.jsx)(bI.Label,{children:"Password"}),(0,Aw.jsx)(bI.Control,{type:"password",placeholder:"Password",onChange:function(e){return s(e.target.value)}})]}),(0,Aw.jsxs)(bI.Group,{id:"password-confirm",children:[(0,Aw.jsx)(bI.Label,{children:"Password Confirmation"}),(0,Aw.jsx)(bI.Control,{type:"password",placeholder:"Confirm Password",onChange:function(e){return l(e.target.value)}})]}),(0,Aw.jsx)(vj,{disabled:S,className:"w-100 mt-3",type:"submit",children:"Sign Up"})]}),(0,Aw.jsx)("div",{className:"w-100 text-center mt-3",children:(0,Aw.jsx)(WI,{to:"/forgot-password",children:"Forgot Password?"})})]})}),(0,Aw.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,Aw.jsx)(WI,{to:"/",children:"Log In"})]})]})})]})})}function $I(){var t=Ow().resetPassword,n=u((0,e.useState)(""),2),r=n[0],a=n[1],i=u((0,e.useState)(""),2),s=i[0],o=i[1],c=u((0,e.useState)(""),2),l=c[0],f=c[1],h=u((0,e.useState)(!1),2),v=h[0],m=h[1];function g(e){return y.apply(this,arguments)}function y(){return(y=p(d().mark((function e(n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,f(""),o(""),m(!0),e.next=7,t(r);case 7:f("Check your inbox for further instructions"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o("Failed to reset password");case 13:m(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return(0,Aw.jsxs)(Aw.Fragment,{children:[(0,Aw.jsx)(FT,{children:(0,Aw.jsxs)(FT.Body,{children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),s&&(0,Aw.jsx)(kT,{variant:"danger",children:s}),l&&(0,Aw.jsx)(kT,{variant:"success",children:l}),(0,Aw.jsxs)(bI,{onSubmit:g,children:[(0,Aw.jsxs)(bI.Group,{id:"email",children:[(0,Aw.jsx)(bI.Label,{children:"Email"}),(0,Aw.jsx)(bI.Control,{type:"email",value:r,onChange:function(e){return a(e.target.value)},required:!0})]}),(0,Aw.jsx)(vj,{disabled:v,className:"w-100",type:"submit",onClick:g,children:"Reset Password"})]}),(0,Aw.jsx)("div",{className:"w-100 text-center mt-3",children:(0,Aw.jsx)(WI,{to:"/login",children:"Login"})})]})}),(0,Aw.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,Aw.jsx)(WI,{to:"/signup",children:"Sign Up"})]})]})}function XI(t,n,r){var a=(0,e.useRef)(void 0!==t),i=u((0,e.useState)(n),2),s=i[0],o=i[1],c=void 0!==t,f=a.current;return a.current=c,!c&&f&&s!==n&&o(n),[c?t:s,(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],i=t.slice(1),s=null==r?void 0:r.apply(void 0,[a].concat(l(i)));return o(a),s}),[r])]}var JI=e.createContext(null),ZI=Object.prototype.hasOwnProperty;function eN(e,t,n){var r,a=v(e.keys());try{for(a.s();!(r=a.n()).done;)if(tN(n=r.value,t))return n}catch(i){a.e(i)}finally{a.f()}}function tN(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&tN(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var i,s=v(e);try{for(s.s();!(i=s.n()).done;){if((a=r=i.value)&&"object"===typeof a&&!(a=eN(t,a)))return!1;if(!t.has(a))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var o,u=v(e);try{for(u.s();!(o=u.n()).done;){if((a=(r=o.value)[0])&&"object"===typeof a&&!(a=eN(t,a)))return!1;if(!tN(r[1],t.get(a)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(ZI.call(e,n)&&++r&&!ZI.call(t,n))return!1;if(!(n in t)||!tN(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var nN=function(t){var n=TS();return[t[0],(0,e.useCallback)((function(e){if(n())return t[1](e)}),[n,t[1]])]};function rN(e){return e.split("-")[0]}function aN(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function iN(e){return e instanceof aN(e).Element||e instanceof Element}function sN(e){return e instanceof aN(e).HTMLElement||e instanceof HTMLElement}function oN(e){return"undefined"!==typeof ShadowRoot&&(e instanceof aN(e).ShadowRoot||e instanceof ShadowRoot)}var uN=Math.max,cN=Math.min,lN=Math.round;function fN(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function dN(){return!/^((?!chrome|android).)*safari/i.test(fN())}function hN(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&sN(e)&&(a=e.offsetWidth>0&&lN(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&lN(r.height)/e.offsetHeight||1);var s=(iN(e)?aN(e):window).visualViewport,o=!dN()&&n,u=(r.left+(o&&s?s.offsetLeft:0))/a,c=(r.top+(o&&s?s.offsetTop:0))/i,l=r.width/a,f=r.height/i;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function pN(e){var t=hN(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function vN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&oN(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mN(e){return e?(e.nodeName||"").toLowerCase():null}function gN(e){return aN(e).getComputedStyle(e)}function yN(e){return["table","td","th"].indexOf(mN(e))>=0}function kN(e){return((iN(e)?e.ownerDocument:e.document)||window.document).documentElement}function xN(e){return"html"===mN(e)?e:e.assignedSlot||e.parentNode||(oN(e)?e.host:null)||kN(e)}function bN(e){return sN(e)&&"fixed"!==gN(e).position?e.offsetParent:null}function wN(e){for(var t=aN(e),n=bN(e);n&&yN(n)&&"static"===gN(n).position;)n=bN(n);return n&&("html"===mN(n)||"body"===mN(n)&&"static"===gN(n).position)?t:n||function(e){var t=/firefox/i.test(fN());if(/Trident/i.test(fN())&&sN(e)&&"fixed"===gN(e).position)return null;var n=xN(e);for(oN(n)&&(n=n.host);sN(n)&&["html","body"].indexOf(mN(n))<0;){var r=gN(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function EN(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function SN(e,t,n){return uN(e,cN(t,n))}function _N(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function TN(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var CN="top",jN="bottom",IN="right",NN="left",PN="auto",AN=[CN,jN,IN,NN],RN="start",ON="end",DN="clippingParents",LN="viewport",MN="popper",FN="reference",UN=AN.reduce((function(e,t){return e.concat([t+"-"+RN,t+"-"+ON])}),[]),VN=[].concat(AN,[PN]).reduce((function(e,t){return e.concat([t,t+"-"+RN,t+"-"+ON])}),[]),BN=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var zN={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,o=rN(n.placement),u=EN(o),c=[NN,IN].indexOf(o)>=0?"height":"width";if(i&&s){var l=function(e,t){return _N("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:TN(e,AN))}(a.padding,n),f=pN(i),d="y"===u?CN:NN,h="y"===u?jN:IN,p=n.rects.reference[c]+n.rects.reference[u]-s[u]-n.rects.popper[c],v=s[u]-n.rects.reference[u],m=wN(i),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,k=l[d],x=g-f[c]-l[h],b=g/2-f[c]/2+y,w=SN(k,b,x),E=u;n.modifiersData[r]=((t={})[E]=w,t.centerOffset=w-b,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&vN(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function HN(e){return e.split("-")[1]}var WN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qN(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,o=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=s.x,h=void 0===d?0:d,p=s.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var g=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),k=NN,x=CN,b=window;if(c){var w=wN(n),E="clientHeight",S="clientWidth";if(w===aN(n)&&"static"!==gN(w=kN(n)).position&&"absolute"===o&&(E="scrollHeight",S="scrollWidth"),a===CN||(a===NN||a===IN)&&i===ON)x=jN,v-=(f&&w===b&&b.visualViewport?b.visualViewport.height:w[E])-r.height,v*=u?1:-1;if(a===NN||(a===CN||a===jN)&&i===ON)k=IN,h-=(f&&w===b&&b.visualViewport?b.visualViewport.width:w[S])-r.width,h*=u?1:-1}var _,T=Object.assign({position:o},c&&WN),C=!0===l?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:lN(n*a)/a||0,y:lN(r*a)/a||0}}({x:h,y:v},aN(n)):{x:h,y:v};return h=C.x,v=C.y,u?Object.assign({},T,((_={})[x]=y?"0":"",_[k]=g?"0":"",_.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",_)):Object.assign({},T,((t={})[x]=y?v+"px":"",t[k]=g?h+"px":"",t.transform="",t))}var KN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,i=n.adaptive,s=void 0===i||i,o=n.roundOffsets,u=void 0===o||o,c={placement:rN(t.placement),variation:HN(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,qN(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,qN(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},GN={passive:!0};var QN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=void 0===a||a,s=r.resize,o=void 0===s||s,u=aN(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,GN)})),o&&u.addEventListener("resize",n.update,GN),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,GN)})),o&&u.removeEventListener("resize",n.update,GN)}},data:{}},YN={left:"right",right:"left",bottom:"top",top:"bottom"};function $N(e){return e.replace(/left|right|bottom|top/g,(function(e){return YN[e]}))}var XN={start:"end",end:"start"};function JN(e){return e.replace(/start|end/g,(function(e){return XN[e]}))}function ZN(e){var t=aN(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function eP(e){return hN(kN(e)).left+ZN(e).scrollLeft}function tP(e){var t=gN(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function nP(e){return["html","body","#document"].indexOf(mN(e))>=0?e.ownerDocument.body:sN(e)&&tP(e)?e:nP(xN(e))}function rP(e,t){var n;void 0===t&&(t=[]);var r=nP(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=aN(r),s=a?[i].concat(i.visualViewport||[],tP(r)?r:[]):r,o=t.concat(s);return a?o:o.concat(rP(xN(s)))}function aP(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function iP(e,t,n){return t===LN?aP(function(e,t){var n=aN(e),r=kN(e),a=n.visualViewport,i=r.clientWidth,s=r.clientHeight,o=0,u=0;if(a){i=a.width,s=a.height;var c=dN();(c||!c&&"fixed"===t)&&(o=a.offsetLeft,u=a.offsetTop)}return{width:i,height:s,x:o+eP(e),y:u}}(e,n)):iN(t)?function(e,t){var n=hN(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):aP(function(e){var t,n=kN(e),r=ZN(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=uN(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=uN(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+eP(e),u=-r.scrollTop;return"rtl"===gN(a||n).direction&&(o+=uN(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:u}}(kN(e)))}function sP(e,t,n,r){var a="clippingParents"===t?function(e){var t=rP(xN(e)),n=["absolute","fixed"].indexOf(gN(e).position)>=0&&sN(e)?wN(e):e;return iN(n)?t.filter((function(e){return iN(e)&&vN(e,n)&&"body"!==mN(e)})):[]}(e):[].concat(t),i=[].concat(a,[n]),s=i[0],o=i.reduce((function(t,n){var a=iP(e,n,r);return t.top=uN(a.top,t.top),t.right=cN(a.right,t.right),t.bottom=cN(a.bottom,t.bottom),t.left=uN(a.left,t.left),t}),iP(e,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function oP(e){var t,n=e.reference,r=e.element,a=e.placement,i=a?rN(a):null,s=a?HN(a):null,o=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case CN:t={x:o,y:n.y-r.height};break;case jN:t={x:o,y:n.y+n.height};break;case IN:t={x:n.x+n.width,y:u};break;case NN:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=i?EN(i):null;if(null!=c){var l="y"===c?"height":"width";switch(s){case RN:t[c]=t[c]-(n[l]/2-r[l]/2);break;case ON:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function uP(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,o=n.boundary,u=void 0===o?DN:o,c=n.rootBoundary,l=void 0===c?LN:c,f=n.elementContext,d=void 0===f?MN:f,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,g=_N("number"!==typeof m?m:TN(m,AN)),y=d===MN?FN:MN,k=e.rects.popper,x=e.elements[p?y:d],b=sP(iN(x)?x:x.contextElement||kN(e.elements.popper),u,l,s),w=hN(e.elements.reference),E=oP({reference:w,element:k,strategy:"absolute",placement:a}),S=aP(Object.assign({},k,E)),_=d===MN?S:w,T={top:b.top-_.top+g.top,bottom:_.bottom-b.bottom+g.bottom,left:b.left-_.left+g.left,right:_.right-b.right+g.right},C=e.modifiersData.offset;if(d===MN&&C){var j=C[a];Object.keys(T).forEach((function(e){var t=[IN,jN].indexOf(e)>=0?1:-1,n=[CN,jN].indexOf(e)>=0?"y":"x";T[e]+=j[n]*t}))}return T}var cP={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=void 0===a||a,s=n.altAxis,o=void 0===s||s,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,g=rN(m),y=u||(g===m||!p?[$N(m)]:function(e){if(rN(e)===PN)return[];var t=$N(e);return[JN(e),t,JN(t)]}(m)),k=[m].concat(y).reduce((function(e,n){return e.concat(rN(n)===PN?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,s=n.padding,o=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?VN:u,l=HN(r),f=l?o?UN:UN.filter((function(e){return HN(e)===l})):AN,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=uP(e,{placement:n,boundary:a,rootBoundary:i,padding:s})[rN(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),x=t.rects.reference,b=t.rects.popper,w=new Map,E=!0,S=k[0],_=0;_<k.length;_++){var T=k[_],C=rN(T),j=HN(T)===RN,I=[CN,jN].indexOf(C)>=0,N=I?"width":"height",P=uP(t,{placement:T,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),A=I?j?IN:NN:j?jN:CN;x[N]>b[N]&&(A=$N(A));var R=$N(A),O=[];if(i&&O.push(P[C]<=0),o&&O.push(P[A]<=0,P[R]<=0),O.every((function(e){return e}))){S=T,E=!1;break}w.set(T,O)}if(E)for(var D=function(e){var t=k.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},L=p?3:1;L>0;L--){if("break"===D(L))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function lP(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function fP(e){return[CN,IN,jN,NN].some((function(t){return e[t]>=0}))}var dP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=void 0===a?[0,0]:a,s=VN.reduce((function(e,n){return e[n]=function(e,t,n){var r=rN(e),a=[NN,CN].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[NN,IN].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}(n,t.rects,i),e}),{}),o=s[t.placement],u=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var hP={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=void 0===a||a,s=n.altAxis,o=void 0!==s&&s,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=uP(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=rN(t.placement),y=HN(t.placement),k=!y,x=EN(g),b="x"===x?"y":"x",w=t.modifiersData.popperOffsets,E=t.rects.reference,S=t.rects.popper,_="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(w){if(i){var I,N="y"===x?CN:NN,P="y"===x?jN:IN,A="y"===x?"height":"width",R=w[x],O=R+m[N],D=R-m[P],L=h?-S[A]/2:0,M=y===RN?E[A]:S[A],F=y===RN?-S[A]:-E[A],U=t.elements.arrow,V=h&&U?pN(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[N],H=B[P],W=SN(0,E[A],V[A]),q=k?E[A]/2-L-W-z-T.mainAxis:M-W-z-T.mainAxis,K=k?-E[A]/2+L+W+H+T.mainAxis:F+W+H+T.mainAxis,G=t.elements.arrow&&wN(t.elements.arrow),Q=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,Y=null!=(I=null==C?void 0:C[x])?I:0,$=R+K-Y,X=SN(h?cN(O,R+q-Y-Q):O,R,h?uN(D,$):D);w[x]=X,j[x]=X-R}if(o){var J,Z="x"===x?CN:NN,ee="x"===x?jN:IN,te=w[b],ne="y"===b?"height":"width",re=te+m[Z],ae=te-m[ee],ie=-1!==[CN,NN].indexOf(g),se=null!=(J=null==C?void 0:C[b])?J:0,oe=ie?re:te-E[ne]-S[ne]-se+T.altAxis,ue=ie?te+E[ne]+S[ne]-se-T.altAxis:ae,ce=h&&ie?function(e,t,n){var r=SN(e,t,n);return r>n?n:r}(oe,te,ue):SN(h?oe:re,te,h?ue:ae);w[b]=ce,j[b]=ce-te}t.modifiersData[r]=j}},requiresIfExists:["offset"]};function pP(e,t,n){void 0===n&&(n=!1);var r=sN(t),a=sN(t)&&function(e){var t=e.getBoundingClientRect(),n=lN(t.width)/e.offsetWidth||1,r=lN(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=kN(t),s=hN(e,a,n),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==mN(t)||tP(i))&&(o=function(e){return e!==aN(e)&&sN(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:ZN(e);var t}(t)),sN(t)?((u=hN(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=eP(i))),{x:s.left+o.scrollLeft-u.x,y:s.top+o.scrollTop-u.y,width:s.width,height:s.height}}function vP(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function mP(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var gP={placement:"bottom",modifiers:[],strategy:"absolute"};function yP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function kP(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,i=void 0===a?gP:a;return function(e,t,n){void 0===n&&(n=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},gP,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],o=!1,u={state:a,setOptions:function(n){var o="function"===typeof n?n(a.options):n;c(),a.options=Object.assign({},i,a.options,o),a.scrollParents={reference:iN(e)?rP(e):e.contextElement?rP(e.contextElement):[],popper:rP(t)};var l=function(e){var t=vP(e);return BN.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=l.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var o=i({state:a,name:t,instance:u,options:r}),c=function(){};s.push(o||c)}})),u.update()},forceUpdate:function(){if(!o){var e=a.elements,t=e.reference,n=e.popper;if(yP(t,n)){a.rects={reference:pP(t,wN(n),"fixed"===a.options.strategy),popper:pN(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],s=i.fn,c=i.options,l=void 0===c?{}:c,f=i.name;"function"===typeof s&&(a=s({state:a,options:l,name:f,instance:u})||a)}else a.reset=!1,r=-1}}},update:mP((function(){return new Promise((function(e){u.forceUpdate(),e(a)}))})),destroy:function(){c(),o=!0}};if(!yP(e,t))return u;function c(){s.forEach((function(e){return e()})),s=[]}return u.setOptions(n).then((function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var xP=kP({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=uP(t,{elementContext:"reference"}),o=uP(t,{altBoundary:!0}),u=lP(s,r),c=lP(o,a,i),l=fP(u),f=fP(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=oP({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},KN,QN,dP,cP,hP,zN]}),bP=["enabled","placement","strategy","modifiers"];var wP={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},EP={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var a=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));a.length?n.setAttribute("aria-describedby",a.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,a=n.reference,i=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===i&&"setAttribute"in a){var s=a.getAttribute("aria-describedby");if(s&&-1!==s.split(",").indexOf(r.id))return;a.setAttribute("aria-describedby",s?"".concat(s,",").concat(r.id):r.id)}}},SP=[];var _P=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.enabled,i=void 0===a||a,s=r.placement,o=void 0===s?"bottom":s,c=r.strategy,f=void 0===c?"absolute":c,d=r.modifiers,h=void 0===d?SP:d,p=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,bP),v=(0,e.useRef)(h),m=(0,e.useRef)(),g=(0,e.useCallback)((function(){var e;null==(e=m.current)||e.update()}),[]),y=(0,e.useCallback)((function(){var e;null==(e=m.current)||e.forceUpdate()}),[]),k=u(nN((0,e.useState)({placement:o,update:g,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),2),x=k[0],b=k[1],w=(0,e.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),b({state:t,styles:n,attributes:r,update:g,forceUpdate:y,placement:t.placement})}}}),[g,y,b]),E=(0,e.useMemo)((function(){return tN(v.current,h)||(v.current=h),v.current}),[h]);return(0,e.useEffect)((function(){m.current&&i&&m.current.setOptions({placement:o,strategy:f,modifiers:[].concat(l(E),[w,wP])})}),[f,o,w,i,E]),(0,e.useEffect)((function(){if(i&&null!=t&&null!=n)return m.current=xP(t,n,Object.assign({},p,{placement:o,strategy:f,modifiers:[].concat(l(E),[EP,w])})),function(){null!=m.current&&(m.current.destroy(),m.current=void 0,b((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[i,t,n]),x},TP=function(){};var CP=function(e){return e&&("current"in e?e.current:e)},jP={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var IP=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.disabled,i=r.clickTrigger,s=void 0===i?"click":i,o=(0,e.useRef)(!1),u=(0,e.useRef)(!1),c=(0,e.useCallback)((function(e){var n,r=CP(t);Kj()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!r||!!((n=e).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(e)||!!_S(r,e.target)||u.current,u.current=!1}),[t]),l=hS((function(e){var n=CP(t);n&&_S(n,e.target)&&(u.current=!0)})),f=hS((function(e){o.current||n(e)}));(0,e.useEffect)((function(){var e,n;if(!a&&null!=t){var r=yE(CP(t)),i=r.defaultView||window,o=null!=(e=i.event)?e:null==(n=i.parent)?void 0:n.event,u=null;jP[s]&&(u=zE(r,jP[s],l,!0));var d=zE(r,s,c,!0),h=zE(r,s,(function(e){e!==o?f(e):o=void 0})),p=[];return"ontouchstart"in r.documentElement&&(p=[].slice.call(r.body.children).map((function(e){return zE(e,"mousemove",TP)}))),function(){null==u||u(),d(),h(),p.forEach((function(e){return e()}))}}}),[t,a,s,c,l,f])};function NP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function PP(e){var t,n,r,a,i,s=e.enabled,o=e.enableEvents,u=e.placement,c=e.flip,l=e.offset,f=e.fixed,d=e.containerPadding,h=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:u,enabled:s,strategy:f?"fixed":v.strategy,modifiers:NP(Object.assign({},m,{eventListeners:{enabled:o,options:null==(t=m.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},m.preventOverflow,{options:d?Object.assign({padding:d},null==(n=m.preventOverflow)?void 0:n.options):null==(r=m.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:l},null==(a=m.offset)?void 0:a.options)},arrow:Object.assign({},m.arrow,{enabled:!!h,options:Object.assign({},null==(i=m.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!c},m.flip)}))})}var AP=["children"];var RP=function(){};function OP(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,e.useContext)(JI),r=u(aT(),2),a=r[0],i=r[1],s=(0,e.useRef)(!1),o=t.flip,c=t.offset,l=t.rootCloseEvent,f=t.fixed,d=void 0!==f&&f,h=t.placement,p=t.popperConfig,v=void 0===p?{}:p,m=t.enableEventListeners,g=void 0===m||m,y=t.usePopper,k=void 0===y?!!n:y,x=null==(null==n?void 0:n.show)?!!t.show:n.show;x&&!s.current&&(s.current=!0);var b=n||{},w=b.placement,E=b.setMenu,S=b.menuElement,_=b.toggleElement,T=_P(_,S,PP({placement:h||w||"bottom-start",enabled:k,enableEvents:null==g?x:g,offset:c,flip:o,fixed:d,arrowElement:a,popperConfig:v})),C=Object.assign({ref:E||RP,"aria-labelledby":null==_?void 0:_.id},T.attributes.popper,{style:T.styles.popper}),j={show:x,placement:w,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:k?T:null,arrowProps:k?Object.assign({ref:i},T.attributes.arrow,{style:T.styles.arrow}):{}};return IP(S,(function(e){null==n||n.toggle(!1,e)}),{clickTrigger:l,disabled:!x}),[C,j]}function DP(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,AP),r=u(OP(n),2),a=r[0],i=r[1];return(0,Aw.jsx)(Aw.Fragment,{children:t(a,i)})}DP.displayName="DropdownMenu",DP.defaultProps={usePopper:!0};var LP=DP,MP={prefix:String(Math.round(1e10*Math.random())),current:0,isSSR:!1},FP=e.createContext(MP);var UP=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),VP=new WeakMap;function BP(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,e.useContext)(FP),r=(0,e.useRef)(null);if(null===r.current&&!t){var a,i,s=null===(a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===a||null===(i=a.ReactCurrentOwner)||void 0===i?void 0:i.current;if(s){var o=VP.get(s);null==o?VP.set(s,{id:n.current,state:s.memoizedState}):s.memoizedState!==o.state&&(n.current=o.id,VP.delete(s))}r.current=++n.current}return r.current}var zP="function"===typeof e.useId?function(t){var n=e.useId(),r=u((0,e.useState)("function"===typeof e.useSyncExternalStore?e.useSyncExternalStore(qP,HP,WP):(0,e.useContext)(FP).isSSR),1)[0]?"react-aria":"react-aria".concat(MP.prefix);return t||"".concat(r,"-").concat(n)}:function(t){var n=(0,e.useContext)(FP);n!==MP||UP||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");var r=BP(!!t),a="react-aria".concat(n.prefix);return t||"".concat(a,"-").concat(r)};function HP(){return!1}function WP(){return!0}function qP(e){return function(){}}var KP=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},GP=function(){};function QP(){var t=zP(),n=(0,e.useContext)(JI)||{},r=n.show,a=void 0!==r&&r,i=n.toggle,s=void 0===i?GP:i,o=n.setToggle,u=n.menuElement,c=(0,e.useCallback)((function(e){s(!a,e)}),[a,s]),l={id:t,ref:o||GP,onClick:c,"aria-expanded":!!a};return u&&KP(u)&&(l["aria-haspopup"]=!0),[l,{show:a,toggle:s}]}function YP(e){var t=e.children,n=u(QP(),2),r=n[0],a=n[1];return(0,Aw.jsx)(Aw.Fragment,{children:t(r,a)})}YP.displayName="DropdownToggle";var $P=YP,XP=["eventKey","disabled","onClick","active","as"];function JP(t){var n=t.key,r=t.href,a=t.active,i=t.disabled,s=t.onClick,o=(0,e.useContext)(rE),u=((0,e.useContext)(V_)||{}).activeKey,c=nE(n,r),l=null==a&&null!=n?nE(u)===c:a;return[g({onClick:hS((function(e){i||(null==s||s(e),o&&!e.isPropagationStopped()&&o(c,e))})),"aria-disabled":i||void 0,"aria-selected":l},NS("dropdown-item"),""),{isActive:l}]}var ZP=e.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,a=e.onClick,i=e.active,s=e.as,o=void 0===s?q_:s,c=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,XP),l=u(JP({key:n,href:c.href,disabled:r,onClick:a,active:i}),1)[0];return(0,Aw.jsx)(o,Object.assign({},c,{ref:t},l))}));ZP.displayName="DropdownItem";var eA=ZP;function tA(){var t=F_(),n=(0,e.useRef)(null),r=(0,e.useCallback)((function(e){n.current=e,t()}),[t]);return[n,r]}function nA(t){var n=t.defaultShow,r=t.show,a=t.onSelect,i=t.onToggle,s=t.itemSelector,o=void 0===s?"* [".concat(NS("dropdown-item"),"]"):s,c=t.focusFirstItemOnShow,l=t.placement,f=void 0===l?"bottom-start":l,d=t.children,h=DS(),p=u(XI(r,n,i),2),v=p[0],m=p[1],g=u(tA(),2),y=g[0],k=g[1],x=y.current,b=u(tA(),2),w=b[0],E=b[1],S=w.current,_=jS(v),T=(0,e.useRef)(null),C=(0,e.useRef)(!1),j=(0,e.useContext)(rE),I=(0,e.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),N=hS((function(e,t){null==a||a(e,t),I(!1,t,"select"),t.isPropagationStopped()||null==j||j(e,t)})),P=(0,e.useMemo)((function(){return{toggle:I,placement:f,show:v,menuElement:x,toggleElement:S,setMenu:k,setToggle:E}}),[I,f,v,x,S,k,E]);x&&_&&!v&&(C.current=x.contains(x.ownerDocument.activeElement));var A=hS((function(){S&&S.focus&&S.focus()})),R=hS((function(){var e=T.current,t=c;if(null==t&&(t=!(!y.current||!KP(y.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=y_(y.current,o)[0];n&&n.focus&&n.focus()}}));(0,e.useEffect)((function(){v?R():C.current&&(C.current=!1,A())}),[v,C,A,R]),(0,e.useEffect)((function(){T.current=null}));var O=function(e,t){if(!y.current)return null;var n=y_(y.current,o),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=hS(r);(0,e.useEffect)((function(){var e="function"===typeof t?t():t;return e.addEventListener(n,i,a),function(){return e.removeEventListener(n,i,a)}}),[t])}((0,e.useCallback)((function(){return h.document}),[h]),"keydown",(function(e){var t,n,r=e.key,a=e.target,i=null==(t=y.current)?void 0:t.contains(a),s=null==(n=w.current)?void 0:n.contains(a);if((!/input|textarea/i.test(a.tagName)||!(" "===r||"Escape"!==r&&i||"Escape"===r&&"search"===a.type))&&(i||s)&&("Tab"!==r||y.current&&v)){T.current=e.type;var o={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=O(a,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=O(a,1);c&&c.focus&&c.focus()}else m(!0,o);return;case"Tab":VE(a.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=y.current)&&t.contains(e.target)||m(!1,o)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,o)}}})),(0,Aw.jsx)(rE.Provider,{value:N,children:(0,Aw.jsx)(JI.Provider,{value:P,children:d})})}nA.displayName="Dropdown",nA.Menu=LP,nA.Toggle=$P,nA.Item=eA;var rA=nA,aA=e.createContext({});aA.displayName="DropdownContext";var iA=aA,sA=["bsPrefix","className","eventKey","disabled","onClick","active","as"],oA=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.eventKey,i=e.disabled,s=void 0!==i&&i,o=e.onClick,c=e.active,l=e.as,f=void 0===l?oT:l,d=Mw(e,sA),h=zw(n,"dropdown-item"),p=u(JP({key:a,href:d.href,disabled:s,onClick:o,active:c}),2),v=p[0],m=p[1];return(0,Aw.jsx)(f,xe(xe(xe({},d),v),{},{ref:t,className:Uw()(r,h,m.isActive&&"active",s&&"disabled")}))}));oA.displayName="DropdownItem";var uA=oA,cA=e.createContext(null);cA.displayName="InputGroupContext";var lA=cA;function fA(e,t){return e}var dA=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function hA(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}var pA=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,i=t.align,s=t.rootCloseEvent,o=t.flip,c=void 0===o||o,l=t.show,f=t.renderOnMount,d=t.as,h=void 0===d?"div":d,p=t.popperConfig,v=t.variant,m=Mw(t,dA),g=!1,y=(0,e.useContext)(uS),k=zw(r,"dropdown-menu"),x=(0,e.useContext)(iA),b=x.align,w=x.drop,E=x.isRTL;i=i||b;var S=(0,e.useContext)(lA),_=[];if(i)if("object"===typeof i){var T=Object.keys(i);if(T.length){var C=T[0],j=i[C];g="start"===j,_.push("".concat(k,"-").concat(C,"-").concat(j))}}else"end"===i&&(g=!0);var I=hA(g,w,E),N=u(OP({flip:c,rootCloseEvent:s,show:l,usePopper:!y&&0===_.length,offset:[0,2],popperConfig:p,placement:I}),2),P=N[0],A=N[1],R=A.hasShown,O=A.popper,D=A.show,L=A.toggle;if(P.ref=$E(fA(n),P.ref),yS((function(){D&&(null==O||O.update())}),[D]),!R&&!f&&!S)return null;"string"!==typeof h&&(P.show=D,P.close=function(){return null==L?void 0:L(!1)},P.align=i);var M=m.style;return null!=O&&O.placement&&(M=xe(xe({},m.style),P.style),m["x-placement"]=O.placement),(0,Aw.jsx)(h,xe(xe(xe(xe({},m),P),{},{style:M},(_.length||y)&&{"data-bs-popper":"static"}),{},{className:Uw().apply(void 0,[a,k,D&&"show",g&&"".concat(k,"-end"),v&&"".concat(k,"-").concat(v)].concat(_))}))}));pA.displayName="DropdownMenu";var vA=pA,mA=["bsPrefix","split","className","childBsPrefix","as"],gA=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.split,i=t.className,s=t.childBsPrefix,o=t.as,c=void 0===o?vj:o,l=Mw(t,mA),f=zw(r,"dropdown-toggle"),d=(0,e.useContext)(JI);void 0!==s&&(l.bsPrefix=s);var h=u(QP(),1)[0];return h.ref=$E(h.ref,fA(n)),(0,Aw.jsx)(c,xe(xe({className:Uw()(i,f,a&&"".concat(f,"-split"),(null==d?void 0:d.show)&&"show")},h),l))}));gA.displayName="DropdownToggle";var yA=gA,kA=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],xA=pE("dropdown-header",{defaultProps:{role:"heading"}}),bA=pE("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),wA=pE("dropdown-item-text",{Component:"span"}),EA=e.forwardRef((function(t,n){var r=oE(t,{show:"onToggle"}),a=r.bsPrefix,i=r.drop,s=void 0===i?"down":i,o=r.show,u=r.className,c=r.align,l=void 0===c?"start":c,f=r.onSelect,d=r.onToggle,h=r.focusFirstItemOnShow,p=r.as,v=void 0===p?"div":p,m=(r.navbar,r.autoClose),g=void 0===m||m,y=Mw(r,kA),k=(0,e.useContext)(lA),x=zw(a,"dropdown"),b=qw(),w=hS((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===g?"click"===n:"inside"===g?"rootClose"!==n:"outside"!==g||"select"!==n)&&(null==d||d(e,t))})),E=hA("end"===l,s,b),S=(0,e.useMemo)((function(){return{align:l,drop:s,isRTL:b}}),[l,s,b]),_={down:x,"down-centered":"".concat(x,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,Aw.jsx)(iA.Provider,{value:S,children:(0,Aw.jsx)(rA,{placement:E,show:o,onSelect:f,onToggle:w,focusFirstItemOnShow:h,itemSelector:".".concat(x,"-item:not(.disabled):not(:disabled)"),children:k?y.children:(0,Aw.jsx)(v,xe(xe({},y),{},{ref:n,className:Uw()(u,o&&"show",_[s])}))})})}));EA.displayName="Dropdown";var SA=Object.assign(EA,{Toggle:yA,Menu:vA,Item:uA,ItemText:wA,Divider:bA,Header:xA}),_A=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],TA=e.forwardRef((function(e,t){var n=e.id,r=e.title,a=e.children,i=e.bsPrefix,s=e.className,o=e.rootCloseEvent,u=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,d=e.menuVariant,h=Mw(e,_A),p=zw(void 0,"nav-item");return(0,Aw.jsxs)(SA,xe(xe({ref:t},h),{},{className:Uw()(s,p),children:[(0,Aw.jsx)(SA.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:i,as:lT,children:r}),(0,Aw.jsx)(SA.Menu,{role:u,renderOnMount:f,rootCloseEvent:o,variant:d,children:a})]}))}));TA.displayName="NavDropdown";var CA=Object.assign(TA,{Item:SA.Item,ItemText:SA.ItemText,Divider:SA.Divider,Header:SA.Header}),jA=function(t){var n=t.heads,r=t.onFilterTasks,a=t.onHeadClick,i=(t.onHeadBoxClick,u((0,e.useState)([]),2)),s=i[0],o=i[1],c=u((0,e.useState)({}),2),f=c[0],h=c[1],v=u((0,e.useState)([]),2),m=(v[0],v[1],u((0,e.useState)(null),2)),g=m[0],y=m[1],k=u((0,e.useState)([]),2),x=k[0],b=k[1],w=u((0,e.useState)(""),2),E=(w[0],w[1]),S=u((0,e.useState)(""),2),_=(S[0],S[1]),T=u((0,e.useState)([]),2),C=T[0],j=T[1],I=Ow(),N=I.currentUser;I.logout;(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,u,c,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"heads",t),e.next=4,Kb(n);case 4:(r=e.sent).exists()?(a=r.data(),i=a.tasks||[],s=i.filter((function(e){return"completed"===e.status})).length,u=i.filter((function(e){return"pending"===e.status})).length,c=i.filter((function(e){return"Work in Progress"===e.status})).length,f={headId:t,numTasksCompleted:s,numTasksPending:u,numTasksAssigned:i.length,numTasksInProgress:c},o((function(e){return[].concat(l(e),[f])}))):console.error("Head document does not exist"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching task statistics:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();n.forEach((function(t){e(t.uid)}))}),[n]);var P=function(){var e=p(d().mark((function e(t,a){var i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(a),y(t),(i=n.find((function(e){return e.uid===t})))&&i.tasks&&(s=i.tasks||[],s.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),o=s.filter((function(e){return e.status===a})),r(o),b(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=p(d().mark((function e(t){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h("assigned"),y(t),(a=n.find((function(e){return e.uid===t})))&&a.tasks&&(i=a.tasks||[],i.sort((function(e,t){var n={high:3,medium:2,low:1},r=n[e.priority]||0;return(n[t.priority]||0)-r})),r(i),b(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){h(null),y(null),r([]),b([])},O=function(){var e=p(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=C.filter((function(e){return e.id!==t})),j(n),r=Kx(Pw,"heads",N.uid),e.next=6,$b(r,{tasks:n});case 6:_("Task deleted successfully"),E(""),setTimeout((function(){_("")}),1e3),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),E("Failed to delete task: "+e.t0.message),console.error("Delete task error",e.t0),setTimeout((function(){_("")}),1e3);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,Aw.jsxs)(Qw,{className:"employee-list",children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Head List"}),n&&n.length>0?n.map((function(e){var t=s.find((function(t){return t.headId===e.uid}));return(0,Aw.jsxs)(Qw,{fluid:!0,style:{padding:"10px",marginBottom:"20px"},className:"bigbox employee-card",onClick:function(t){console.log("Head box clicked with ID:",e.uid),a(e.uid,t)},children:[(0,Aw.jsxs)(Xw,{className:"mt-4",children:[(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{border:0,backgroundColor:"transparent"},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Name:"}),(0,Aw.jsx)(FT.Text,{children:e.name})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"assigned"===f?"":"#003DAA",color:g===e.uid&&"assigned"===f?"#000":"#fff",borderColor:g===e.uid&&"assigned"===f?"#003DAA":""},onClick:function(){"assigned"===f?R():A(e.uid)},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Assigned Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksAssigned})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"pending"===f?"":"#B32222",color:g===e.uid&&"pending"===f?"#000":"#fff",borderColor:g===e.uid&&"pending"===f?"#B32222":""},onClick:function(){"pending"===f?R():P(e.uid,"pending")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Pending Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksPending})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"Work in Progress"===f?"":"#DAA520",color:g===e.uid&&"Work in Progress"===f?"#000":"#fff",borderColor:g===e.uid&&"Work in Progress"===f?"#DAA520":""},onClick:function(){"Work in Progress"===f?R():P(e.uid,"Work in Progress")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"In Progress Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksInProgress})]})})})})}),(0,Aw.jsx)(tE,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)(FT,{className:"formal-card-new",style:{cursor:"pointer",backgroundColor:g===e.uid&&"completed"===f?"":"#228B22",color:g===e.uid&&"completed"===f?"#000":"#fff",borderColor:g===e.uid&&"completed"===f?"#228B22":""},onClick:function(){"completed"===f?R():P(e.uid,"completed")},children:(0,Aw.jsx)(FT.Body,{style:{paddingLeft:0,paddingRight:0},children:(0,Aw.jsx)("div",{className:"stat-card",children:(0,Aw.jsxs)("div",{className:"stat-card-info",children:[(0,Aw.jsx)(FT.Title,{children:"Completed Tasks"}),(0,Aw.jsx)(FT.Text,{children:null===t||void 0===t?void 0:t.numTasksCompleted})]})})})})})]}),g===e.uid&&(0,Aw.jsx)(Xw,{className:"mt-4",children:x.length>0?(0,Aw.jsxs)(tE,{xs:12,md:12,children:[(0,Aw.jsx)("h2",{className:"text-center mb-4",children:"Tasks"}),(0,Aw.jsx)("div",{className:"table-responsive",children:(0,Aw.jsxs)(BT,{striped:!0,bordered:!0,hover:!0,className:"formal-table",children:[(0,Aw.jsx)("thead",{children:(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("th",{children:"Project"}),(0,Aw.jsx)("th",{children:"Task"}),(0,Aw.jsx)("th",{children:"Subtask"}),(0,Aw.jsx)("th",{children:"Members"}),(0,Aw.jsx)("th",{children:"Status"}),(0,Aw.jsx)("th",{children:"End Date"}),(0,Aw.jsx)("th",{children:"Priority"}),(0,Aw.jsx)("th",{children:"Delete"})]})}),(0,Aw.jsx)("tbody",{children:x.map((function(e){return(0,Aw.jsxs)("tr",{children:[(0,Aw.jsx)("td",{children:e.project}),(0,Aw.jsx)("td",{children:e.task}),(0,Aw.jsx)("td",{children:e.subtask}),(0,Aw.jsx)("td",{children:e.members}),(0,Aw.jsx)("td",{children:"completed"===e.status?(0,Aw.jsx)("span",{children:"Completed"}):"Work in Progress"===e.status?(0,Aw.jsx)("span",{children:"Work in Progress"}):"pending"===e.status&&"high"===e.priority?(0,Aw.jsx)("span",{className:"high-priority-pending",children:"Pending"}):(0,Aw.jsx)("span",{children:"Pending"})}),(0,Aw.jsx)("td",{children:e.endDate}),(0,Aw.jsx)("td",{children:e.priority}),(0,Aw.jsx)("td",{children:(0,Aw.jsx)("button",{onClick:function(){return O(e.id)},className:"btn btn-danger btn-sm",children:"Delete"})})]},e.id)}))})]})})]}):(0,Aw.jsx)("p",{children:"No tasks available for the selected head."})})]},e.uid)})):(0,Aw.jsx)("p",{children:"No heads available"})]})};function IA(t){var n=t.supervisors,r=t.employees,a=t.onAssignEmployee,i=u((0,e.useState)(""),2),s=i[0],o=i[1],c=u((0,e.useState)([]),2),f=c[0],d=c[1],h=u((0,e.useState)(""),2),p=h[0],v=h[1],m=function(e){var t=e.target.value;d((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(l(e),[t])}))};return(0,Aw.jsx)("div",{children:(0,Aw.jsxs)(bI,{children:[(0,Aw.jsxs)(bI.Group,{controlId:"supervisor",children:[(0,Aw.jsx)(bI.Label,{children:"Select Supervisor"}),(0,Aw.jsxs)(bI.Control,{as:"select",value:s,onChange:function(e){return o(e.target.value)},children:[(0,Aw.jsx)("option",{value:"",children:"Select a Supervisor"}),n.map((function(e){return(0,Aw.jsx)("option",{value:e.uid,children:e.name},e.uid)}))]})]}),(0,Aw.jsxs)(bI.Group,{controlId:"employees",children:[(0,Aw.jsx)(bI.Label,{children:"Select Employees"}),r.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.uid,label:e.name,value:e.uid,checked:f.includes(e.uid),onChange:m},e.uid)}))]}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){s&&f.length>0?a(s,f):v("Please select a supervisor and at least one employee.")},children:"Assign Employees"}),p&&(0,Aw.jsx)("div",{className:"text-danger mt-2",children:p})]})})}function NA(t){var n=t.supervisors,r=t.onAssignSupervisor,a=u((0,e.useState)(""),2),i=a[0],s=a[1],o=u((0,e.useState)([]),2),c=o[0],f=o[1],h=u((0,e.useState)([]),2),v=h[0],m=h[1],g=u((0,e.useState)(""),2),y=g[0],k=g[1];(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qb(qx(Pw,"teamleaders"));case 3:t=e.sent,n=t.docs.map((function(e){return xe({uid:e.id},e.data())})),m(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching teamleaders:",e.t0),k("Error fetching teamleaders. Please try again later.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=function(e){var t=e.target.value;f((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(l(e),[t])}))};return(0,Aw.jsx)("div",{children:(0,Aw.jsxs)(bI,{children:[(0,Aw.jsxs)(bI.Group,{controlId:"teamleaders",children:[(0,Aw.jsx)(bI.Label,{children:"Select Teamleader"}),(0,Aw.jsxs)(bI.Control,{as:"select",value:i,onChange:function(e){return s(e.target.value)},children:[(0,Aw.jsx)("option",{value:"",children:"Select a Teamleader"}),v.map((function(e){return(0,Aw.jsx)("option",{value:e.uid,children:e.name},e.uid)}))]})]}),(0,Aw.jsxs)(bI.Group,{controlId:"supervisors",children:[(0,Aw.jsx)(bI.Label,{children:"Select Supervisors"}),n.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.uid,label:e.name,value:e.uid,checked:c.includes(e.uid),onChange:x},e.uid)}))]}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){i&&c.length>0?r(i,c):k("Please select a teamleader and at least one supervisor.")},children:"Assign Supervisors"}),y&&(0,Aw.jsx)("div",{className:"text-danger mt-2",children:y})]})})}function PA(t){var n=t.teamLeaders,r=t.onAssignTeamLeader,a=u((0,e.useState)(""),2),i=a[0],s=a[1],o=u((0,e.useState)([]),2),c=o[0],f=o[1],h=u((0,e.useState)([]),2),v=h[0],m=h[1],g=u((0,e.useState)(""),2),y=g[0],k=g[1];(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qb(qx(Pw,"unitheads"));case 3:t=e.sent,n=t.docs.map((function(e){return xe({uid:e.id},e.data())})),m(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching unitheads:",e.t0),k("Error fetching unitheads. Please try again later.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=function(e){var t=e.target.value;f((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(l(e),[t])}))};return(0,Aw.jsx)("div",{children:(0,Aw.jsxs)(bI,{children:[(0,Aw.jsxs)(bI.Group,{controlId:"unitheads",children:[(0,Aw.jsx)(bI.Label,{children:"Select Unithead"}),(0,Aw.jsxs)(bI.Control,{as:"select",value:i,onChange:function(e){return s(e.target.value)},children:[(0,Aw.jsx)("option",{value:"",children:"Select a Unithead"}),v.map((function(e){return(0,Aw.jsx)("option",{value:e.uid,children:e.name},e.uid)}))]})]}),(0,Aw.jsxs)(bI.Group,{controlId:"teamleaders",children:[(0,Aw.jsx)(bI.Label,{children:"Select Teamleaders"}),n.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.uid,label:e.name,value:e.uid,checked:c.includes(e.uid),onChange:x},e.uid)}))]}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){i&&c.length>0?r(i,c):k("Please select a unithead and at least one teamleader.")},children:"Assign Teamleaders"}),y&&(0,Aw.jsx)("div",{className:"text-danger mt-2",children:y})]})})}function AA(t){var n=t.unitHeads,r=t.onAssignUnitHead,a=u((0,e.useState)(""),2),i=a[0],s=a[1],o=u((0,e.useState)([]),2),c=o[0],f=o[1],h=u((0,e.useState)([]),2),v=h[0],m=h[1],g=u((0,e.useState)(""),2),y=(g[0],g[1]),k=u((0,e.useState)(""),2),x=k[0],b=(k[1],u((0,e.useState)(""),2)),w=b[0];b[1];(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qb(qx(Pw,"heads"));case 3:t=e.sent,n=t.docs.map((function(e){return xe({uid:e.id},e.data())})),m(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching heads:",e.t0),y("Error fetching heads. Please try again later.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var E=function(e){var t=e.target.value;f((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(l(e),[t])}))};return(0,Aw.jsx)("div",{children:(0,Aw.jsxs)(bI,{children:[(0,Aw.jsxs)(bI.Group,{controlId:"heads",children:[(0,Aw.jsx)(bI.Label,{children:"Select Head"}),(0,Aw.jsxs)(bI.Control,{as:"select",value:i,onChange:function(e){return s(e.target.value)},children:[(0,Aw.jsx)("option",{value:"",children:"Select a Head"}),v.map((function(e){return(0,Aw.jsx)("option",{value:e.uid,children:e.name},e.uid)}))]})]}),(0,Aw.jsxs)(bI.Group,{controlId:"unitheads",children:[(0,Aw.jsx)(bI.Label,{children:"Select Unitheads"}),n.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.uid,label:e.name,value:e.uid,checked:c.includes(e.uid),onChange:E},e.uid)}))]}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){i&&c.length>0?r(i,c):y("Please select a head and at least one unithead.")},children:"Assign Unitheads"}),x&&(0,Aw.jsx)("div",{className:"text-success mt-2",children:x}),w&&(0,Aw.jsx)("div",{className:"text-danger mt-2",children:w})]})})}function RA(){var t=Ow(),n=t.currentUser,r=t.logout,a=(0,e.useState)(!1),i=u(a,2),s=i[0],o=i[1],c=(0,e.useState)(""),f=u(c,2),h=f[0],m=f[1],y=(0,e.useState)(""),k=u(y,2),x=k[0],b=k[1],w=(0,e.useState)([]),E=u(w,2),S=E[0],_=E[1],T=(0,e.useState)([]),C=u(T,2),j=C[0],I=C[1],N=(0,e.useState)([]),P=u(N,2),A=P[0],R=P[1],O=(0,e.useState)([]),D=u(O,2),L=D[0],M=D[1],F=(0,e.useState)([]),U=u(F,2),V=U[0],B=U[1],z=(0,e.useState)({project:"",task:"",subtask:"",members:"",status:"",heads:[],unitheads:[],TeamLeaders:[],supervisors:[],employees:[],endDate:"",priority:"low"}),H=u(z,2),W=H[0],q=H[1],K=(0,e.useState)([]),G=u(K,2),Q=(G[0],G[1],(0,e.useState)(null)),Y=u(Q,2),$=(Y[0],Y[1]),X=u((0,e.useState)([]),2),J=(X[0],X[1],u((0,e.useState)([]),2)),Z=J[0],ee=J[1],te=u((0,e.useState)(null),2),ne=(te[0],te[1],u((0,e.useState)([]),2)),re=(ne[0],ne[1],u((0,e.useState)([]),2)),ae=(re[0],re[1],u((0,e.useState)([]),2)),ie=(ae[0],ae[1],u((0,e.useState)([]),2)),se=(ie[0],ie[1]),oe=u((0,e.useState)(null),2),ue=(oe[0],oe[1]),ce=u((0,e.useState)(!1),2),le=ce[0],fe=ce[1],de=u((0,e.useState)([]),2),he=(de[0],de[1]),pe=u((0,e.useState)(null),2),ve=(pe[0],pe[1],u((0,e.useState)(0),2)),me=(ve[0],ve[1]),ge=u((0,e.useState)(0),2),ye=(ge[0],ge[1]),ke=u((0,e.useState)(0),2),be=(ke[0],ke[1]),we=u((0,e.useState)([]),2),Ee=(we[0],we[1]),Se=u((0,e.useState)([]),2),_e=(Se[0],Se[1]),Te=u((0,e.useState)([]),2),Ce=(Te[0],Te[1]),je=u((0,e.useState)(null),2),Ie=(je[0],je[1],u((0,e.useState)(null),2)),Ne=(Ie[0],Ie[1]),Pe=u((0,e.useState)([]),2),Ae=(Pe[0],Pe[1]),Re=u((0,e.useState)(!1),2),Oe=Re[0],De=Re[1],Le=u((0,e.useState)(null),2),Me=(Le[0],Le[1]),Fe=u((0,e.useState)(null),2),Ue=(Fe[0],Fe[1]),Ve=u((0,e.useState)(null),2),Be=(Ve[0],Ve[1],u((0,e.useState)([]),2)),ze=(Be[0],Be[1]),He=u((0,e.useState)(!0),2),We=He[0],qe=He[1],Ke=u((0,e.useState)(!1),2),Ge=Ke[0],Qe=Ke[1],Ye=u((0,e.useState)(!1),2),$e=Ye[0],Xe=Ye[1],Je=u((0,e.useState)(!1),2),Ze=Je[0],et=Je[1],tt=u((0,e.useState)(!1),2),nt=tt[0],rt=tt[1],at=u((0,e.useState)(null),2),it=(at[0],at[1],u((0,e.useState)(!1),2)),st=(it[0],it[1],u((0,e.useState)(null),2)),ot=(st[0],st[1]),ut=u((0,e.useState)(null),2),ct=(ut[0],ut[1],u((0,e.useState)(!1),2)),lt=ct[0],ft=ct[1],dt=u((0,e.useState)(!0),2),ht=dt[0],pt=dt[1],vt=u((0,e.useState)(!1),2),mt=(vt[0],vt[1],u((0,e.useState)(!1),2)),gt=mt[0],yt=mt[1],kt=u((0,e.useState)(!1),2),xt=kt[0],bt=kt[1],wt=u((0,e.useState)(!1),2),Et=wt[0],St=wt[1],_t=u((0,e.useState)(!1),2),Tt=_t[0],Ct=_t[1],jt=u((0,e.useState)(!1),2),It=jt[0],Nt=jt[1],Pt=u((0,e.useState)(!1),2),At=Pt[0],Rt=Pt[1],Ot=u((0,e.useState)(!1),2),Dt=Ot[0],Lt=Ot[1],Mt=u((0,e.useState)(!1),2),Ft=Mt[0],Ut=Mt[1],Vt=u((0,e.useState)(!1),2),Bt=Vt[0],zt=Vt[1],Ht=u((0,e.useState)([]),2),Wt=Ht[0],qt=Ht[1],Kt=u((0,e.useState)([]),2),Gt=Kt[0],Qt=Kt[1],Yt=u((0,e.useState)([]),2),$t=Yt[0],Xt=Yt[1],Jt=DC();(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=qx(Pw,"heads"),e.next=4,Qb(t);case 4:n=e.sent,r=n.docs.map((function(e){return xe({id:e.id},e.data())})),I(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fetch unit heads error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=qx(Pw,"unitheads"),e.next=4,Qb(t);case 4:n=e.sent,r=n.docs.map((function(e){return xe({id:e.id},e.data())})),_(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fetch unit heads error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=qx(Pw,"teamleaders"),e.next=4,Qb(t);case 4:n=e.sent,r=n.docs.map((function(e){return xe({id:e.id},e.data())})),R(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fetch team leaders error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=qx(Pw,"supervisors"),e.next=4,Qb(t);case 4:n=e.sent,r=n.docs.map((function(e){return xe({id:e.id},e.data())})),M(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fetch supervisors error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=qx(Pw,"employees"),e.next=4,Qb(t);case 4:n=e.sent,r=n.docs.map((function(e){return xe({id:e.id},e.data())})),B(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fetch employees error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e(),t(),n(),r(),a()}),[]);var Zt=function(e){var t=e.target,n=t.name,r=t.value;q(xe(xe({},W),{},g({},n,"heads"===n||"unitheads"===n||"TeamLeaders"===n||"supervisors"===n||"employees"===n?[].concat(l(W[n]),[r]):r)))},en=function(){var e=p(d().mark((function e(){var t,r,a,i,s,o,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Kx(Pw,"heads",n.uid),e.next=4,Kb(t);case 4:(r=e.sent).exists()&&(a=r.data(),i=a.tasks||[],ee(i),s=i.filter((function(e){return"completed"===e.status})).length,o=i.filter((function(e){return"pending"===e.status})).length,u=i.filter((function(e){return"Work in Progress"===e.status})).length,c=i.length,me(s),ye(o),be(c),Ee(s),_e(o),Ce(u)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),m("Failed to fetch tasks"),console.error("Fetch tasks error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){n&&en()}),[n]);var tn=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"teamleaders",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return i=a.assigned,s=qx(Pw,"supervisors"),e.next=12,Qb(s);case 12:o=e.sent,u=o.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return i.includes(e.uid)})),M(u);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),m("Failed to fetch supervisor: "+e.t0.message),console.error("Fetch Supervisor error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){n&&tn(n.uid)}),[n]);var nn=function(e){se(e)},rn=u((0,e.useState)({project:"",task:"",subtask:"",members:"",endDate:"",priority:"low"}),2),an=(rn[0],rn[1],function(){var e=p(d().mark((function e(t){var r,a,i,s,o,u,c,l,f,h,g,y,k,x,w,E,S,_,T,C,j,I,N;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),II(),n){e.next=6;break}return m("Please log in to assign tasks."),e.abrupt("return");case 6:if(console.log("currentUser:",n),console.log("currentUser.role:",n.role),"admin"===n.role){e.next=11;break}return m("You do not have the required permissions to assign tasks."),e.abrupt("return");case 11:r={taskId:II(),project:W.project,task:W.taskName,subtask:W.subtaskName,members:W.members,status:W.status,endDate:W.endDate,priority:W.priority},console.log("New Task Data:",r),a=[],i=v(W.heads),e.prev=15,i.s();case 17:if((s=i.n()).done){e.next=26;break}return o=s.value,u=Pb(qx(Pw,"heads"),Rb("name","==",o)),e.next=22,Qb(u);case 22:e.sent.forEach(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ref,e.next=3,$b(n,{tasks:tw(r)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),i.e(e.t0);case 31:return e.prev=31,i.f(),e.finish(31);case 34:c=v(W.unitheads),e.prev=35,c.s();case 37:if((l=c.n()).done){e.next=46;break}return f=l.value,h=Pb(qx(Pw,"unitheads"),Rb("name","==",f)),e.next=42,Qb(h);case 42:e.sent.forEach(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ref,e.next=3,$b(n,{tasks:tw(r)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 44:e.next=37;break;case 46:e.next=51;break;case 48:e.prev=48,e.t1=e.catch(35),c.e(e.t1);case 51:return e.prev=51,c.f(),e.finish(51);case 54:g=v(W.TeamLeaders),e.prev=55,g.s();case 57:if((y=g.n()).done){e.next=66;break}return k=y.value,x=Pb(qx(Pw,"teamleaders"),Rb("name","==",k)),e.next=62,Qb(x);case 62:e.sent.forEach(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ref,e.next=3,$b(n,{tasks:tw(r)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 64:e.next=57;break;case 66:e.next=71;break;case 68:e.prev=68,e.t2=e.catch(55),g.e(e.t2);case 71:return e.prev=71,g.f(),e.finish(71);case 74:w=v(W.supervisors),e.prev=75,w.s();case 77:if((E=w.n()).done){e.next=86;break}return S=E.value,_=Pb(qx(Pw,"supervisors"),Rb("name","==",S)),e.next=82,Qb(_);case 82:e.sent.forEach(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ref,e.next=3,$b(n,{tasks:tw(r)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 84:e.next=77;break;case 86:e.next=91;break;case 88:e.prev=88,e.t3=e.catch(75),w.e(e.t3);case 91:return e.prev=91,w.f(),e.finish(91);case 94:T=v(W.employees),e.prev=95,T.s();case 97:if((C=T.n()).done){e.next=106;break}return j=C.value,I=Pb(qx(Pw,"employees"),Rb("name","==",j)),e.next=102,Qb(I);case 102:e.sent.forEach(function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ref,e.next=3,$b(n,{tasks:tw(r)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 104:e.next=97;break;case 106:e.next=111;break;case 108:e.prev=108,e.t4=e.catch(95),T.e(e.t4);case 111:return e.prev=111,T.f(),e.finish(111);case 114:return N=nw(Pw),a.forEach((function(e){N.set(e.docRef,e.data,{merge:!0})})),e.next=118,N.commit();case 118:b("Task assigned successfully"),m(""),q({project:"",taskName:"",subtaskName:"",members:"",status:"completed",endDate:"",priority:"low"}),e.next=128;break;case 123:e.prev=123,e.t5=e.catch(0),m("Failed to assign task"),console.error("Firebase Error:",e.t5.message),console.error("Firebase Error Details:",e.t5.details);case 128:case"end":return e.stop()}}),e,null,[[0,123],[15,28,31,34],[35,48,51,54],[55,68,71,74],[75,88,91,94],[95,108,111,114]])})));return function(t){return e.apply(this,arguments)}}()),sn=function(){var e=p(d().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=42;break}if(!n.target.classList.contains("bigbox")){e.next=42;break}return ue(t),e.prev=4,r=Kx(Pw,"supervisors",t),e.next=8,Kb(r);case 8:if(!(a=e.sent).exists()){e.next=35;break}i=a.data(),i.uid,s=i.assigned||[],o=[],u=v(s),e.prev=15,u.s();case 17:if((c=u.n()).done){e.next=26;break}return l=c.value,f=Kx(Pw,"employees",l),e.next=22,Kb(f);case 22:(h=e.sent).exists()&&(p=h.data(),o.push(p));case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),u.e(e.t0);case 31:return e.prev=31,u.f(),e.finish(31);case 34:qt(o);case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(4),m("Failed to fetch supervisor's data: "+e.t1.message),console.error("Fetch supervisor data error",e.t1);case 41:on();case 42:case"end":return e.stop()}}),e,null,[[4,37],[15,28,31,34]])})));return function(t,n){return e.apply(this,arguments)}}(),on=function(){et(!Ze)};(0,e.useEffect)((function(){n&&(n.role="admin")}),[n]);var un=function(){var e=p(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(""),e.prev=1,e.next=4,r();case 4:Jt("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),m("Failed to log out"),console.error("Logout error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"unitheads",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return i=a.assigned,s=qx(Pw,"teamleaders"),e.next=12,Qb(s);case 12:o=e.sent,u=o.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return i.includes(e.uid)})),R(u);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),m("Failed to fetch team leader: "+e.t0.message),console.error("Fetch Team Leader error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();n&&e(n.uid)}),[n]);var cn=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"heads",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return i=a.assigned,s=qx(Pw,"unitheads"),e.next=12,Qb(s);case 12:o=e.sent,u=o.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return i.includes(e.uid)})),_(u);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),m("Failed to fetch unit heads: "+e.t0.message),console.error("Fetch Unit Heads error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){cn(n.uid)}),[]);var ln=function(){var e=p(d().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=41;break}if(!n.target.classList.contains("bigbox")){e.next=41;break}return Ue(t),r=S.find((function(e){return e.uid===t})),Ne(r),e.prev=6,a=Kx(Pw,"unitheads",t),e.next=10,Kb(a);case 10:(i=e.sent).exists()&&(s=i.data(),ze(s.tasks||[])),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),m("Failed to fetch unit head's tasks: "+e.t0.message),console.error("Fetch unit head tasks error",e.t0);case 18:return e.prev=18,o=Kx(Pw,"unitheads",t),e.next=22,Kb(o);case 22:if(!(u=e.sent).exists()){e.next=33;break}return c=u.data(),l=c.assigned||[],f=qx(Pw,"teamleaders"),h=Pb(f,Rb("uid","in",l)),e.next=30,Qb(h);case 30:p=e.sent,v=p.docs.map((function(e){return xe({id:e.id},e.data())})),R(v);case 33:e.next=39;break;case 35:e.prev=35,e.t1=e.catch(18),m("Failed to fetch TeamLeaders: "+e.t1.message),console.error("Fetch TeamLeaders error",e.t1);case 39:Qe(!0),qe(!1);case 41:case"end":return e.stop()}}),e,null,[[6,14],[18,35]])})));return function(t,n){return e.apply(this,arguments)}}(),fn=function(){var e=p(d().mark((function e(t){var n,r,a,i,s,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Kx(Pw,"unitheads",t),e.next=4,Kb(n);case 4:if(!(r=e.sent).exists()){e.next=15;break}if(!((a=r.data()).assigned&&a.assigned.length>0)){e.next=15;break}return i=a.assigned,s=qx(Pw,"teamleaders"),e.next=12,Qb(s);case 12:o=e.sent,u=o.docs.map((function(e){return xe({id:e.id},e.data())})).filter((function(e){return i.includes(e.uid)})),R(u);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),m("Failed to fetch team leader: "+e.t0.message),console.error("Fetch Team Leader error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){n&&fn(n.uid)}),[n]);var dn=function(){var e=p(d().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=42;break}if(!n.target.classList.contains("bigbox")){e.next=42;break}return $(t),e.prev=4,r=Kx(Pw,"teamleaders",t),e.next=8,Kb(r);case 8:if(!(a=e.sent).exists()){e.next=34;break}i=a.data(),s=i.assigned||[],o=[],u=v(s),e.prev=14,u.s();case 16:if((c=u.n()).done){e.next=25;break}return l=c.value,f=Kx(Pw,"supervisors",l),e.next=21,Kb(f);case 21:(h=e.sent).exists()&&(p=h.data(),o.push(p));case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(14),u.e(e.t0);case 30:return e.prev=30,u.f(),e.finish(30);case 33:Qt(o);case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(4),m("Failed to fetch Team Leader's tasks: "+e.t1.message),console.error("Fetch Team Leader tasks error",e.t1);case 40:Xe(!0),Qe(!1);case 42:case"end":return e.stop()}}),e,null,[[4,36],[14,27,30,33]])})));return function(t,n){return e.apply(this,arguments)}}(),hn=function(){var e=p(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=qx(Pw,"heads"),e.next=4,Qb(t);case 4:n=e.sent,r=n.docs.map((function(e){return e.data()})),I(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m("Failed to fetch heads: "+e.t0.message),console.error("Fetch heads error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){hn()}),[]);var pn=function(){var e=p(d().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=43;break}if(!n.target.classList.contains("bigbox")){e.next=43;break}return ot(t),e.prev=4,r=Kx(Pw,"heads",t),e.next=8,Kb(r);case 8:if(!(a=e.sent).exists()){e.next=35;break}i=a.data(),he(i.tasks||[]),s=i.assigned||[],o=[],u=v(s),e.prev=15,u.s();case 17:if((c=u.n()).done){e.next=26;break}return l=c.value,f=Kx(Pw,"unitheads",l),e.next=22,Kb(f);case 22:(h=e.sent).exists()&&(p=h.data(),o.push(p));case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),u.e(e.t0);case 31:return e.prev=31,u.f(),e.finish(31);case 34:Xt(o);case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(4),m("Failed to fetch head's tasks and unit heads: "+e.t1.message),console.error("Fetch head tasks and unit heads error",e.t1);case 41:pt(!1),qe(!0);case 43:case"end":return e.stop()}}),e,null,[[4,37],[15,28,31,34]])})));return function(t,n){return e.apply(this,arguments)}}(),vn=function(){var e=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Kx(Pw,"supervisors",t),e.next=4,Kb(r);case 4:if(!(a=e.sent).exists()){e.next=13;break}return i=a.data().assigned||[],s=[].concat(l(i),l(n)),e.next=10,$b(r,{assigned:s});case 10:Rt(!1),e.next=18;break;case 13:return e.next=15,Yb(r,{assigned:n});case 15:Rt(!1),b("Employees assigned successfully."),m("");case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error assigning employees:",e.t0),b(""),m("Error assigning Employees. Please try again later.");case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}(),mn=function(){var e=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Kx(Pw,"teamleaders",t),e.next=4,Kb(r);case 4:if(!(a=e.sent).exists()){e.next=13;break}return i=a.data().assigned||[],s=[].concat(l(i),l(n)),e.next=10,$b(r,{assigned:s});case 10:Lt(!1),e.next=18;break;case 13:return e.next=15,Yb(r,{assigned:n});case 15:Lt(!1),b("Supervisors assigned successfully."),m("");case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error assigning supervisors:",e.t0),b(""),m("Error assigning Supervisors. Please try again later.");case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}(),gn=function(){var e=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Kx(Pw,"unitheads",t),e.next=4,Kb(r);case 4:if(!(a=e.sent).exists()){e.next=13;break}return i=a.data().assigned||[],s=[].concat(l(i),l(n)),e.next=10,$b(r,{assigned:s});case 10:Ut(!1),e.next=18;break;case 13:return e.next=15,Yb(r,{assigned:n});case 15:Ut(!1),b("Team Leaders assigned successfully."),m("");case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error assigning teamleaders:",e.t0),b(""),m("Error assigning Team Leaders. Please try again later.");case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}(),yn=function(){var e=p(d().mark((function e(t,n){var r,a,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Kx(Pw,"heads",t),e.next=4,Kb(r);case 4:if(!(a=e.sent).exists()){e.next=13;break}return i=a.data().assigned||[],s=[].concat(l(i),l(n)),e.next=10,$b(r,{assigned:s});case 10:Ut(!1),e.next=18;break;case 13:return e.next=15,Yb(r,{assigned:n});case 15:Ut(!1),b("Unitheads assigned successfully."),m("");case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error assigning unitheads:",e.t0),b(""),m("Error assigning unitheads. Please try again later.");case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,Aw.jsx)(Qw,{fluid:!0,children:(0,Aw.jsxs)(Xw,{children:[(0,Aw.jsx)(tE,{sm:2,className:"bg-primary text-white p-0",children:(0,Aw.jsxs)(M_,{expand:"lg",variant:"dark",className:"d-flex flex-column vh-100",style:{backgroundColor:"#001D44"},children:[(0,Aw.jsxs)(M_.Brand,{children:[(0,Aw.jsx)("img",{src:"/Checklist/Logo.png",width:"150",height:"150",className:"d-inline-block align-top"}),(0,Aw.jsx)("h4",{children:"Checklist App"})]}),(0,Aw.jsx)(Xw,{className:"w-100 mt-4 flex-grow-1",children:(0,Aw.jsx)(tE,{className:"d-flex flex-column align-items-center justify-content-end",children:(0,Aw.jsxs)(hT,{className:"flex-column d-flex justify-content-center ml-auto",children:[(0,Aw.jsx)(hT.Link,{active:!0,className:" fs-5 d-flex align-items-center",children:(0,Aw.jsxs)(CA,{active:!0,title:"Select Role",id:"roleDropdown",children:[(0,Aw.jsx)(CA.Item,{onClick:function(){yt(!gt),bt(!1),St(!1),Ct(!1),Nt(!1)},children:"Heads"}),(0,Aw.jsx)(CA.Item,{onClick:function(){bt(!xt),yt(!1),St(!1),Ct(!1),Nt(!1)},children:"Unit Heads"}),(0,Aw.jsx)(CA.Item,{onClick:function(){St(!Et),yt(!1),bt(!1),Ct(!1),Nt(!1)},children:"Team Leaders"}),(0,Aw.jsx)(CA.Item,{onClick:function(){Ct(!Tt),yt(!1),bt(!1),St(!1),Nt(!1)},children:"Supervisors"}),(0,Aw.jsx)(CA.Item,{onClick:function(){Nt(!It),yt(!1),bt(!1),St(!1),Ct(!1)},children:"Employees"})]})}),(0,Aw.jsx)(hT.Link,{active:!0,className:"fs-5 d-flex align-items-center",children:(0,Aw.jsxs)(CA,{active:!0,title:"Assign Roles",id:"assignRoleDropdown",children:[(0,Aw.jsx)(CA.Item,{onClick:function(){return Rt(!0)},children:"Assign Employees"}),(0,Aw.jsx)(CA.Item,{onClick:function(){return Lt(!0)},children:"Assign Supervisors"}),(0,Aw.jsx)(CA.Item,{onClick:function(){return Ut(!0)},children:"Assign Team Leaders"}),(0,Aw.jsx)(CA.Item,{onClick:function(){return zt(!0)},children:"Assign Unit Heads"})]})}),(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-dashboard",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(cj,{style:{marginRight:"10px"}})," User Profile"]}),(0,Aw.jsxs)(hT.Link,{active:!0,href:"/supervisor-change-password",className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(lj,{style:{marginRight:"10px"}})," ","Change Password"]}),(0,Aw.jsxs)(hT.Link,{active:!0,onClick:un,className:"mb-3 fs-5 d-flex align-items-center",children:[(0,Aw.jsx)(uj,{style:{marginRight:"10px"}})," Logout"]})]})})})]})}),(0,Aw.jsx)(tE,{sm:10,className:"max-height",children:(0,Aw.jsxs)(Qw,{className:"border p-4",style:{marginTop:"80px"},children:[(0,Aw.jsx)(Xw,{children:(0,Aw.jsxs)(tE,{children:[(0,Aw.jsx)("h2",{className:"text-center mb-4 border-bottom pb-2",children:"Admin Dashboard"}),h&&(0,Aw.jsx)(kT,{variant:"danger",children:h}),x&&(0,Aw.jsx)(kT,{variant:"success",children:x}),ht&&(0,Aw.jsx)("div",{children:(0,Aw.jsx)(jA,{heads:j,onHeadClick:function(e,t){return pn(e,t)},toggleHeadBoxes:function(){ft(!lt)},onFilterTasks:nn})}),We&&!ht&&(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(DI,{unitHeads:$t,onUnitHeadClick:function(e,t){return ln(e,t)},toggleunitHeadBoxes:function(){rt(!nt)},onFilterTasks:nn}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){qe(!1),pt(!0)},children:"Go Back to Heads"})]}),Ge&&(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(RI,{teamLeaders:A,onFilterTasks:nn,toggleSupervisorBoxes:function(){fe(!le)},onTeamLeaderBoxClick:function(e,t){return dn(e,t)}}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){Qe(!1),qe(!0)},children:"Go Back to Unit Heads"})]}),$e&&!Ze&&(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(wI,{supervisors:Gt,onFilterTasks:nn,onSupervisorClick:function(e,t){return sn(e,t)},toggleEmployeeBoxes:function(){De(!Oe)},onSupervisorBoxClick:sn}),(0,Aw.jsx)(vj,{variant:"primary",onClick:function(){Xe(!1),Qe(!0)},children:"Go Back to Team Leaders"})]}),Ze&&(0,Aw.jsxs)("div",{children:[(0,Aw.jsx)(NI,{employees:Wt,onFilterTasks:function(e){!function(e){var t=Z.filter((function(t){return t.status===e}));Ae(t)}(e)},onEmployeeClick:function(e){Me(e)}}),(0,Aw.jsx)(vj,{type:"button",variant:"primary",onClick:function(){et(!1),Xe(!0)},children:"Go Back to Supervisors"})]}),(0,Aw.jsx)(vj,{type:"button",variant:"primary",onClick:function(){return o(!0)},children:"Assign Task"})]})}),(0,Aw.jsxs)(Nj,{show:s,onHide:function(){return o(!1)},children:[(0,Aw.jsx)(Nj.Header,{closeButton:!0,children:(0,Aw.jsx)(Nj.Title,{children:"Assign Task"})}),(0,Aw.jsx)(Nj.Body,{children:(0,Aw.jsx)("div",{className:"mb-3",children:(0,Aw.jsxs)(bI,{onSubmit:function(e){e.preventDefault(),an(e)},children:[(0,Aw.jsxs)(bI.Group,{controlId:"project",children:[(0,Aw.jsx)(bI.Label,{children:"Project"}),(0,Aw.jsx)(bI.Control,{type:"text",name:"project",value:W.project,onChange:Zt,required:!0})]}),(0,Aw.jsxs)(bI.Group,{controlId:"taskName",children:[(0,Aw.jsx)(bI.Label,{children:"Task Name"}),(0,Aw.jsx)(bI.Control,{type:"text",name:"taskName",value:W.taskName,onChange:Zt,required:!0})]}),(0,Aw.jsxs)(bI.Group,{controlId:"subtaskName",children:[(0,Aw.jsx)(bI.Label,{children:"Subtask Name"}),(0,Aw.jsx)(bI.Control,{type:"text",name:"subtaskName",value:W.subtaskName,onChange:Zt,required:!0})]}),(0,Aw.jsxs)(bI.Group,{controlId:"members",children:[(0,Aw.jsx)(bI.Label,{children:"Members"}),(0,Aw.jsx)(bI.Control,{type:"number",name:"members",value:W.members,onChange:Zt,required:!0})]}),(0,Aw.jsxs)(bI.Group,{controlId:"status",children:[(0,Aw.jsx)(bI.Label,{children:"Status"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"status",value:W.status,onChange:Zt,required:!0,children:[(0,Aw.jsx)("option",{value:"completed",children:"Completed"}),(0,Aw.jsx)("option",{value:"pending",children:"Pending"}),(0,Aw.jsx)("option",{value:"Work in Progress",children:"Work in Progress"})]})]}),(0,Aw.jsxs)(bI.Group,{controlId:"heads",children:[(0,Aw.jsx)(bI.Label,{children:"Heads"}),j.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.id,label:e.name,value:e.name,onChange:Zt,name:"heads"},e.id)}))]}),(0,Aw.jsxs)(bI.Group,{controlId:"unitheads",children:[(0,Aw.jsx)(bI.Label,{children:"Unit Heads"}),S.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.id,label:e.name,value:e.name,onChange:Zt,name:"unitheads"},e.id)}))]}),(0,Aw.jsxs)(bI.Group,{controlId:"TeamLeaders",children:[(0,Aw.jsx)(bI.Label,{children:"Team Leaders"}),A.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.id,label:e.name,value:e.name,onChange:Zt,name:"TeamLeaders"},e.id)}))]}),(0,Aw.jsxs)(bI.Group,{controlId:"supervisors",children:[(0,Aw.jsx)(bI.Label,{children:"Supervisors"}),L.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.id,label:e.name,value:e.name,onChange:Zt,name:"supervisors"},e.id)}))]}),(0,Aw.jsxs)(bI.Group,{controlId:"employees",children:[(0,Aw.jsx)(bI.Label,{children:"Employees"}),V.map((function(e){return(0,Aw.jsx)(bI.Check,{type:"checkbox",id:e.id,label:e.name,value:e.name,onChange:Zt,name:"employees"},e.id)}))]}),(0,Aw.jsxs)(bI.Group,{controlId:"endDate",children:[(0,Aw.jsx)(bI.Label,{children:"End Date"}),(0,Aw.jsx)(bI.Control,{type:"date",name:"endDate",value:W.endDate,onChange:Zt,required:!0})]}),(0,Aw.jsxs)(bI.Group,{controlId:"priority",children:[(0,Aw.jsx)(bI.Label,{children:"Priority"}),(0,Aw.jsxs)(bI.Control,{as:"select",name:"priority",value:W.priority,onChange:Zt,required:!0,children:[(0,Aw.jsx)("option",{value:"low",children:"Low"}),(0,Aw.jsx)("option",{value:"medium",children:"Medium"}),(0,Aw.jsx)("option",{value:"high",children:"High"})]})]}),(0,Aw.jsx)(vj,{type:"submit",className:"w-100",children:"Add Task"})]})})})]}),(0,Aw.jsxs)("div",{className:"w-100 text-center mt-2",children:[gt&&(0,Aw.jsx)("div",{children:(0,Aw.jsx)(jA,{heads:j,onFilterTasks:nn,onHeadClick:function(e,t){}})}),xt&&(0,Aw.jsx)("div",{children:(0,Aw.jsx)(DI,{unitHeads:S,onFilterTasks:nn,onUnitHeadClick:function(e,t){}})}),Et&&(0,Aw.jsx)("div",{children:(0,Aw.jsx)(RI,{teamLeaders:A,onFilterTasks:nn,onTeamLeaderBoxClick:function(e,t){}})}),Tt&&(0,Aw.jsx)("div",{children:(0,Aw.jsx)(wI,{supervisors:L,onFilterTasks:nn,onSupervisorBoxClick:function(e,t){}})}),It&&(0,Aw.jsx)("div",{children:(0,Aw.jsx)(NI,{employees:V,onFilterTasks:nn,onEmployeeBoxClick:function(e,t){}})})]}),(0,Aw.jsxs)(Nj,{show:At,onHide:function(){return Rt(!1)},children:[(0,Aw.jsx)(Nj.Header,{closeButton:!0,children:(0,Aw.jsx)(Nj.Title,{children:"Assign Employees"})}),(0,Aw.jsx)(Nj.Body,{children:(0,Aw.jsx)(IA,{supervisors:L,employees:V,onAssignEmployee:vn})})]}),(0,Aw.jsxs)(Nj,{show:Dt,onHide:function(){return Lt(!1)},children:[(0,Aw.jsx)(Nj.Header,{closeButton:!0,children:(0,Aw.jsx)(Nj.Title,{children:"Assign Supervisors"})}),(0,Aw.jsx)(Nj.Body,{children:(0,Aw.jsx)(NA,{teamLeaders:A,supervisors:L,onAssignSupervisor:mn})})]}),(0,Aw.jsxs)(Nj,{show:Ft,onHide:function(){return Ut(!1)},children:[(0,Aw.jsx)(Nj.Header,{closeButton:!0,children:(0,Aw.jsx)(Nj.Title,{children:"Assign Teamleaders"})}),(0,Aw.jsx)(Nj.Body,{children:(0,Aw.jsx)(PA,{teamLeaders:A,unitHeads:S,onAssignTeamLeader:gn})})]}),(0,Aw.jsxs)(Nj,{show:Bt,onHide:function(){return zt(!1)},children:[(0,Aw.jsx)(Nj.Header,{closeButton:!0,children:(0,Aw.jsx)(Nj.Title,{children:"Assign Unitheads"})}),(0,Aw.jsx)(Nj.Body,{children:(0,Aw.jsx)(AA,{unitHeads:S,onAssignUnitHead:yn})})]})]})})]})})}function OA(){var e=Ow().currentUser;return"Employee"===e.role?(0,Aw.jsx)(fj,{}):"Supervisor"===e.role?(0,Aw.jsx)(AI,{}):"TeamLeader"===e.role?(0,Aw.jsx)(PI,{}):"UnitHead"===e.role?(0,Aw.jsx)(OI,{}):"Admin"===e.role?(0,Aw.jsx)(RA,{}):"Head"===e.role?(0,Aw.jsx)(LI,{}):(0,Aw.jsx)("div",{children:"Unknown role"})}var DA=function(){return(0,Aw.jsx)(BI,{children:(0,Aw.jsx)(Dw,{children:(0,Aw.jsxs)($C,{children:[(0,Aw.jsx)(QC,{path:"/signup",element:(0,Aw.jsx)(YI,{})}),(0,Aw.jsx)(QC,{path:"/",element:(0,Aw.jsx)(QI,{})}),(0,Aw.jsx)(QC,{path:"/forgot-password",element:(0,Aw.jsx)($I,{})}),(0,Aw.jsx)(QC,{path:"/Dashboard",element:(0,Aw.jsx)(OA,{})}),(0,Aw.jsx)(QC,{path:"/EmployeeDashboard",element:(0,Aw.jsx)(fj,{})}),(0,Aw.jsx)(QC,{path:"/supervisors/:supervisorId/dashboard",element:(0,Aw.jsx)(AI,{})}),(0,Aw.jsx)(QC,{path:"/TeamLeaderDashboard",element:(0,Aw.jsx)(PI,{})}),(0,Aw.jsx)(QC,{path:"/UnitHeadDashboard",element:(0,Aw.jsx)(OI,{})}),(0,Aw.jsx)(QC,{path:"/AdminDashboard",element:(0,Aw.jsx)(RA,{})}),(0,Aw.jsx)(QC,{path:"/HeadDashboard",element:(0,Aw.jsx)(LI,{})})]})})})};r.createRoot(document.getElementById("root")).render((0,Aw.jsx)(e.StrictMode,{children:(0,Aw.jsx)(DA,{})}))}()}();
//# sourceMappingURL=main.25b12ba2.js.map